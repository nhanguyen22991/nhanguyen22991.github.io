"use strict";(self.webpackChunkcheapflightclient=self.webpackChunkcheapflightclient||[]).push([[6414],{53911:(te,L,p)=>{p.d(L,{t:()=>ue});var h=p(80529),c=p(88001),l=p(97582),g=p(87067),v=p(43429);let y=(()=>{class _{}return(0,l.gn)([(0,g.C)()],_.prototype,"status",void 0),(0,l.gn)([(0,v.D)(()=>I),(0,g.C)()],_.prototype,"data",void 0),(0,l.gn)([(0,g.C)()],_.prototype,"objectError",void 0),(0,l.gn)([(0,g.C)()],_.prototype,"success",void 0),_})(),I=(()=>{class _{}return(0,l.gn)([(0,g.C)()],_.prototype,"id",void 0),(0,l.gn)([(0,g.C)()],_.prototype,"username",void 0),(0,l.gn)([(0,g.C)()],_.prototype,"displayName",void 0),_})(),N=(()=>{class _{}return(0,l.gn)([(0,g.C)()],_.prototype,"status",void 0),(0,l.gn)([(0,v.D)(()=>e),(0,g.C)()],_.prototype,"data",void 0),(0,l.gn)([(0,g.C)()],_.prototype,"objectError",void 0),(0,l.gn)([(0,g.C)()],_.prototype,"success",void 0),_})(),e=(()=>{class _{}return(0,l.gn)([(0,g.C)()],_.prototype,"bankAccountName",void 0),(0,l.gn)([(0,g.C)()],_.prototype,"bankAccountNumber",void 0),(0,l.gn)([(0,g.C)()],_.prototype,"bankName",void 0),_})(),K=(()=>{class _{}return(0,l.gn)([(0,g.C)()],_.prototype,"status",void 0),(0,l.gn)([(0,v.D)(()=>x),(0,g.C)()],_.prototype,"data",void 0),(0,l.gn)([(0,g.C)()],_.prototype,"objectError",void 0),(0,l.gn)([(0,g.C)()],_.prototype,"success",void 0),_})(),x=(()=>{class _{}return(0,l.gn)([(0,g.C)()],_.prototype,"id",void 0),(0,l.gn)([(0,g.C)()],_.prototype,"transactionCode",void 0),(0,l.gn)([(0,g.C)()],_.prototype,"dateCreated",void 0),(0,l.gn)([(0,g.C)()],_.prototype,"dateProcessed",void 0),(0,l.gn)([(0,g.C)()],_.prototype,"bankTransactionCode",void 0),(0,l.gn)([(0,g.C)()],_.prototype,"bankName",void 0),(0,l.gn)([(0,g.C)()],_.prototype,"bankNumber",void 0),(0,l.gn)([(0,g.C)()],_.prototype,"bankAccountName",void 0),(0,l.gn)([(0,g.C)()],_.prototype,"amount",void 0),(0,l.gn)([(0,g.C)()],_.prototype,"actuallyAmount",void 0),(0,l.gn)([(0,g.C)()],_.prototype,"content",void 0),(0,l.gn)([(0,g.C)()],_.prototype,"status",void 0),(0,l.gn)([(0,g.C)()],_.prototype,"agentName",void 0),(0,l.gn)([(0,g.C)()],_.prototype,"errorCode",void 0),(0,l.gn)([(0,g.C)()],_.prototype,"errorDetail",void 0),(0,l.gn)([(0,g.C)()],_.prototype,"source",void 0),(0,l.gn)([(0,g.C)()],_.prototype,"processStatus",void 0),_})(),b=(()=>{class _{}return(0,l.gn)([(0,g.C)()],_.prototype,"status",void 0),(0,l.gn)([(0,v.D)(()=>x),(0,g.C)()],_.prototype,"data",void 0),(0,l.gn)([(0,g.C)()],_.prototype,"objectError",void 0),(0,l.gn)([(0,g.C)()],_.prototype,"success",void 0),_})(),w=(()=>{class _{}return(0,l.gn)([(0,g.C)()],_.prototype,"status",void 0),(0,l.gn)([(0,v.D)(()=>x),(0,g.C)()],_.prototype,"data",void 0),(0,l.gn)([(0,g.C)()],_.prototype,"objectError",void 0),(0,l.gn)([(0,g.C)()],_.prototype,"success",void 0),_})();var q=p(54004),z=p(50494),ee=p(94650);const B={headers:new h.WM({"Content-Type":"application/json"})};let ue=(()=>{class _{constructor(Z,Q){this.http=Z,this.appConfig=Q}getListAgentForTopup(){return this.http.get(this.appConfig.apiUrl+"payment/get-list-agent-for-top-up",B).pipe((0,q.U)(Z=>(0,z.yE)(y,Z,{excludeExtraneousValues:!0})))}getListBank(){return this.http.get(this.appConfig.apiUrl+"payment/bank-list",B).pipe((0,q.U)(Z=>(0,z.yE)(N,Z,{excludeExtraneousValues:!0})))}deposit(Z){return this.http.post(this.appConfig.apiUrl+"payment/create-topup-session",JSON.stringify(Z),B).pipe((0,q.U)(Q=>(0,z.yE)(b,Q,{excludeExtraneousValues:!0})))}getTopupDetail(Z){return this.http.get(this.appConfig.apiUrl+"payment/topup-detail?id="+Z).pipe((0,q.U)(Q=>(0,z.yE)(b,Q,{excludeExtraneousValues:!0})))}getListTransactionHistory(Z){return this.http.post(this.appConfig.apiUrl+"payment/list-topup",JSON.stringify(Z),B).pipe((0,q.U)(Q=>(0,z.yE)(K,Q,{excludeExtraneousValues:!0})))}changeTopupStatus(Z){return this.http.post(this.appConfig.apiUrl+"payment/change-topup-status",JSON.stringify(Z),B).pipe((0,q.U)(Q=>(0,z.yE)(w,Q,{excludeExtraneousValues:!0})))}createMissingTopup(Z){return this.http.post(this.appConfig.apiUrl+"payment/create-missing-topup",JSON.stringify(Z),B).pipe((0,q.U)(Q=>(0,z.yE)(w,Q,{excludeExtraneousValues:!0})))}previewVirtualAccountRegistration(Z){return this.http.get(this.appConfig.apiUrl+"payment/virtual-account-registration-preview?userId="+Z,B)}registerVirtualAccount(Z){return this.http.post(this.appConfig.apiUrl+"payment/register-virtual-account",JSON.stringify(Z),B)}getVirtualAccountInfo(Z){return this.http.get(this.appConfig.apiUrl+"payment/virtual-account?userId="+Z,B)}}return _.\u0275fac=function(Z){return new(Z||_)(ee.LFG(h.eN),ee.LFG(c.qB))},_.\u0275prov=ee.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},25614:(te,L,p)=>{p.d(L,{j:()=>c});var h=p(94650);let c=(()=>{class l{constructor(){this.regex=new RegExp(/^[a-zA-Z0-9]*$/)}onInput(v){const y=v.target,I=y.value;if(!this.regex.test(I)){const N=I.replace(/[^a-zA-Z0-9]*/g,"");y.value=N,y.dispatchEvent(new Event("input",{bubbles:!0}))}}}return l.\u0275fac=function(v){return new(v||l)},l.\u0275dir=h.lG2({type:l,selectors:[["","CfAlphanumeric",""]],hostBindings:function(v,y){1&v&&h.NdJ("input",function(N){return y.onInput(N)})},standalone:!0}),l})()},7453:(te,L,p)=>{p.d(L,{z:()=>c});var h=p(94650);let c=(()=>{class l{onInput(v){const y=v.target,I=y.value;if(!/^[0-9]*$/.test(I)){const e=I.replace(/[^0-9]*/g,"");y.value=e,y.dispatchEvent(new Event("input",{bubbles:!0}))}}}return l.\u0275fac=function(v){return new(v||l)},l.\u0275dir=h.lG2({type:l,selectors:[["","CfNumberic",""]],hostBindings:function(v,y){1&v&&h.NdJ("input",function(N){return y.onInput(N)})},standalone:!0}),l})()},16414:(te,L,p)=>{p.r(L),p.d(L,{AgentDetailPageComponent:()=>or,AgentManagePageComponent:()=>si,CreateAgentPageComponent:()=>an,CreateTitlePageComponent:()=>Te,CreateUserPageComponent:()=>Rn,TitleManagePageComponent:()=>Ne,UserDetailPageComponent:()=>io,UserManagePageComponent:()=>rt});var h=p(36895),c=p(24006),l=p(44143),g=p(27898),v=p(83700),y=p(62331),I=p(4128),N=p(74713),e=p(94650),K=p(14580),x=p(82761),b=p(2225);function w(n,a){1&n&&e._UZ(0,"cf-input-hint",19),2&n&&e.Q6J("hint","Nh\u1eadp t\xean ch\u1ee9c v\u1ee5")}function q(n,a){1&n&&e._UZ(0,"cf-input-hint",19),2&n&&e.Q6J("hint","Nh\u1eadp m\xe3 ch\u1ee9c v\u1ee5")}function z(n,a){1&n&&e._UZ(0,"cf-input-hint",19),2&n&&e.Q6J("hint","Ch\u1ecdn lo\u1ea1i ch\u1ee9c v\u1ee5")}function ee(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",20)(1,"div")(2,"cf-checkbox",21),e.NdJ("checkChange",function(o){const s=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.roleChange(o,s))}),e.TgZ(3,"div",22),e._uU(4),e.qZA()()()()}if(2&n){const t=a.$implicit;e.xp6(2),e.Q6J("checked",t.actived),e.xp6(2),e.hij(" ",t.name," ")}}function B(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",20)(1,"div")(2,"cf-checkbox",21),e.NdJ("checkChange",function(o){const s=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.roleChange(o,s))}),e.TgZ(3,"div",22),e._uU(4),e.qZA()()()()}if(2&n){const t=a.$implicit;e.xp6(2),e.Q6J("checked",t.actived),e.xp6(2),e.hij(" ",t.name," ")}}function ue(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",20)(1,"div")(2,"cf-checkbox",23),e.NdJ("checkChange",function(o){const s=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.titleUpChange(o,s))}),e.TgZ(3,"div",22),e._uU(4),e.qZA()()()()}if(2&n){const t=a.$implicit;e.xp6(2),e.Q6J("disabled",t.disabled)("checked",t.actived),e.xp6(2),e.hij(" ",t.name," ")}}function _(n,a){if(1&n&&(e.TgZ(0,"div",11)(1,"div",12)(2,"div",13),e._uU(3,"Ch\u1ee9c v\u1ee5 c\xf3 th\u1ec3 l\xean"),e.qZA(),e.TgZ(4,"div",14),e.YNc(5,ue,5,3,"div",15),e.qZA()()()),2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.titleUps)}}function Y(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",20)(1,"div")(2,"cf-checkbox",23),e.NdJ("checkChange",function(o){const s=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.titleDownChange(o,s))}),e.TgZ(3,"div",22),e._uU(4),e.qZA()()()()}if(2&n){const t=a.$implicit;e.xp6(2),e.Q6J("disabled",t.disabled)("checked",t.actived),e.xp6(2),e.hij(" ",t.name," ")}}function Z(n,a){if(1&n&&(e.TgZ(0,"div",11)(1,"div",12)(2,"div",13),e._uU(3,"Ch\u1ee9c v\u1ee5 c\xf3 th\u1ec3 xu\u1ed1ng"),e.qZA(),e.TgZ(4,"div",14),e.YNc(5,Y,5,3,"div",15),e.qZA()()()),2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.titleDowns)}}function Q(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.submit())}),e._uU(1,"T\u1ea1o m\u1edbi"),e.qZA()}}function ye(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.submit())}),e._uU(1,"L\u01b0u"),e.qZA()}}let Te=(()=>{class n{constructor(t,i,o,r,s,d){if(this._fb=t,this._roleService=i,this._router=o,this._toastService=r,this._route=s,this._titleService=d,this.allRoles=[],this.allRoleAdvance=[],this.titleUps=[],this.titleDowns=[],this.enabledRole=[],this.enableRoleAdvance=[],this.enabledTitleUp=[],this.enabledTitleDown=[],this.optionTitleType=[],this.editMode=!1,this.titleForm=t.group({name:["",c.kI.required],code:["",c.kI.required],type:["",c.kI.required]}),s.snapshot.params.id){this.editMode=!0,this.id=s.snapshot.params.id;const m=[this._titleService.getAllTitleType(),this._roleService.getAllRole(),this._titleService.getAllTitle(),d.getTitle(this.id)];(0,I.D)(m).subscribe({next:f=>{this.initTitleType(f[0]),this.initRoles(f[1]),this.initTitle(f[2]),this.initEditTitle(f[3])}})}else{const m=[this._titleService.getAllTitleType(),this._roleService.getAllRole(),this._titleService.getAllTitle()];(0,I.D)(m).subscribe({next:f=>{this.initTitleType(f[0]),this.initRoles(f[1]),this.initTitle(f[2])}})}}initTitleType(t){this.optionTitleType=t.data}initRoles(t){this.allRoles=t.data.map(i=>({name:i.name,id:i.id,actived:!1})),this.allRoleAdvance=t.data.map(i=>({name:i.name,id:i.id,actived:!1}))}initEditTitle(t){this.titleForm.controls.name.setValue(t.data.name),this.titleForm.controls.code.setValue(t.data.code),this.titleForm.controls.type.setValue(t.data.type),this.allRoles.forEach(i=>{t.data.roleIds.includes(i.id)&&(i.actived=!0)}),this.allRoleAdvance.forEach(i=>{t.data.roleCanAdvances.includes(i.id)&&(i.actived=!0)}),this.titleUps.forEach(i=>{t.data.titleIdsCanUp.includes(i.id)&&this.titleUpChange(!0,i)}),this.titleDowns.forEach(i=>{t.data.titleIdsCanDown.includes(i.id)&&this.titleDownChange(!0,i)})}initTitle(t){this.titleUps=t.data.filter(i=>i.id!==this.id).map(i=>({id:i.id,name:i.name,actived:!1,disabled:!1})),this.titleDowns=t.data.filter(i=>i.id!==this.id).map(i=>({id:i.id,name:i.name,actived:!1,disabled:!1}))}submit(){this.enabledRole=this.allRoles.filter(t=>t.actived).map(t=>t.id),this.enableRoleAdvance=this.allRoleAdvance.filter(t=>t.actived).map(t=>t.id),this.enabledTitleUp=this.titleUps.filter(t=>t.actived).map(t=>t.id),this.enabledTitleDown=this.titleDowns.filter(t=>t.actived).map(t=>t.id),this.titleForm.valid&&(this.editMode?this.processUpdateTitle():this.processCreateTitle())}processUpdateTitle(){this._titleService.updateTitle({id:this.id,name:this.titleForm.controls.name.value,code:this.titleForm.controls.code.value,type:this.titleForm.controls.type.value,roleIds:this.enabledRole,roleCanAdvances:this.enableRoleAdvance,titleIdsCanUp:this.enabledTitleUp,titleIdsCanDown:this.enabledTitleDown}).subscribe({next:t=>{this._router.navigate(["admin/title-manage"])},error:()=>{this._toastService.add({severity:"error",summary:"C\xf3 l\u1ed7i x\u1ea3y ra",detail:"",sticky:!0})}})}processCreateTitle(){this._titleService.createTitle({name:this.titleForm.controls.name.value,code:this.titleForm.controls.code.value,type:this.titleForm.controls.type.value,roleIds:this.enabledRole,roleCanAdvances:this.enableRoleAdvance,titleIdsCanUp:this.enabledTitleUp,titleIdsCanDown:this.enabledTitleDown}).subscribe({next:t=>{this._router.navigate(["admin/title-manage"])},error:()=>{this._toastService.add({severity:"error",summary:"C\xf3 l\u1ed7i x\u1ea3y ra",detail:"",sticky:!0})}})}roleChange(t,i){i.actived=t}typeChange(t){this.titleForm.controls.type.setValue(t.code)}titleUpChange(t,i){if(i.actived=t,t){const o=this.titleDowns.find(r=>r.id===i.id);o&&(o.disabled=!0)}else{const o=this.titleDowns.find(r=>r.id===i.id);o&&(o.disabled=!1)}}titleDownChange(t,i){if(i.actived=t,t){const o=this.titleUps.find(r=>r.id===i.id);o&&(o.disabled=!0)}else{const o=this.titleUps.find(r=>r.id===i.id);o&&(o.disabled=!1)}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.qu),e.Y36(K.Nj),e.Y36(x.F0),e.Y36(y.BX),e.Y36(x.gz),e.Y36(b.yD))},n.\u0275cmp=e.Xpm({type:n,selectors:[["create-title-page"]],standalone:!0,features:[e.jDz],decls:39,vars:18,consts:[[1,"flex","justify-center","py-4","px-[30px]","rounded-lg"],[1,"bg-neutral-white","rounded-lg","shadow-cf-md","w-[1000px]","max-w-[1000px]"],[1,"p-4","flex","justify-between","items-center"],[1,"text-heading-sm"],[1,"p-4"],[1,"grow-[400]","!w-full",3,"status"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5"],["cf-input","","size","medium","placeholder","Nh\u1eadp t\xean",3,"formControl"],["cfHint","",3,"hint",4,"ngIf"],["cf-input","","size","medium","placeholder","Nh\u1eadp m\xe3 ch\u1ee9c v\u1ee5",3,"formControl"],["textField","name","valueField","code","placeholder","Ch\u1ecdn lo\u1ea1i ch\u1ee9c v\u1ee5",1,"!max-w-none",3,"status","data","allowSearch","ngModel","selectedChange"],[1,"p-4","pt-0","flex","flex-col","gap-y-6"],[1,"flex","flex-col","items-start","gap-y-4"],[1,"text-espressive-md"],[1,"pl-2","flex","flex-wrap","gap-y-4","w-full"],["class","flex items-center w-1/2",4,"ngFor","ngForOf"],["class","p-4 pt-0 flex flex-col gap-y-6",4,"ngIf"],[1,"p-4","flex","justify-end"],["cf-button","","size","medium","color","primary-1",3,"click",4,"ngIf"],["cfHint","",3,"hint"],[1,"flex","items-center","w-1/2"],["size","medium",3,"checked","checkChange"],[1,"text-espressive-md","text-neutral-gray-5"],["size","medium",3,"disabled","checked","checkChange"],["cf-button","","size","medium","color","primary-1",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4,"Th\xeam m\u1edbi ch\u1ee9c v\u1ee5"),e.qZA()(),e.TgZ(5,"div",4)(6,"cf-input-group",5)(7,"label",6),e._uU(8," T\xean ch\u1ee9c v\u1ee5 "),e.qZA(),e._UZ(9,"input",7),e.YNc(10,w,1,1,"cf-input-hint",8),e.qZA(),e.TgZ(11,"cf-input-group",5)(12,"label",6),e._uU(13," M\xe3 ch\u1ee9c v\u1ee5 "),e.qZA(),e._UZ(14,"input",9),e.YNc(15,q,1,1,"cf-input-hint",8),e.qZA(),e.TgZ(16,"cf-select",10),e.NdJ("selectedChange",function(r){return i.typeChange(r)}),e.TgZ(17,"label",6)(18,"span"),e._uU(19,"Lo\u1ea1i ch\u1ee9c v\u1ee5"),e.qZA()(),e.YNc(20,z,1,1,"cf-input-hint",8),e.qZA()(),e.TgZ(21,"div",11)(22,"div",12)(23,"div",13),e._uU(24,"Ch\u1ecdn quy\u1ec1n c\u01a1 b\u1ea3n"),e.qZA(),e.TgZ(25,"div",14),e.YNc(26,ee,5,2,"div",15),e.qZA()()(),e.TgZ(27,"div",11)(28,"div",12)(29,"div",13),e._uU(30,"Ch\u1ecdn quy\u1ec1n n\xe2ng cao c\xf3 th\u1ec3 c\xf3"),e.qZA(),e.TgZ(31,"div",14),e.YNc(32,B,5,2,"div",15),e.qZA()()(),e.YNc(33,_,6,1,"div",16),e.YNc(34,Z,6,1,"div",16),e.TgZ(35,"div",17),e.YNc(36,Q,2,0,"button",18),e.YNc(37,ye,2,0,"button",18),e.qZA()()(),e._UZ(38,"cf-toast")),2&t&&(e.xp6(6),e.Q6J("status",i.titleForm.controls.name.invalid&&(i.titleForm.controls.name.dirty||i.titleForm.controls.name.touched)?"error":"default"),e.xp6(3),e.Q6J("formControl",i.titleForm.controls.name),e.xp6(1),e.Q6J("ngIf",(null==i.titleForm.controls.name.errors?null:i.titleForm.controls.name.errors.required)&&(i.titleForm.controls.name.dirty||i.titleForm.controls.name.touched)),e.xp6(1),e.Q6J("status",i.titleForm.controls.code.invalid&&(i.titleForm.controls.code.dirty||i.titleForm.controls.code.touched)?"error":"default"),e.xp6(3),e.Q6J("formControl",i.titleForm.controls.code),e.xp6(1),e.Q6J("ngIf",(null==i.titleForm.controls.code.errors?null:i.titleForm.controls.code.errors.required)&&(i.titleForm.controls.code.dirty||i.titleForm.controls.code.touched)),e.xp6(1),e.Q6J("status",i.titleForm.controls.type.invalid&&(i.titleForm.controls.type.dirty||i.titleForm.controls.type.touched)?"error":"default")("data",i.optionTitleType)("allowSearch",!1)("ngModel",i.titleForm.controls.type.value)("allowSearch",!0),e.xp6(4),e.Q6J("ngIf",i.titleForm.controls.type.hasError("required")&&i.titleForm.controls.type.touched),e.xp6(6),e.Q6J("ngForOf",i.allRoles),e.xp6(6),e.Q6J("ngForOf",i.allRoleAdvance),e.xp6(1),e.Q6J("ngIf",i.titleUps.length>0),e.xp6(1),e.Q6J("ngIf",i.titleDowns.length>0),e.xp6(2),e.Q6J("ngIf",!i.editMode),e.xp6(1),e.Q6J("ngIf",i.editMode))},dependencies:[h.ez,h.sg,h.O5,c.u5,c.Fj,c.JJ,c.On,c.UX,c.oH,l.j$,l.ND,l.BN,l.v2,g.u,v.N8,v.Xq,y.hj,N.q],encapsulation:2}),n})();var u=p(72506),M=p(48373),k=p(67534),U=p(28746);function Ze(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr",12)(1,"td",13),e._uU(2),e.qZA(),e.TgZ(3,"td",13),e._uU(4),e.qZA(),e.TgZ(5,"td",14)(6,"button",15),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.edit(r.id))}),e._uU(7,"S\u1eeda"),e.qZA()()()}if(2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.type)}}function De(n,a){1&n&&e._UZ(0,"cf-spinner")}const Fe=function(){return{num:25}},be=function(){return{num:50}},ke=function(){return{num:75}},Ie=function(){return{num:100}},Ue=function(n,a,t,i){return[n,a,t,i]};let Ne=(()=>{class n{constructor(t,i,o){this._titleService=i,this._router=o,this.listOfData=[],this.pageSize=25,this.currentPage=1,this.isLoading=!1,this.sortChange=(r,s)=>{let d=s.map(m=>m);for(let m=0;m<r.length;m++){const f=r[m];"name"===f.key&&(d=d.sort("ascend"===f.sort?(A,E)=>this.increaseAlphabetSort(A.name,E.name):(A,E)=>this.decreaseAlphabetSort(A.name,E.name)))}return d},this.searchChange=(r,s)=>s,this.increaseAlphabetSort=(r,s)=>r<s?-1:r>s?1:0,this.decreaseAlphabetSort=(r,s)=>r>s?-1:r<s?1:0,t.registerIcons([]),this.onSearch()}onSearch(){this.isLoading=!0,this._titleService.getAllTitle().pipe((0,U.x)(()=>this.isLoading=!1)).subscribe({next:t=>{this.listOfData=t.data}})}checkChange(t){this.pageSize=parseInt(t)}addTitle(){this._router.navigate(["admin/create-title"])}edit(t){this._router.navigate([`admin/edit-title/${t}`])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.KNP),e.Y36(b.yD),e.Y36(x.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-title-manage-page"]],standalone:!0,features:[e.jDz],decls:19,vars:18,consts:[[1,"py-4","px-[30px]","rounded-lg","flex","justify-center"],[1,"bg-neutral-white","rounded-lg","shadow-cf-md","max-w-[1000px]","w-[1000px]"],[1,"p-4","flex","justify-between","items-center"],[1,"text-heading-sm"],["cf-button","","type","secondary",3,"click"],[1,"",3,"fnSort","fnSearch","pageSizeList","listData","pageSize"],["managerTable",""],["cf-thead",""],["cf-th","",1,"whitespace-nowrap",3,"sortName"],["cf-th","",1,"whitespace-nowrap","flex","justify-end"],["ngFor","",3,"ngForOf"],[4,"ngIf"],[1,"border-b","border-neutral-gray-1"],["cf-td","",1,"py-2","px-3","text-body-sm"],["cf-td","",1,"py-2","px-3","flex","justify-end"],["cf-button","","size","small","type","secondary",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4,"Qu\u1ea3n l\xfd ch\u1ee9c v\u1ee5"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return i.addTitle()}),e._uU(6," Th\xeam ch\u1ee9c v\u1ee5 "),e.qZA()(),e.TgZ(7,"cf-table",5,6)(9,"thead",7)(10,"th",8),e._uU(11,"Ch\u1ee9c v\u1ee5"),e.qZA(),e.TgZ(12,"th",8),e._uU(13,"Lo\u1ea1i"),e.qZA(),e.TgZ(14,"th",9),e._uU(15,"Thao t\xe1c"),e.qZA()(),e.TgZ(16,"tbody"),e.YNc(17,Ze,8,2,"ng-template",10),e.qZA()()()(),e.YNc(18,De,1,0,"cf-spinner",11)),2&t){const o=e.MAs(8);e.xp6(7),e.Q6J("fnSort",i.sortChange)("fnSearch",i.searchChange)("pageSizeList",e.l5B(13,Ue,e.DdM(9,Fe),e.DdM(10,be),e.DdM(11,ke),e.DdM(12,Ie)))("listData",i.listOfData)("pageSize",i.pageSize),e.xp6(3),e.Q6J("sortName","name"),e.xp6(2),e.Q6J("sortName","name"),e.xp6(5),e.Q6J("ngForOf",o.partOfdata),e.xp6(1),e.Q6J("ngIf",i.isLoading)}},dependencies:[h.ez,h.sg,h.O5,u.AxE,v.N8,v.Xq,M.rC,M.E_,M.zs,M.qS,k.OR],encapsulation:2}),n})();var O=p(10908),ne=p(4688),G=p(19123),C=p(40899),ie=p(77296),ge=p(74891),oe=p(98184);function we(n,a){1&n&&e._UZ(0,"cf-icon",11)}function qe(n,a){1&n&&e._UZ(0,"cf-icon",12)}function Pe(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Ho\u1ea1t \u0111\u1ed9ng"),e.qZA())}function Je(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Ng\u01b0ng ho\u1ea1t \u0111\u1ed9ng"),e.qZA())}function Se(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",14)(2,"div",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.stateChange("ACTIVE"))}),e._uU(3," Ho\u1ea1t \u0111\u1ed9ng"),e.qZA(),e.TgZ(4,"div",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.stateChange("BLOCK"))}),e._uU(5," Ng\u01b0ng ho\u1ea1t \u0111\u1ed9ng"),e.qZA()()()}}function Qe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",4,5),e.NdJ("click",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.click(o))}),e.YNc(3,we,1,0,"cf-icon",6),e.YNc(4,qe,1,0,"cf-icon",7),e.TgZ(5,"div",8),e.YNc(6,Pe,2,0,"div",0),e.YNc(7,Je,2,0,"div",0),e.qZA(),e._UZ(8,"cf-icon",9),e.qZA(),e.YNc(9,Se,6,0,"ng-template",10),e.NdJ("overlayOutsideClick",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.outsideClick(o))}),e.qZA()}if(2&n){const t=e.MAs(2),i=e.oxw(2);e.xp6(3),e.Q6J("ngIf","ACTIVE"===i.state),e.xp6(1),e.Q6J("ngIf","BLOCK"===i.state),e.xp6(2),e.Q6J("ngIf","ACTIVE"===i.state),e.xp6(1),e.Q6J("ngIf","BLOCK"===i.state),e.xp6(2),e.Q6J("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",i.isOpen)("cdkConnectedOverlayPositions",i.bottomCenter)}}function Me(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Ho\u1ea1t \u0111\u1ed9ng"),e.qZA())}function Be(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"Ng\u01b0ng ho\u1ea1t \u0111\u1ed9ng"),e.qZA())}function Ye(n,a){if(1&n&&(e.YNc(0,Me,2,0,"div",0),e.YNc(1,Be,2,0,"div",0)),2&n){const t=e.oxw(2);e.Q6J("ngIf","ACTIVE"===t.state),e.xp6(1),e.Q6J("ngIf","BLOCK"===t.state)}}function Oe(n,a){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Qe,10,7,"div",2),e.YNc(2,Ye,2,2,"ng-template",null,3,e.W1O),e.qZA()),2&n){const t=e.MAs(3),i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.canEditStatus)("ngIfElse",t)}}function Re(n,a){1&n&&(e.TgZ(0,"div",16),e._UZ(1,"cf-icon",17),e._uU(2," Ch\u01b0a k\xedch ho\u1ea1t\n"),e.qZA())}let he=(()=>{class n{constructor(){this.valueChange=new e.vpe,this.isOpen=!1,this.bottomCenter=[{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetX:0,offsetY:0}]}click(t){this.isOpen=!this.isOpen,t.stopPropagation()}outsideClick(t){this.isOpen=!1}stateChange(t){this.isOpen=!1,this.valueChange.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["change-state-user"]],inputs:{state:"state",canEditStatus:"canEditStatus"},outputs:{valueChange:"valueChange"},standalone:!0,features:[e.jDz],decls:2,vars:2,consts:[[4,"ngIf"],["class","px-3 py-1.5 text-body-md-short text-neutral-gray-6 flex items-center border border-neutral-gray-3 rounded w-fit",4,"ngIf"],[4,"ngIf","ngIfElse"],["contentTpl",""],["cdkOverlayOrigin","","tabIndex","-1",1,"flex","items-center","gap-x-2","cursor-pointer","rounded","border","border-neutral-gray-2","px-[13px]","py-1",3,"click"],["originOverlay","cdkOverlayOrigin"],["cfHeadIcon","","icon","circle_check","size","small","class","text-secondary-1-4",4,"ngIf"],["cfHeadIcon","","icon","circle_remove","size","small",4,"ngIf"],[1,"text-body-md","text-neutral-black","whitespace-nowrap"],["icon","down","size","small",1,"text-neutral-gray-5"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","overlayOutsideClick"],["cfHeadIcon","","icon","circle_check","size","small",1,"text-secondary-1-4"],["cfHeadIcon","","icon","circle_remove","size","small"],[1,"shadow-cf-lg","w-[184px]","bg-neutral-white","rounded","py-2"],[1,"flex","flex-col","cursor-pointer"],[1,"py-2.5","px-3","text-body-md-short","hover:bg-red-1","hover:text-red-4",3,"click"],[1,"px-3","py-1.5","text-body-md-short","text-neutral-gray-6","flex","items-center","border","border-neutral-gray-3","rounded","w-fit"],["icon","circle_warning",1,"text-secondary-7-3","mr-2"]],template:function(t,i){1&t&&(e.YNc(0,Oe,4,2,"div",0),e.YNc(1,Re,3,0,"div",1)),2&t&&(e.Q6J("ngIf","INACTIVE"!==i.state),e.xp6(1),e.Q6J("ngIf","INACTIVE"===i.state))},dependencies:[h.ez,h.O5,ge.f,oe.pI,oe.xu,u.AxE,u.Sm8],encapsulation:2}),n})();var j=p(97579),de=p(9381);function Le(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"cf-select",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.filterData.titleId=o)}),e.TgZ(1,"label",3)(2,"span"),e._uU(3,"Ch\u1ee9c danh"),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("status","default")("data",t.titleOption)("allowSearch",!1)("ngModel",t.filterData.titleId)}}function ze(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",45)(1,"div",46),e._UZ(2,"div",47),e.TgZ(3,"cf-input-group",5),e._UZ(4,"cf-icon",6),e.TgZ(5,"input",48,8),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.filterData.searchText=o)}),e.qZA()(),e.TgZ(7,"cf-select",49),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.filterData.state=o)}),e.TgZ(8,"label",3)(9,"span"),e._uU(10,"Tr\u1ea1ng th\xe1i"),e.qZA()()(),e.TgZ(11,"cf-select",50),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.filterData.titleId=o)}),e.TgZ(12,"label",3)(13,"span"),e._uU(14,"Vai tr\xf2"),e.qZA()()()(),e.TgZ(15,"div")(16,"button",51),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSearch())}),e._UZ(17,"cf-icon",10),e.TgZ(18,"div"),e._uU(19,"T\xecm ki\u1ebfm"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.filterData.searchText),e.xp6(2),e.Q6J("status","default")("data",t.statusOption)("allowSearch",!1)("ngModel",t.filterData.state),e.xp6(4),e.Q6J("status","default")("data",t.titleOption)("allowSearch",!1)("ngModel",t.filterData.titleId)}}function He(n,a){if(1&n&&(e.TgZ(0,"cf-radio",56),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.name)}}function Ke(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",52)(1,"cf-radio-group",53),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.filterData.state=o)}),e.YNc(2,He,2,2,"cf-radio",54),e.qZA(),e.TgZ(3,"button",55),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSearch())}),e._uU(4,"X\xe1c nh\u1eadn"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.filterData.state),e.xp6(1),e.Q6J("ngForOf",t.statusOption)}}function je(n,a){if(1&n&&(e.TgZ(0,"cf-radio",56),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.name)}}function Ve(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",52)(1,"cf-radio-group",53),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.filterData.titleId=o)}),e.YNc(2,je,2,2,"cf-radio",54),e.qZA(),e.TgZ(3,"button",55),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSearch())}),e._uU(4,"X\xe1c nh\u1eadn"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.filterData.titleId),e.xp6(1),e.Q6J("ngForOf",t.titleOption)}}function Ge(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",67),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw();return e.KtG(r.onDelete(o.userId))}),e._uU(1,"X\xf3a"),e.qZA()}}function Xe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr",57)(1,"td",58),e._uU(2),e.qZA(),e.TgZ(3,"td",58),e._uU(4),e.qZA(),e.TgZ(5,"td",58)(6,"cf-label",59)(7,"div",60),e._uU(8),e.qZA()()(),e.TgZ(9,"td",61),e._uU(10),e.qZA(),e.TgZ(11,"td",61),e._uU(12),e.qZA(),e.TgZ(13,"td",61),e._uU(14),e.ALo(15,"date"),e.qZA(),e.TgZ(16,"td",61)(17,"change-state-user",62),e.NdJ("valueChange",function(o){const s=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.stateChange(o,s))}),e.qZA()(),e.TgZ(18,"td",63)(19,"div",64)(20,"div",65),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.onEdit(r.userId,r.color))}),e._uU(21,"Chi ti\u1ebft"),e.qZA(),e.YNc(22,Ge,2,0,"div",66),e.qZA()()()}if(2&n){const t=a.$implicit,i=e.oxw();e.xp6(2),e.Oqu(t.userName),e.xp6(2),e.Oqu(t.displayName),e.xp6(2),e.Q6J("color",t.color)("type","inverted")("size","small"),e.xp6(2),e.hij(" ",t.title.name," "),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.phone),e.xp6(2),e.Oqu(e.xi3(15,13,t.dateCreated,"dd/MM/yyyy")),e.xp6(3),e.Q6J("state",t.state)("canEditStatus",t.canEditStatus),e.xp6(1),e.Q6J("sticky","right"),e.xp6(4),e.Q6J("ngIf",i.canDelete)}}function $e(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",69),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw();return e.KtG(r.onEdit(o.userId,o.color))}),e.TgZ(1,"div",70)(2,"div",71),e._uU(3,"M\xe3 \u0111\u1ecbnh danh"),e.qZA(),e.TgZ(4,"div",72),e._uU(5),e.qZA()(),e.TgZ(6,"div",70)(7,"div",71),e._uU(8,"Ng\xe0y t\u1ea1o"),e.qZA(),e.TgZ(9,"div",72),e._uU(10),e.ALo(11,"date"),e.qZA()(),e.TgZ(12,"div",70)(13,"div",71),e._uU(14,"Ch\u1ee9c danh"),e.qZA(),e.TgZ(15,"cf-label",73),e._uU(16),e.qZA()(),e.TgZ(17,"div",70)(18,"div",71),e._uU(19,"Tr\u1ea1ng th\xe1i"),e.qZA(),e.TgZ(20,"change-state-user",62),e.NdJ("valueChange",function(o){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw();return e.KtG(s.mobileStateChange(o,r))}),e.qZA()()()}if(2&n){const t=e.oxw().$implicit;e.xp6(5),e.Oqu(t.userName),e.xp6(5),e.Oqu(e.xi3(11,9,t.dateCreated,"dd/MM/yyyy")),e.xp6(5),e.Q6J("color",t.color)("type","inverted")("size","small")("mode","default"),e.xp6(1),e.Oqu(t.title.name),e.xp6(4),e.Q6J("state",t.state)("canEditStatus",t.canEditStatus)}}function We(n,a){if(1&n&&(e.ynx(0),e.YNc(1,$e,21,12,"div",68),e.BQk()),2&n){const t=a.index,i=e.oxw();e.xp6(1),e.Q6J("ngIf",t<i.ticketInfiniteScrollCount)}}function et(n,a){1&n&&e._UZ(0,"cf-spinner")}const tt=function(){return{num:25}},nt=function(){return{num:50}},it=function(){return{num:75}},ot=function(){return{num:100}},at=function(n,a,t,i){return[n,a,t,i]};let rt=(()=>{class n{constructor(t,i,o,r,s,d,m,f,A,E,T){this._titleService=i,this._userService=o,this._router=r,this._fb=s,this._cd=d,this._modal=m,this._permissionService=f,this._toastService=A,this._bottomSheetService=E,this._mobileDetectService=T,this.listOfData=[],this.pageSize=25,this.currentPage=1,this.statusOption=[{name:"T\u1ea5t c\u1ea3",code:""},{name:"Ho\u1ea1t \u0111\u1ed9ng",code:"ACTIVE"},{name:"Ng\u1eebng ho\u1ea1t \u0111\u1ed9ng",code:"INACTIVE"}],this.statusChangeOption=[{name:"Ho\u1ea1t \u0111\u1ed9ng",code:"ACTIVE"},{name:"Ng\u1eebng ho\u1ea1t \u0111\u1ed9ng",code:"INACTIVE"}],this.colorMap=[{key:"",color:"red"},{key:"",color:"yellow"},{key:"",color:"cyan"},{key:"",color:"blue"},{key:"",color:"purple"},{key:"",color:"orange"},{key:"",color:"green"}],this.titleOption=[],this.filterData={searchText:"",state:null,titleId:""},this.canDelete=this._permissionService.hasPermission(C.or.DeleteEmployee),this.TICKET_INFINITE_SCROLL_DEFAULT=10,this.TICKET_INFINITE_OFSET_INCREASE=10,this.ticketInfiniteScrollCount=this.TICKET_INFINITE_SCROLL_DEFAULT,this.isLoading=!1,this.sortChange=(D,F)=>{let P=F.map(J=>J);for(let J=0;J<D.length;J++){const S=D[J];"name"===S.key&&(P=P.sort("ascend"===S.sort?(V,pe)=>this.increaseAlphabetSort(V.name,pe.name):(V,pe)=>this.decreaseAlphabetSort(V.name,pe.name)))}return P},this.searchChange=(D,F)=>F,this.increaseAlphabetSort=(D,F)=>D<F?-1:D>F?1:0,this.decreaseAlphabetSort=(D,F)=>D>F?-1:D<F?1:0,t.registerIcons([u.TM4,u.PcQ,u.whL]),this.onSearch(),this.initTitleData()}initTitleData(){this._titleService.getAllEmployeeTitleForManage().subscribe({next:t=>{this.titleOption.push({code:"",name:"T\u1ea5t c\u1ea3"}),this.titleOption.push(...t.data.map(i=>({code:i.id,name:i.name}))),this._cd.detectChanges()}})}onSearch(){this._mobileDetectService.isMobile()&&this._bottomSheetService.dismiss();const t={searchText:this.filterData.searchText,status:this.filterData.state||null,titleId:this.filterData.titleId};this.isLoading=!0,this._userService.getAllEmployeeUser(t).pipe((0,U.x)(()=>this.isLoading=!1)).subscribe({next:i=>{this.listOfData=i.data.filter(o=>"DELETED"!==o.state).map(o=>{const r=this.colorMap.find(s=>s.key===o.title.id);if(r)return Object.assign(Object.assign({},o),{dateCreated:new Date(1e3*o.dateCreated),color:r.color,canEditStatus:this._permissionService.hasPermission(C.or.CanEditEmployeeStatus+"_"+o.title.code)&&this._permissionService.hasPermission(C.or.CanEditEmployeeStatus)});{const s=this.colorMap.find(d=>""===d.key);return s?(s.key=o.title.id,Object.assign(Object.assign({},o),{dateCreated:new Date(1e3*o.dateCreated),color:s.color,canEditStatus:this._permissionService.hasPermission(C.or.CanEditEmployeeStatus+"_"+o.title.code)&&this._permissionService.hasPermission(C.or.CanEditEmployeeStatus)})):Object.assign(Object.assign({},o),{dateCreated:new Date(1e3*o.dateCreated),color:"green",canEditStatus:this._permissionService.hasPermission(C.or.CanEditEmployeeStatus+"_"+o.title.code)&&this._permissionService.hasPermission(C.or.CanEditEmployeeStatus)})}})}})}checkChange(t){this.pageSize=parseInt(t)}addUser(){this._router.navigate(["admin/create-employee"])}onEdit(t,i){this._router.navigate([`admin/employee-detail/${t}`],{state:{titleColor:i}})}onDelete(t){this._modal.open(k.V0,{title:"X\xf3a t\xe0i kho\u1ea3n",body:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a t\xe0i kho\u1ea3n n\xe0y? Vi\u1ec7c n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c, vui l\xf2ng ki\u1ec3m tra k\u0129 tr\u01b0\u1edbc khi thao t\xe1c."}).afterClosed$.subscribe({next:o=>{o.data&&this._userService.deleteEmployeeAccount(t).subscribe({next:r=>{r.success?(this.onSearch(),this._toastService.add({severity:"success",summary:"Th\xe0nh c\xf4ng",detail:"X\xf3a t\xe0i kho\u1ea3n th\xe0nh c\xf4ng",sticky:!1})):this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:"X\xf3a t\xe0i kho\u1ea3n th\u1ea5t b\u1ea1i",sticky:!0})}})}})}stateChange(t,i){t!==i.state&&this._modal.open(k.V0,{title:"ACTIVE"===t?"M\u1edf l\u1ea1i t\xe0i kho\u1ea3n n\xe0y?":"V\xf4 hi\u1ec7u ho\xe1 t\xe0i kho\u1ea3n n\xe0y?",body:"ACTIVE"===t?"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n cho ph\xe9p t\xe0i kho\u1ea3n n\xe0y ho\u1ea1t \u0111\u1ed9ng l\u1ea1i?":"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n v\xf4 hi\u1ec7u ho\xe1 t\xe0i kho\u1ea3n n\xe0y?",hasIcon:!1,okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y b\u1ecf",isSecondary:!0}).afterClosed$.subscribe({next:r=>{r.data&&(this.isLoading=!0,this._userService.updateAccountStatus({userId:i.userId,status:t}).pipe((0,U.x)(()=>this.isLoading=!1)).subscribe({next:s=>{"OK"===s.status&&s.data?(i.state=t,this._toastService.add({severity:"success",summary:"Th\xe0nh c\xf4ng",detail:"C\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i t\xe0i kho\u1ea3n th\xe0nh c\xf4ng",sticky:!1})):this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:"C\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i t\xe0i kho\u1ea3n th\u1ea5t b\u1ea1i",sticky:!0})},error:s=>{this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:"C\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i t\xe0i kho\u1ea3n th\u1ea5t b\u1ea1i",sticky:!0})}}))}})}revertStatus(t,i){i.state="ACTIVE"===t.code?"BLOCK":"ACTIVE"}isUpdateStatus(t){return this._permissionService.hasPermission(C.or.CanEditAccountStatus+"_"+t)}openSearchBts(t){const i=this._bottomSheetService.open(t,{headerTitle:"T\xecm ki\u1ebfm",containerFullHeigh:!0,rightButtonIcon:"",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",restoreFocus:!1});i.containerInstance._leftButtonClick.subscribe(()=>i.dismiss())}openStatusBts(t){const i=this._bottomSheetService.open(t,{headerTitle:"Tr\u1ea1ng th\xe1i",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",leftButtonIcon:"",restoreFocus:!1});i.containerInstance._rightButtonClick.subscribe(()=>i.dismiss())}openTitleBts(t){const i=this._bottomSheetService.open(t,{headerTitle:"Vai tr\xf2",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",leftButtonIcon:"",restoreFocus:!1});i.containerInstance._rightButtonClick.subscribe(()=>i.dismiss())}onScrollDown(){this.ticketInfiniteScrollCount+=this.TICKET_INFINITE_OFSET_INCREASE}userTrackByFn(t,i){return i.userId}mobileSelectClick(t){t.stopPropagation()}mobileStateChange(t,i){if(t===i.state)return;const o=this._bottomSheetService.open(k.Q4,{headerTitle:"ACTIVE"===t?"M\u1edf l\u1ea1i t\xe0i kho\u1ea3n n\xe0y?":"V\xf4 hi\u1ec7u ho\xe1 t\xe0i kho\u1ea3n n\xe0y?",data:{body:"ACTIVE"===t?"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n cho ph\xe9p t\xe0i kho\u1ea3n n\xe0y ho\u1ea1t \u0111\u1ed9ng l\u1ea1i?":"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n v\xf4 hi\u1ec7u ho\xe1 t\xe0i kho\u1ea3n n\xe0y?",okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y b\u1ecf",isSecondary:!0},rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",restoreFocus:!1});o.containerInstance._rightButtonClick.subscribe(()=>o.dismiss()),o.afterDismissed().subscribe({next:r=>{r&&(this.isLoading=!0,this._userService.updateAccountStatus({userId:i.userId,status:t}).pipe((0,U.x)(()=>this.isLoading=!1)).subscribe({next:s=>{"OK"===s.status&&s.data?(i.state=t,this._toastService.add({severity:"success",summary:"Th\xe0nh c\xf4ng",detail:"C\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i t\xe0i kho\u1ea3n th\xe0nh c\xf4ng",sticky:!1})):this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:"C\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i t\xe0i kho\u1ea3n th\u1ea5t b\u1ea1i",sticky:!0})},error:s=>{this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:"C\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i t\xe0i kho\u1ea3n th\u1ea5t b\u1ea1i",sticky:!0})}}))}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.KNP),e.Y36(b.yD),e.Y36(b.KD),e.Y36(x.F0),e.Y36(c.qu),e.Y36(e.sBO),e.Y36(j.oE),e.Y36(C.$A),e.Y36(y.BX),e.Y36(O.a2),e.Y36(de.L))},n.\u0275cmp=e.Xpm({type:n,selectors:[["user-manage-page"]],standalone:!0,features:[e.jDz],decls:80,vars:34,consts:[[1,"flex","flex-col","px-[30px]","py-4","gap-y-4","bg-neutral-white","md:pt-3","md:pb-0","md:px-4","md:gap-y-3","md:shadow-cf-sm","md:sticky","md:top-0"],[1,"flex","gap-x-4","md:hidden"],["textField","name","valueField","code","size","small","placeholder","Ch\u1ecdn tr\u1ea1ng th\xe1i",1,"!max-w-none","!w-[252px]",3,"status","data","allowSearch","ngModel","ngModelChange"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5"],["class","!max-w-none !w-[172px]","textField","name","valueField","code","size","small","placeholder","Ch\u1ecdn ch\u1ee9c danh",3,"status","data","allowSearch","ngModel","ngModelChange",4,"ngIf"],[1,"!w-full"],["cfHeadIcon","","icon","search","size","small"],["size","medium","cf-input","","placeholder","T\xecm ki\u1ebfm trong danh s\xe1ch k\u1ebft qu\u1ea3...",3,"ngModel","ngModelChange"],["tableSearchInput",""],["cf-button","","type","secondary",1,"whitespace-nowrap","w-[168px]","flex","justify-center","gap-x-2",3,"click"],["icon","search","size","small"],[1,"hidden","text-heading-sm","text-neutral-gray-6","md:block"],[1,"hidden","md:block"],["size","medium","cf-input","","placeholder","T\xecm ki\u1ebfm t\xe0i kho\u1ea3n",3,"ngModel","ngModelChange","focus"],[1,"gap-x-2","hidden","md:flex"],[1,"pb-3",3,"click"],[1,"gap-x-1.5","items-center","border","border-neutral-gray-3","rounded-full","px-4","py-[5px]","hidden","md:flex"],[1,"text-body-md","whitespace-nowrap"],["icon","down","size","small",1,"text-neutral-gray-5"],["searchBts",""],["statusBts",""],["titleBts",""],[1,"py-4","px-[30px]","rounded-lg","flex","justify-center","md:hidden"],[1,"bg-neutral-white","rounded-lg","shadow-cf-md","w-full"],[1,"p-4","flex","justify-between","items-center"],[1,"text-heading-sm"],["cf-button","",1,"flex","gap-x-2",3,"click"],["icon","plus"],[1,"",3,"fnSort","fnSearch","pageSizeList","listData","pageSize"],["managerTable",""],["cf-thead",""],["cf-th","",1,"whitespace-nowrap",3,"sortName"],["cf-th","",1,"whitespace-nowrap"],["cf-th","",1,"whitespace-nowrap",3,"sticky"],["ngFor","",3,"ngForOf"],[1,"hidden","md:flex","p-4","flex-col"],[1,"w-full","flex","items-center","justify-between"],[1,"text-body-md","text-neutral-gray-6"],[1,"flex","gap-x-1.5","text-neutral-gray-6","items-center"],["cf-button","",1,"gap-x-2",3,"click"],["icon","plus","size","small"],["infinite-scroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","scrollWindow","fromRoot","alwaysCallback","scrolled"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["textField","name","valueField","code","size","small","placeholder","Ch\u1ecdn ch\u1ee9c danh",1,"!max-w-none","!w-[172px]",3,"status","data","allowSearch","ngModel","ngModelChange"],[1,"p-4","w-full","flex","flex-col","justify-between"],[1,"flex","flex-col","gap-y-4"],[1,"w-full","border-b","border-b-neutral-gray-3"],["size","medium","cf-input","","placeholder","T\xecm ki\u1ebfm t\xe0i kho\u1ea3n",3,"ngModel","ngModelChange"],["textField","name","valueField","code","size","medium","placeholder","Ch\u1ecdn tr\u1ea1ng th\xe1i",1,"!max-w-none","w-full",3,"status","data","allowSearch","ngModel","ngModelChange"],["textField","name","valueField","id","size","medium","placeholder","Ch\u1ecdn ch\u1ee9c danh",1,"!max-w-none","w-full",3,"status","data","allowSearch","ngModel","ngModelChange"],["cf-button","",1,"w-full","justify-center","gap-x-2",3,"click"],[1,"flex","flex-col","w-full","p-4","gap-y-6"],[1,"flex","flex-col","gap-y-4",3,"ngModel","ngModelChange"],["size","medium",3,"value",4,"ngFor","ngForOf"],["cf-button","",1,"w-full","justify-center",3,"click"],["size","medium",3,"value"],[1,"border-b","border-neutral-gray-1"],["cf-td","",1,"py-2","px-3","text-body-md","whitespace-nowrap"],[3,"color","type","size"],[1,"w-max"],["cf-td","",1,"py-2","px-3","text-body-md"],[3,"state","canEditStatus","valueChange"],["cf-td","",1,"flex","py-3","px-3","gap-x-4","items-center","whitespace-nowrap",3,"sticky"],[1,"flex","gap-x-4","items-center"],[1,"text-body-md","text-secondary-3-4","cursor-pointer","whitespace-nowrap",3,"click"],["class","text-body-md text-secondary-6-4 cursor-pointer",3,"click",4,"ngIf"],[1,"text-body-md","text-secondary-6-4","cursor-pointer",3,"click"],["class","flex flex-col rounded-lg bg-white p-3 mt-3 gap-y-2",3,"click",4,"ngIf"],[1,"flex","flex-col","rounded-lg","bg-white","p-3","mt-3","gap-y-2",3,"click"],[1,"flex","justify-start","items-center"],[1,"text-body-sm","text-neutral-gray-4","w-[104px]"],[1,"text-express-md","text-neutral-gray-6"],[3,"color","type","size","mode"]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"cf-select",2),e.NdJ("ngModelChange",function(s){return i.filterData.state=s}),e.TgZ(3,"label",3)(4,"span"),e._uU(5,"Tr\u1ea1ng th\xe1i"),e.qZA()()(),e.YNc(6,Le,4,4,"cf-select",4),e.qZA(),e.TgZ(7,"div",1)(8,"cf-input-group",5),e._UZ(9,"cf-icon",6),e.TgZ(10,"input",7,8),e.NdJ("ngModelChange",function(s){return i.filterData.searchText=s}),e.qZA()(),e.TgZ(12,"button",9),e.NdJ("click",function(){return i.onSearch()}),e._UZ(13,"cf-icon",10),e._uU(14," T\xecm ki\u1ebfm "),e.qZA()(),e.TgZ(15,"div",11),e._uU(16,"Qu\u1ea3n l\xfd t\xe0i kho\u1ea3n nh\xe2n vi\xean"),e.qZA(),e.TgZ(17,"div",12)(18,"cf-input-group",5),e._UZ(19,"cf-icon",6),e.TgZ(20,"input",13,8),e.NdJ("ngModelChange",function(s){return i.filterData.searchText=s})("focus",function(){e.CHM(o);const s=e.MAs(34);return e.KtG(i.openSearchBts(s))}),e.qZA()()(),e.TgZ(22,"div",14)(23,"div",15),e.NdJ("click",function(){e.CHM(o);const s=e.MAs(36);return e.KtG(i.openStatusBts(s))}),e.TgZ(24,"div",16)(25,"div",17),e._uU(26,"Tr\u1ea1ng th\xe1i"),e.qZA(),e._UZ(27,"cf-icon",18),e.qZA()(),e.TgZ(28,"div",15),e.NdJ("click",function(){e.CHM(o);const s=e.MAs(38);return e.KtG(i.openTitleBts(s))}),e.TgZ(29,"div",16)(30,"div",17),e._uU(31,"Vai tr\xf2"),e.qZA(),e._UZ(32,"cf-icon",18),e.qZA()()(),e.YNc(33,ze,20,9,"ng-template",null,19,e.W1O),e.YNc(35,Ke,5,2,"ng-template",null,20,e.W1O),e.YNc(37,Ve,5,2,"ng-template",null,21,e.W1O),e.qZA(),e.TgZ(39,"div",22)(40,"div",23)(41,"div",24)(42,"div",25),e._uU(43,"Danh s\xe1ch nh\xe2n vi\xean"),e.qZA(),e.TgZ(44,"button",26),e.NdJ("click",function(){return i.addUser()}),e._UZ(45,"cf-icon",27),e._uU(46," T\u1ea1o t\xe0i kho\u1ea3n "),e.qZA()(),e.TgZ(47,"cf-table",28,29)(49,"thead",30)(50,"th",31),e._uU(51,"T\xean \u0111\u0103ng nh\u1eadp"),e.qZA(),e.TgZ(52,"th",32),e._uU(53,"H\u1ecd v\xe0 t\xean"),e.qZA(),e.TgZ(54,"th",32),e._uU(55,"Ch\u1ee9c danh"),e.qZA(),e.TgZ(56,"th",32),e._uU(57,"Email"),e.qZA(),e.TgZ(58,"th",32),e._uU(59,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),e.qZA(),e.TgZ(60,"th",32),e._uU(61,"Ng\xe0y t\u1ea1o"),e.qZA(),e.TgZ(62,"th",32),e._uU(63,"Tr\u1ea1ng th\xe1i"),e.qZA(),e.TgZ(64,"th",33),e._uU(65,"Ch\u1ee9c n\u0103ng"),e.qZA()(),e.TgZ(66,"tbody"),e.YNc(67,Xe,23,16,"ng-template",34),e.qZA()()()(),e._UZ(68,"cf-toast"),e.TgZ(69,"div",35)(70,"div",36)(71,"div",37),e._uU(72),e.qZA(),e.TgZ(73,"div",38)(74,"button",39),e.NdJ("click",function(){return i.addUser()}),e._UZ(75,"cf-icon",40),e._uU(76," T\u1ea1o t\xe0i kho\u1ea3n "),e.qZA()()(),e.TgZ(77,"div",41),e.NdJ("scrolled",function(){return i.onScrollDown()}),e.YNc(78,We,2,1,"ng-container",42),e.qZA()(),e.YNc(79,et,1,0,"cf-spinner",43)}if(2&t){const o=e.MAs(48);e.xp6(2),e.Q6J("status","default")("data",i.statusOption)("allowSearch",!1)("ngModel",i.filterData.state),e.xp6(4),e.Q6J("ngIf",i.titleOption.length>0),e.xp6(4),e.Q6J("ngModel",i.filterData.searchText),e.xp6(10),e.Q6J("ngModel",i.filterData.searchText),e.xp6(27),e.Q6J("fnSort",i.sortChange)("fnSearch",i.searchChange)("pageSizeList",e.l5B(29,at,e.DdM(25,tt),e.DdM(26,nt),e.DdM(27,it),e.DdM(28,ot)))("listData",i.listOfData)("pageSize",i.pageSize),e.xp6(3),e.Q6J("sortName","name"),e.xp6(14),e.Q6J("sticky","right"),e.xp6(3),e.Q6J("ngForOf",o.partOfdata),e.xp6(5),e.hij("",i.listOfData.length," k\u1ebft qu\u1ea3"),e.xp6(5),e.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",300)("infiniteScrollContainer",".main-scroll-bar")("scrollWindow",!1)("fromRoot",!0)("alwaysCallback",!0),e.xp6(1),e.Q6J("ngForOf",i.listOfData)("ngForTrackBy",i.userTrackByFn),e.xp6(1),e.Q6J("ngIf",i.isLoading)}},dependencies:[h.ez,h.sg,h.O5,h.uU,u.AxE,u.Sm8,v.N8,v.Xq,M.rC,M.E_,M.zs,M.qS,N.q,c.u5,c.Fj,c.JJ,c.On,c.UX,l.j$,l.ND,l.BN,ne.b,y.hj,O.DW,G.T,G.o,ie.Rq,ie.Ry,k.OR,he],encapsulation:2}),n})();var H=p(88516),ae=p(76331),X=p(34541),re=p(7453),me=p(82805),$=p(63900),fe=p(54004),R=p(15439),ce=p(85522),_e=p(92347);function ct(n,a){1&n&&e._UZ(0,"cf-input-hint",57),2&n&&e.Q6J("hint","M\xe3 \u0111\u1ea1i l\xfd kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function st(n,a){1&n&&e._UZ(0,"cf-input-hint",57),2&n&&e.Q6J("hint","M\xe3 \u0111\u1ea1i l\xfd \u0111\xe3 t\u1ed3n t\u1ea1i")}function lt(n,a){1&n&&e._UZ(0,"cf-input-hint",57),2&n&&e.Q6J("hint","T\u1ed1i \u0111a 6 k\xed t\u1ef1")}function ut(n,a){1&n&&e._UZ(0,"cf-input-hint",57),2&n&&e.Q6J("hint","Ch\u1ec9 cho ph\xe9p ch\u1eef c\xe1i, ch\u1eef s\u1ed1 v\xe0 d\u1ea5u \u201c-\u201d")}function dt(n,a){1&n&&e._UZ(0,"cf-input-hint",57),2&n&&e.Q6J("hint","T\xean \u0111\u1ea1i l\xfd kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function _t(n,a){1&n&&(e.TgZ(0,"div",58),e._UZ(1,"cf-icon",59),e._uU(2," Upload \u1ea3nh \u0111\u1ea1i di\u1ec7n "),e.qZA())}function pt(n,a){1&n&&e._UZ(0,"cf-input-hint",57),2&n&&e.Q6J("hint","H\u1ecd v\xe0 t\xean ng\u01b0\u1eddi \u0111\u1ea1i di\u1ec7n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function gt(n,a){1&n&&e._UZ(0,"cf-input-hint",57),2&n&&e.Q6J("hint","Email kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function ht(n,a){1&n&&e._UZ(0,"cf-input-hint",57),2&n&&e.Q6J("hint","\u0110\u1ecbnh d\u1ea1ng kh\xf4ng h\u1ee3p l\u1ec7")}function mt(n,a){1&n&&e._UZ(0,"cf-input-hint",57),2&n&&e.Q6J("hint","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function ft(n,a){1&n&&e._UZ(0,"cf-input-hint",57),2&n&&e.Q6J("hint","T\u1ed1i thi\u1ec3u 7 ch\u1eef s\u1ed1")}function vt(n,a){1&n&&e._UZ(0,"cf-input-hint",57),2&n&&e.Q6J("hint","T\u1ed1i \u0111a 11 ch\u1eef s\u1ed1")}function Ct(n,a){1&n&&e._UZ(0,"cf-icon",60)}function xt(n,a){1&n&&e._UZ(0,"cf-icon",61)}function Et(n,a){if(1&n&&(e.TgZ(0,"div",62)(1,"div")(2,"cf-input-group",16)(3,"label",35),e._uU(4," Facebook "),e.qZA(),e._UZ(5,"input",63),e.qZA()(),e.TgZ(6,"div",64)(7,"cf-select",65)(8,"label",35)(9,"span"),e._uU(10,"K\xeanh gi\u1edbi thi\u1ec7u"),e.qZA()()()()()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("status","default"),e.xp6(3),e.Q6J("formControl",t.userForm.controls.facebookContact),e.xp6(2),e.Q6J("status",t.userForm.controls.referralChannel.invalid&&(t.userForm.controls.referralChannel.dirty||t.userForm.controls.referralChannel.touched)?"error":"default")("data",t.referralChannelData)("allowSearch",!1)("formControl",t.userForm.controls.referralChannel)("allowSearch",!0)}}function At(n,a){1&n&&e._UZ(0,"cf-input-hint",57),2&n&&e.Q6J("hint","S\u1ed1 t\xe0i kho\u1ea3n ng\xe2n h\xe0ng kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function yt(n,a){1&n&&e._UZ(0,"cf-input-hint",57),2&n&&e.Q6J("hint","H\u1ecd t\xean ch\u1ee7 t\xe0i kho\u1ea3n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function Tt(n,a){1&n&&e._UZ(0,"cf-input-hint",57),2&n&&e.Q6J("hint","Ng\xe2n h\xe0ng kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function Zt(n,a){1&n&&e._UZ(0,"cf-input-hint",57),2&n&&e.Q6J("hint","T\xean chi nh\xe1nh ng\xe2n h\xe0ng kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function Dt(n,a){1&n&&e._UZ(0,"cf-input-hint",57),2&n&&e.Q6J("hint","Lo\u1ea1i chi\u1ebft kh\u1ea5u nh\u1eadn kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function Ft(n,a){1&n&&e._UZ(0,"cf-input-hint",57),2&n&&e.Q6J("hint","M\u1ee9c \xe2m qu\u1ef9 kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function bt(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",10),e._UZ(2,"div",11),e.TgZ(3,"div",12),e._uU(4,"Th\xf4ng tin c\xf4ng n\u1ee3"),e.qZA()(),e.TgZ(5,"div",66)(6,"div",47)(7,"cf-select",67)(8,"label",17),e._uU(9," Lo\u1ea1i chi\u1ebft kh\u1ea5u nh\u1eadn "),e.qZA(),e.YNc(10,Dt,1,1,"cf-input-hint",19),e.qZA(),e.TgZ(11,"cf-input-group",68)(12,"label",69),e._uU(13," M\u1ee9c \xe2m qu\u1ef9 t\u1ed1i \u0111a "),e.qZA(),e._UZ(14,"cf-input-number",70),e.YNc(15,Ft,1,1,"cf-input-hint",19),e.qZA()()()()),2&n){const t=e.oxw(2);e.xp6(7),e.Q6J("status",t.userForm.controls.discountPaymentType.invalid&&(t.userForm.controls.discountPaymentType.dirty||t.userForm.controls.discountPaymentType.touched)?"error":"default")("data",t.paymentTypeOption)("allowSearch",!1)("formControl",t.userForm.controls.discountPaymentType),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("ngIf",t.userForm.controls.discountPaymentType.hasError("required")&&t.userForm.controls.discountPaymentType.touched),e.xp6(1),e.Q6J("status",t.userForm.controls.maxNegative.invalid&&(t.userForm.controls.maxNegative.dirty||t.userForm.controls.maxNegative.touched)?"error":"default"),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("placeholder","Nh\u1eadp m\u1ee9c \xe2m qu\u1ef9 t\u1ed1i \u0111a")("negative",!1)("formControl",t.userForm.controls.maxNegative),e.xp6(1),e.Q6J("ngIf",t.userForm.controls.maxNegative.hasError("required")&&(t.userForm.controls.maxNegative.touched||t.userForm.controls.maxNegative.dirty))}}function kt(n,a){1&n&&(e.TgZ(0,"button",71),e._UZ(1,"cf-icon",72),e._uU(2," Quay l\u1ea1i "),e.qZA())}const It=function(n){return{"!border-none":n}};function Ut(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10),e._UZ(4,"div",11),e.TgZ(5,"div",12),e._uU(6,"Th\xf4ng tin c\u01a1 b\u1ea3n"),e.qZA()(),e.TgZ(7,"div",13)(8,"div",14)(9,"div",15)(10,"cf-input-group",16)(11,"label",17),e._uU(12," M\xe3 \u0111\u1ea1i l\xfd "),e.qZA(),e._UZ(13,"input",18),e.YNc(14,ct,1,1,"cf-input-hint",19),e.YNc(15,st,1,1,"cf-input-hint",19),e.YNc(16,lt,1,1,"cf-input-hint",19),e.YNc(17,ut,1,1,"cf-input-hint",19),e.qZA(),e.TgZ(18,"cf-input-group",16)(19,"label",17),e._uU(20," T\xean \u0111\u1ea1i l\xfd "),e.qZA(),e._UZ(21,"input",20),e.YNc(22,dt,1,1,"cf-input-hint",19),e.qZA()(),e.TgZ(23,"div",21)(24,"div",22),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(27);return e.KtG(o.click())}),e.YNc(25,_t,3,0,"div",23),e.qZA(),e.TgZ(26,"input",24,25),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.uploadAvatar(o))}),e.qZA()()(),e.TgZ(28,"div")(29,"cf-input-group",16)(30,"label",17),e._uU(31," H\u1ecd v\xe0 t\xean ng\u01b0\u1eddi \u0111\u1ea1i di\u1ec7n "),e.qZA(),e._UZ(32,"input",26),e.YNc(33,pt,1,1,"cf-input-hint",19),e.qZA()(),e.TgZ(34,"div",27)(35,"cf-input-group",28)(36,"label",17),e._uU(37," Email "),e.qZA(),e._UZ(38,"input",29),e.YNc(39,gt,1,1,"cf-input-hint",19),e.YNc(40,ht,1,1,"cf-input-hint",19),e.qZA(),e.TgZ(41,"div")(42,"div",30)(43,"label",17),e._uU(44," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i "),e.qZA()(),e.TgZ(45,"cf-select",31)(46,"div",32),e._UZ(47,"input",33),e.qZA(),e.YNc(48,mt,1,1,"cf-input-hint",19),e.YNc(49,ft,1,1,"cf-input-hint",19),e.YNc(50,vt,1,1,"cf-input-hint",19),e.qZA()()(),e.TgZ(51,"div")(52,"cf-select",34)(53,"label",35)(54,"span"),e._uU(55,"Ng\u01b0\u1eddi gi\u1edbi thi\u1ec7u"),e.qZA()()()(),e.TgZ(56,"div")(57,"cf-input-group",36)(58,"label",35),e._uU(59," Ghi ch\xfa b\u1ed5 sung "),e.qZA(),e._UZ(60,"textarea",37),e.qZA()(),e.TgZ(61,"div",38)(62,"div",39)(63,"div",40),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.isExpand=!o.isExpand)}),e.TgZ(64,"div",41),e._UZ(65,"cf-icon",42),e.TgZ(66,"span"),e._uU(67,"Th\xf4ng tin b\u1ed5 sung"),e.qZA()(),e.TgZ(68,"div",43),e.YNc(69,Ct,1,0,"cf-icon",44),e.YNc(70,xt,1,0,"cf-icon",45),e.qZA()(),e.YNc(71,Et,11,7,"div",46),e.qZA()()()(),e.TgZ(72,"div",9)(73,"div",10),e._UZ(74,"div",11),e.TgZ(75,"div",12),e._uU(76,"Th\xf4ng tin chuy\u1ec3n kho\u1ea3n"),e.qZA()(),e.TgZ(77,"div",13)(78,"div",47)(79,"cf-input-group",48)(80,"label",17),e._uU(81," S\u1ed1 t\xe0i kho\u1ea3n ng\xe2n h\xe0ng "),e.qZA(),e._UZ(82,"input",49),e.YNc(83,At,1,1,"cf-input-hint",19),e.qZA(),e.TgZ(84,"cf-input-group",48)(85,"label",17),e._uU(86," H\u1ecd t\xean ch\u1ee7 t\xe0i kho\u1ea3n "),e.qZA(),e._UZ(87,"input",50),e.YNc(88,yt,1,1,"cf-input-hint",19),e.qZA()(),e.TgZ(89,"div",47)(90,"cf-select",51)(91,"label",17)(92,"span"),e._uU(93,"Thu\u1ed9c ng\xe2n h\xe0ng"),e.qZA()(),e.YNc(94,Tt,1,1,"cf-input-hint",19),e.qZA(),e.TgZ(95,"cf-input-group",48)(96,"label",17),e._uU(97," T\xean chi nh\xe1nh ng\xe2n h\xe0ng "),e.qZA(),e._UZ(98,"input",52),e.YNc(99,Zt,1,1,"cf-input-hint",19),e.qZA()()()(),e.YNc(100,bt,16,12,"div",6),e.TgZ(101,"div",53)(102,"div"),e.YNc(103,kt,3,0,"button",54),e.qZA(),e.TgZ(104,"button",55),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.setStep("IDENTITY"))}),e._uU(105," Ti\u1ebfp t\u1ee5c "),e._UZ(106,"cf-icon",56),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(10),e.Q6J("status",t.userForm.controls.userName.invalid&&(t.userForm.controls.userName.dirty||t.userForm.controls.userName.touched)?"error":"default"),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",t.userForm.controls.userName),e.xp6(1),e.Q6J("ngIf",(null==t.userForm.controls.userName.errors?null:t.userForm.controls.userName.errors.required)&&(t.userForm.controls.userName.dirty||t.userForm.controls.userName.touched)),e.xp6(1),e.Q6J("ngIf",(null==t.userForm.controls.userName.errors?null:t.userForm.controls.userName.errors.usernameDuplicated)&&(t.userForm.controls.userName.dirty||t.userForm.controls.userName.touched)),e.xp6(1),e.Q6J("ngIf",t.userForm.controls.userName.hasError("maxlength")&&(t.userForm.controls.userName.touched||t.userForm.controls.userName.dirty)),e.xp6(1),e.Q6J("ngIf",!t.userForm.controls.userName.hasError("maxlength")&&t.userForm.controls.userName.hasError("pattern")&&(t.userForm.controls.userName.touched||t.userForm.controls.userName.dirty)),e.xp6(1),e.Q6J("status",t.userForm.controls.agentName.invalid&&(t.userForm.controls.agentName.dirty||t.userForm.controls.agentName.touched)?"error":"default"),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",t.userForm.controls.agentName),e.xp6(1),e.Q6J("ngIf",(null==t.userForm.controls.agentName.errors?null:t.userForm.controls.agentName.errors.required)&&(t.userForm.controls.agentName.dirty||t.userForm.controls.agentName.touched)),e.xp6(2),e.Jzz("background-image: url(",t.previewAvatar,");"),e.Q6J("ngClass",e.VKq(65,It,t.previewAvatar)),e.xp6(1),e.Q6J("ngIf",!t.previewAvatar),e.xp6(4),e.Q6J("status",t.userForm.controls.representative.invalid&&(t.userForm.controls.representative.dirty||t.userForm.controls.representative.touched)?"error":"default"),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",t.userForm.controls.representative),e.xp6(1),e.Q6J("ngIf",(null==t.userForm.controls.representative.errors?null:t.userForm.controls.representative.errors.required)&&(t.userForm.controls.representative.dirty||t.userForm.controls.representative.touched)),e.xp6(2),e.Q6J("status",t.userForm.controls.email.invalid&&(t.userForm.controls.email.dirty||t.userForm.controls.email.touched)?"error":"default"),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",t.userForm.controls.email),e.xp6(1),e.Q6J("ngIf",(null==t.userForm.controls.email.errors?null:t.userForm.controls.email.errors.required)&&(t.userForm.controls.email.dirty||t.userForm.controls.email.touched)),e.xp6(1),e.Q6J("ngIf",t.userForm.controls.email.hasError("email")&&(t.userForm.controls.email.touched||t.userForm.controls.email.dirty)),e.xp6(3),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("status",t.userForm.controls.phone.invalid&&(t.userForm.controls.phone.dirty||t.userForm.controls.phone.touched)?"error":"default")("data",t.optionsAreaCode)("formControl",t.userForm.controls.areaCode),e.xp6(2),e.Q6J("formControl",t.userForm.controls.phone),e.xp6(1),e.Q6J("ngIf",(null==t.userForm.controls.phone.errors?null:t.userForm.controls.phone.errors.required)&&(t.userForm.controls.phone.dirty||t.userForm.controls.phone.touched)),e.xp6(1),e.Q6J("ngIf",t.userForm.controls.phone.hasError("minlength")&&(t.userForm.controls.phone.touched||t.userForm.controls.phone.dirty)),e.xp6(1),e.Q6J("ngIf",t.userForm.controls.phone.hasError("maxlength")&&(t.userForm.controls.phone.touched||t.userForm.controls.phone.dirty)),e.xp6(2),e.Q6J("status",t.userForm.controls.belongSale.invalid&&(t.userForm.controls.belongSale.dirty||t.userForm.controls.belongSale.touched)?"error":"default")("data",t.belongSaleOption)("allowSearch",!1)("formControl",t.userForm.controls.belongSale)("allowSearch",!0),e.xp6(5),e.Q6J("status",t.userForm.controls.note.invalid&&(t.userForm.controls.note.dirty||t.userForm.controls.note.touched)?"error":"default"),e.xp6(3),e.Q6J("formControl",t.userForm.controls.note),e.xp6(9),e.Q6J("ngIf",t.isExpand),e.xp6(1),e.Q6J("ngIf",!t.isExpand),e.xp6(1),e.Q6J("ngIf",t.isExpand),e.xp6(8),e.Q6J("status",t.userForm.controls.bankAccount.invalid&&(t.userForm.controls.bankAccount.dirty||t.userForm.controls.bankAccount.touched)?"error":"default"),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",t.userForm.controls.bankAccount),e.xp6(1),e.Q6J("ngIf",(null==t.userForm.controls.bankAccount.errors?null:t.userForm.controls.bankAccount.errors.required)&&(t.userForm.controls.bankAccount.dirty||t.userForm.controls.bankAccount.touched)),e.xp6(1),e.Q6J("status",t.userForm.controls.nameOwnAccount.invalid&&(t.userForm.controls.nameOwnAccount.dirty||t.userForm.controls.nameOwnAccount.touched)?"error":"default"),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",t.userForm.controls.nameOwnAccount),e.xp6(1),e.Q6J("ngIf",(null==t.userForm.controls.nameOwnAccount.errors?null:t.userForm.controls.nameOwnAccount.errors.required)&&(t.userForm.controls.nameOwnAccount.dirty||t.userForm.controls.nameOwnAccount.touched)),e.xp6(2),e.Q6J("customSearch",t.bankCustomSearch)("status",t.userForm.controls.bankName.invalid&&(t.userForm.controls.bankName.dirty||t.userForm.controls.bankName.touched)?"error":"default")("data",t.bankData)("formControl",t.userForm.controls.bankName)("allowSearch",!0),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(3),e.Q6J("ngIf",t.userForm.controls.bankName.hasError("required")&&t.userForm.controls.bankName.touched),e.xp6(1),e.Q6J("status",t.userForm.controls.bankBranchName.invalid&&(t.userForm.controls.bankBranchName.dirty||t.userForm.controls.bankBranchName.touched)?"error":"default"),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",t.userForm.controls.bankBranchName),e.xp6(1),e.Q6J("ngIf",(null==t.userForm.controls.bankBranchName.errors?null:t.userForm.controls.bankBranchName.errors.required)&&(t.userForm.controls.bankBranchName.dirty||t.userForm.controls.bankBranchName.touched)),e.xp6(1),e.Q6J("ngIf",t.canCreateAgentUser_AGENT2),e.xp6(3),e.Q6J("ngIf","BASIC_INFO"!==t.step),e.xp6(1),e.Q6J("disabled",t.userForm.invalid)}}function Nt(n,a){1&n&&e._UZ(0,"cf-input-hint",57),2&n&&e.Q6J("hint","S\u1ed1 CCCD kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function wt(n,a){1&n&&e._UZ(0,"cf-input-hint",57),2&n&&e.Q6J("hint","T\u1ed1i thi\u1ec3u 6 ch\u1eef s\u1ed1")}function qt(n,a){1&n&&e._UZ(0,"cf-input-hint",57),2&n&&e.Q6J("hint","T\u1ed1i \u0111a 12 ch\u1eef s\u1ed1")}function Pt(n,a){1&n&&e._UZ(0,"cf-input-hint",57),2&n&&e.Q6J("hint","Ch\u01b0a ch\u1ecdn ng\xe0y c\u1ea5p CCCD")}function Jt(n,a){1&n&&e._UZ(0,"cf-input-hint",57),2&n&&e.Q6J("hint","Ng\xe0y ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/MM/yyyy")}function St(n,a){1&n&&e._UZ(0,"cf-input-hint",57),2&n&&e.Q6J("hint","Nh\u1eadp n\u01a1i c\u1ea5p CCCD")}function Qt(n,a){1&n&&(e.TgZ(0,"div",58),e._UZ(1,"cf-icon",59),e._uU(2," M\u1eb7t tr\u01b0\u1edbc "),e.qZA())}function Mt(n,a){1&n&&(e.TgZ(0,"div",58),e._UZ(1,"cf-icon",59),e._uU(2," M\u1eb7t sau "),e.qZA())}function Bt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",82)(1,"cf-input-group",16)(2,"label",35),e._uU(3," S\u1ed1 CCCD "),e.qZA(),e._UZ(4,"input",83),e.YNc(5,Nt,1,1,"cf-input-hint",19),e.YNc(6,wt,1,1,"cf-input-hint",19),e.YNc(7,qt,1,1,"cf-input-hint",19),e.qZA(),e.TgZ(8,"cf-input-group",16)(9,"label",84),e._uU(10,"Ng\xe0y c\u1ea5p CCCD"),e.qZA(),e.TgZ(11,"input",85,86),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(12);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(12);return e.KtG(o.close())}),e.qZA(),e.YNc(13,Pt,1,1,"cf-input-hint",19),e.YNc(14,Jt,1,1,"cf-input-hint",19),e.qZA(),e.TgZ(15,"cf-input-group",16)(16,"label",35),e._uU(17," N\u01a1i c\u1ea5p CCCD "),e.qZA(),e._UZ(18,"input",87),e.YNc(19,St,1,1,"cf-input-hint",19),e.qZA(),e.TgZ(20,"div",88),e._uU(21,"Upload \u1ea3nh ch\u1ee5p CCCD"),e.qZA(),e.TgZ(22,"div",89)(23,"div",90),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(26);return e.KtG(o.click())}),e.YNc(24,Qt,3,0,"div",23),e.qZA(),e.TgZ(25,"input",24,91),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.uploadCCCDFont(o))}),e.qZA(),e.TgZ(27,"div",90),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(30);return e.KtG(o.click())}),e.YNc(28,Mt,3,0,"div",23),e.qZA(),e.TgZ(29,"input",24,92),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.uploadCCCDBack(o))}),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("status",t.personalForm.controls.identifyId.invalid&&(t.personalForm.controls.identifyId.dirty||t.personalForm.controls.identifyId.touched)?"error":"default"),e.xp6(3),e.Q6J("formControl",t.personalForm.controls.identifyId),e.xp6(1),e.Q6J("ngIf",(null==t.personalForm.controls.identifyId.errors?null:t.personalForm.controls.identifyId.errors.required)&&(t.personalForm.controls.identifyId.dirty||t.personalForm.controls.identifyId.touched)),e.xp6(1),e.Q6J("ngIf",t.personalForm.controls.identifyId.hasError("minlength")&&(t.personalForm.controls.identifyId.touched||t.personalForm.controls.identifyId.dirty)),e.xp6(1),e.Q6J("ngIf",t.personalForm.controls.identifyId.hasError("maxlength")&&(t.personalForm.controls.identifyId.touched||t.personalForm.controls.identifyId.dirty)),e.xp6(1),e.Q6J("status",t.personalForm.controls.identifyDateProvide.invalid&&(t.personalForm.controls.identifyDateProvide.dirty||t.personalForm.controls.identifyDateProvide.touched)?"error":"default"),e.xp6(3),e.Q6J("displayMonths",1)("maxDate",t.currentDate)("formControl",t.personalForm.controls.identifyDateProvide),e.xp6(2),e.Q6J("ngIf",(null==t.personalForm.controls.identifyDateProvide.errors?null:t.personalForm.controls.identifyDateProvide.errors.required)&&(t.personalForm.controls.identifyDateProvide.dirty||t.personalForm.controls.identifyDateProvide.touched)),e.xp6(1),e.Q6J("ngIf",(null==t.personalForm.controls.identifyDateProvide.errors||null==t.personalForm.controls.identifyDateProvide.errors.ngbDate?null:t.personalForm.controls.identifyDateProvide.errors.ngbDate.invalid)&&(t.personalForm.controls.identifyDateProvide.dirty||t.personalForm.controls.identifyDateProvide.touched)),e.xp6(1),e.Q6J("status",t.personalForm.controls.identifyPlaceProvide.invalid&&(t.personalForm.controls.identifyPlaceProvide.dirty||t.personalForm.controls.identifyPlaceProvide.touched)?"error":"default"),e.xp6(3),e.Q6J("formControl",t.personalForm.controls.identifyPlaceProvide),e.xp6(1),e.Q6J("ngIf",(null==t.personalForm.controls.identifyPlaceProvide.errors?null:t.personalForm.controls.identifyPlaceProvide.errors.required)&&(t.personalForm.controls.identifyPlaceProvide.dirty||t.personalForm.controls.identifyPlaceProvide.touched)),e.xp6(4),e.Jzz("background-image: url(",t.previewCCCDFont,");"),e.xp6(1),e.Q6J("ngIf",!t.previewCCCDFont),e.xp6(3),e.Jzz("background-image: url(",t.previewCCCDBack,");"),e.xp6(1),e.Q6J("ngIf",!t.previewCCCDBack)}}function Yt(n,a){1&n&&e._UZ(0,"cf-input-hint",57),2&n&&e.Q6J("hint","M\xe3 s\u1ed1 doanh nghi\u1ec7p kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function Ot(n,a){1&n&&e._UZ(0,"cf-input-hint",57),2&n&&e.Q6J("hint","T\xean doanh nghi\u1ec7p kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function Rt(n,a){1&n&&e._UZ(0,"cf-input-hint",57),2&n&&e.Q6J("hint","\u0110\u1ecba ch\u1ec9 doanh nghi\u1ec7p kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function Lt(n,a){if(1&n&&(e.TgZ(0,"div",82)(1,"cf-input-group",16)(2,"label",35),e._uU(3," M\xe3 s\u1ed1 doanh nghi\u1ec7p "),e.qZA(),e._UZ(4,"input",93),e.YNc(5,Yt,1,1,"cf-input-hint",19),e.qZA(),e.TgZ(6,"cf-input-group",16)(7,"label",35),e._uU(8," T\xean doanh nghi\u1ec7p "),e.qZA(),e._UZ(9,"input",94),e.YNc(10,Ot,1,1,"cf-input-hint",19),e.qZA(),e.TgZ(11,"cf-input-group",16)(12,"label",35),e._uU(13," \u0110\u1ecba ch\u1ec9 doanh nghi\u1ec7p "),e.qZA(),e._UZ(14,"input",95),e.YNc(15,Rt,1,1,"cf-input-hint",19),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("status",t.businessForm.controls.companyCode.invalid&&(t.businessForm.controls.companyCode.dirty||t.businessForm.controls.companyCode.touched)?"error":"default"),e.xp6(3),e.Q6J("formControl",t.businessForm.controls.companyCode),e.xp6(1),e.Q6J("ngIf",(null==t.businessForm.controls.companyCode.errors?null:t.businessForm.controls.companyCode.errors.required)&&(t.businessForm.controls.companyCode.dirty||t.businessForm.controls.companyCode.touched)),e.xp6(1),e.Q6J("status",t.businessForm.controls.companyName.invalid&&(t.businessForm.controls.companyName.dirty||t.businessForm.controls.companyName.touched)?"error":"default"),e.xp6(3),e.Q6J("formControl",t.businessForm.controls.companyName),e.xp6(1),e.Q6J("ngIf",(null==t.businessForm.controls.companyName.errors?null:t.businessForm.controls.companyName.errors.required)&&(t.businessForm.controls.companyName.dirty||t.businessForm.controls.companyName.touched)),e.xp6(1),e.Q6J("status",t.businessForm.controls.companyAddress.invalid&&(t.businessForm.controls.companyAddress.dirty||t.businessForm.controls.companyAddress.touched)?"error":"default"),e.xp6(3),e.Q6J("formControl",t.businessForm.controls.companyAddress),e.xp6(1),e.Q6J("ngIf",(null==t.businessForm.controls.companyAddress.errors?null:t.businessForm.controls.companyAddress.errors.required)&&(t.businessForm.controls.companyAddress.dirty||t.businessForm.controls.companyAddress.touched))}}function zt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",55),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.setStep("TITLE_ROLE"))}),e._uU(1," Ti\u1ebfp t\u1ee5c "),e._UZ(2,"cf-icon",56),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",t.personalForm.invalid)}}function Ht(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",55),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.setStep("TITLE_ROLE"))}),e._uU(1," Ti\u1ebfp t\u1ee5c "),e._UZ(2,"cf-icon",56),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",t.businessForm.invalid)}}function Kt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",7)(1,"div",73)(2,"div",74),e._UZ(3,"div",11),e.TgZ(4,"div",12),e._uU(5,"X\xe1c th\u1ef1c danh t\xednh"),e.qZA()(),e.TgZ(6,"div",75)(7,"cf-radio-group",76),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.userType=o)})("checkChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.userTypeChange(o))}),e.TgZ(8,"cf-radio",77),e._uU(9,"C\xe1 nh\xe2n"),e.qZA(),e.TgZ(10,"cf-radio",77),e._uU(11,"Doanh nghi\u1ec7p"),e.qZA()(),e.YNc(12,Bt,31,22,"div",78),e.YNc(13,Lt,16,9,"div",78),e.qZA(),e.TgZ(14,"div",79)(15,"button",80),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.setStep("BASIC_INFO"))}),e._UZ(16,"cf-icon",72),e._uU(17," Quay l\u1ea1i "),e.qZA(),e.YNc(18,zt,3,1,"button",81),e.YNc(19,Ht,3,1,"button",81),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("ngModel",t.userType),e.xp6(1),e.Q6J("value","PERSONAL"),e.xp6(2),e.Q6J("value","BUSINESS"),e.xp6(2),e.Q6J("ngIf","PERSONAL"===t.userType),e.xp6(1),e.Q6J("ngIf","BUSINESS"===t.userType),e.xp6(2),e.Q6J("type","secondary"),e.xp6(3),e.Q6J("ngIf","PERSONAL"===t.userType),e.xp6(1),e.Q6J("ngIf","BUSINESS"===t.userType)}}function jt(n,a){1&n&&e._UZ(0,"cf-input-hint",57),2&n&&e.Q6J("hint","Ch\u1ecdn ch\u1ee9c danh")}function Vt(n,a){1&n&&e._UZ(0,"div",102)}function Gt(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"cf-switch",109),e._uU(2),e.qZA(),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("disabled",!0)("checked",!0),e.xp6(1),e.Oqu(t)}}function Xt(n,a){if(1&n&&(e.TgZ(0,"div",103)(1,"div",104)(2,"div",105),e._uU(3," Quy\u1ec1n h\u1ea1n m\u1eb7c \u0111\u1ecbnh "),e.qZA(),e.TgZ(4,"div",106),e._uU(5," L\xe0 nh\u1eefng quy\u1ec1n h\u1ea1n \u0111\u01b0\u1ee3c c\u1ea5p cho role \u0111\xf3, kh\xf4ng \u0111\u01b0\u1ee3c ph\xe9p thay \u0111\u1ed5i. "),e.qZA()(),e.TgZ(6,"div",107),e.YNc(7,Gt,3,3,"ng-container",108),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(7),e.Q6J("ngForOf",t.listDefaultRole)}}function $t(n,a){1&n&&e._UZ(0,"div",102)}function Wt(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"cf-switch",110),e.NdJ("checkedChange",function(){const r=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.onToggleRole(r.id))}),e._uU(2),e.qZA(),e.BQk()}if(2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.name)}}function en(n,a){if(1&n&&(e.TgZ(0,"div",103)(1,"div",104)(2,"div",105),e._uU(3," Quy\u1ec1n h\u1ea1n n\xe2ng cao "),e.qZA(),e.TgZ(4,"div",106),e._uU(5," L\xe0 nh\u1eefng quy\u1ec1n h\u1ea1n \u0111\u01b0\u1ee3c ch\u1ec9 \u0111\u1ecbnh c\u1ea5p th\xeam cho \u0111\u1ea1i l\xfd n\u1ebfu mu\u1ed1n. "),e.qZA()(),e.TgZ(6,"div",107),e.YNc(7,Wt,3,1,"ng-container",108),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(7),e.Q6J("ngForOf",t.listAdvanceRole)}}function tn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",7)(1,"div",73)(2,"div",74),e._UZ(3,"div",11),e.TgZ(4,"div",12),e._uU(5,"Ch\u1ee9c danh"),e.qZA()(),e.TgZ(6,"div",96)(7,"cf-select",97),e.NdJ("selectedChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.loadRoleAdvance(o))}),e.TgZ(8,"label",35),e._uU(9," Ch\u1ee9c danh "),e.qZA(),e.YNc(10,jt,1,1,"cf-input-hint",19),e.qZA(),e.YNc(11,Vt,1,0,"div",98),e.YNc(12,Xt,8,1,"div",99),e.YNc(13,$t,1,0,"div",98),e.YNc(14,en,8,1,"div",99),e.qZA(),e.TgZ(15,"div",79)(16,"button",100),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.setStep("IDENTITY"))}),e._UZ(17,"cf-icon",72),e._uU(18," Quay l\u1ea1i "),e.qZA(),e.TgZ(19,"button",55),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.createAccount())}),e._UZ(20,"cf-icon",101),e._uU(21," T\u1ea1o t\xe0i kho\u1ea3n "),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("status",t.roleForm.controls.titleId.invalid&&(t.roleForm.controls.titleId.dirty||t.roleForm.controls.titleId.touched)?"error":"default")("data",t.roleOptions)("allowSearch",!1)("formControl",t.roleForm.controls.titleId),e.xp6(3),e.Q6J("ngIf",t.roleForm.controls.titleId.hasError("required")&&t.roleForm.controls.titleId.touched),e.xp6(1),e.Q6J("ngIf",t.listDefaultRole.length),e.xp6(1),e.Q6J("ngIf",t.listDefaultRole.length),e.xp6(1),e.Q6J("ngIf",t.listAdvanceRole.length),e.xp6(1),e.Q6J("ngIf",t.listAdvanceRole.length),e.xp6(2),e.Q6J("type","secondary"),e.xp6(3),e.Q6J("disabled",t.roleForm.invalid)}}function nn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",7)(1,"div",73)(2,"div",111),e._UZ(3,"img",112),e.TgZ(4,"div",113)(5,"div",114),e._uU(6,"T\u1ea1o t\xe0i kho\u1ea3n \u0111\u1ea1i l\xfd th\xe0nh c\xf4ng"),e.qZA(),e.TgZ(7,"div",115)(8,"div"),e._uU(9," \u0110\u1ea1i l\xfd "),e.TgZ(10,"strong"),e._uU(11),e.qZA(),e._uU(12," c\u1ea7n x\xe1c th\u1ef1c email \u0111\u0103ng k\xfd \u0111\u1ec3 ho\xe0n t\u1ea5t vi\u1ec7c t\u1ea1o t\xe0i kho\u1ea3n. "),e.qZA(),e.TgZ(13,"span"),e._uU(14," Email x\xe1c th\u1ef1c t\xe0i kho\u1ea3n \u0111\xe3 g\u1eedi \u0111\u1ebfn "),e.TgZ(15,"strong"),e._uU(16),e.qZA(),e._uU(17," c\u1ee7a \u0111\u1ea1i l\xfd. Vui l\xf2ng th\xf4ng b\xe1o \u0111\u1ea1i l\xfd ho\xe0n t\u1ea5t s\u1edbm. "),e.qZA()()(),e.TgZ(18,"div",89)(19,"button",116),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.createNew())}),e._UZ(20,"cf-icon",117),e._uU(21," T\u1ea1o m\u1edbi "),e.qZA(),e.TgZ(22,"button",118),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.viewList())}),e._UZ(23,"cf-icon",119),e._uU(24," Xem danh s\xe1ch "),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Oqu(t.userForm.controls.agentName.value),e.xp6(5),e.Oqu(t.userForm.controls.email.value)}}function on(n,a){1&n&&e._UZ(0,"cf-spinner")}let an=(()=>{class n{constructor(t,i,o,r,s,d,m,f,A,E,T,D){this.calendar=t,this._fb=i,this._roleService=o,this._router=r,this._toastService=s,this._route=d,this._titleService=m,this._userService=f,this._phoneDataService=A,this._bankDataService=E,this._permissionService=T,this.allRoles=[],this.allRolesAdvance=[],this.titleUps=[],this.titleDowns=[],this.enabledRole=[],this.enabledTitleUp=[],this.enabledTitleDown=[],this.editMode=!1,this.optionsAreaCode=[],this.belongSaleOption=[],this.referralChannelData=[{code:"DIRECT",name:"Tr\u1ef1c ti\u1ebfp"},{code:"LANDING_PAGE",name:"Landing Page"},{code:"SOCIAL_MEDIA",name:"M\u1ea1ng x\xe3 h\u1ed9i"},{code:"MARKETING",name:"Ch\u01b0\u01a1ng tr\xecnh Marketing"}],this.bankData=[],this.titleData=[],this.step="BASIC_INFO",this.userType="PERSONAL",this.roleOptions=[],this.listRoleSelected=[],this.listAdvanceRole=[],this.listDefaultRole=[],this.isLoading=!1,this.paymentTypeOption=[{value:"PAYMENT_NOW",text:"Chi\u1ebft kh\u1ea5u tr\u1ea3 ngay"},{value:"PAYMENT_LATER",text:"Chi\u1ebft kh\u1ea5u tr\u1ea3 sau"}],this.canCreateAgentUser_AGENT2=this._permissionService.hasPermission(C.or.CreateAgentUser_AGENT2),this.isExpand=!1,this.currentDate=t.getToday(),D.registerIcons([u.Rq_,u.Rcu,u.rks,u.toh,u.TM4,u.D7,u.Rcu,u.RxK]),this._router.routeReuseStrategy.shouldReuseRoute=()=>!1}ngOnInit(){this.optionsAreaCode=this._phoneDataService.optionsAreaCode,this.loadBelongSale(),this.userForm=this._fb.group({userName:["",[c.kI.required,c.kI.pattern("^[A-Za-z0-9-]+$"),c.kI.maxLength(6)],this.validateUserNameFromAPIDebounce.bind(this)],agentName:["",[c.kI.required,c.kI.minLength(2)]],representative:["",c.kI.required],avatar:[""],email:["",[c.kI.required,c.kI.email]],areaCode:["+84",c.kI.required],phone:["",[c.kI.required,c.kI.minLength(7),c.kI.maxLength(11)]],belongSale:[""],facebookContact:[""],referralChannel:[this.referralChannelData[0].code],note:[""],bankAccount:["",c.kI.required],nameOwnAccount:["",c.kI.required],bankName:["",c.kI.required],bankBranchName:["",c.kI.required],userType:["BUSINESS",c.kI.required],business:[!1,c.kI.required]}),this.canCreateAgentUser_AGENT2&&(this.userForm.addControl("maxNegative",this._fb.control(0,[c.kI.required])),this.userForm.addControl("discountPaymentType",this._fb.control("",[c.kI.required]))),this.roleForm=this._fb.group({titleId:["",c.kI.required],roleIds:[""]}),this.personalForm=this._fb.group({identifyId:["",[c.kI.required,c.kI.minLength(6),c.kI.maxLength(12)]],identifyDateProvide:["",c.kI.required],identifyPlaceProvide:["",c.kI.required],frontImageIdentify:["",c.kI.required],backImageIdentify:["",c.kI.required]}),this.businessForm=this._fb.group({companyCode:["",c.kI.required],companyName:["",c.kI.required],companyAddress:["",c.kI.required]}),this.bankData=this._bankDataService.getBankOption(),this.initTitleData()}initRoleAdvance(t){this.allRoles=t.data.map(i=>({name:i.name,id:i.id,actived:!1}))}loadRoleAdvance(t){var i;this.listRoleSelected=[];const o=this.titleData.find(r=>r.id===t.id);o&&(this.listDefaultRole=o.defaultPermission||[],this.listAdvanceRole=(null===(i=o.advanceRole)||void 0===i?void 0:i.map(r=>({id:r.id,name:r.name})))||[])}loadBelongSale(){this._userService.getBelongSale().subscribe(t=>{t.success&&(this.belongSaleOption=t.data.map(i=>({code:i.id,name:`${i.userName} - ${i.displayName} (${i.titleName})`})))})}initTitleData(){this._titleService.getAllAgentTitleForCreateUser().subscribe({next:t=>{t.data&&(this.titleData=t.data,this.roleOptions=t.data.map(i=>({id:i.id,name:i.name})))}})}validateUserNameFromAPIDebounce(t){return(0,me.H)(1500).pipe((0,$.w)(()=>this._userService.checkUsernameExist(t.value).pipe((0,fe.U)(i=>i.data?{usernameDuplicated:!0}:null))))}bankCustomSearch(t,i){return!(!t.code.toLocaleLowerCase().includes(i.toLocaleLowerCase())&&!t.name.toLocaleLowerCase().includes(i.toLocaleLowerCase()))}uploadAvatar(t){this.avatarFile=t.target.files[0],this.getPreviewImage(t,"avatar")}uploadCCCDFont(t){this.cccdFontFile=t.target.files[0],this.getPreviewImage(t,"cccdFont"),this.personalForm.controls.frontImageIdentify.setValue(this.cccdFontFile.name)}uploadCCCDBack(t){this.cccdBackFile=t.target.files[0],this.getPreviewImage(t,"cccdBack"),this.personalForm.controls.backImageIdentify.setValue(this.cccdBackFile.name)}userTypeChange(t){this.userForm.controls.business.setValue("PERSONAL"===t)}getPreviewImage(t,i){if(t.target.files&&t.target.files[0]){const o=t.target.files[0],r=new FileReader;switch(i){case"avatar":r.onload=s=>this.previewAvatar=r.result;break;case"cccdFont":r.onload=s=>this.previewCCCDFont=r.result;break;case"cccdBack":r.onload=s=>this.previewCCCDBack=r.result}r.readAsDataURL(o)}}setStep(t){this.step=t}roleChange(t,i){i.actived=t}onToggleRole(t){this.listRoleSelected.includes(t)?this.listRoleSelected=this.listRoleSelected.filter(i=>i!==t):this.listRoleSelected.push(t)}createAccount(){"PERSONAL"===this.userType&&this.createPersonalAccount(),"BUSINESS"===this.userType&&this.createBusinessAccount()}createPersonalAccount(){var t,i,o,r,s,d;const m={agentName:this.userForm.controls.agentName.value,avatar:this.avatarFile?this.avatarFile.name:null,backImageIdentify:this.personalForm.controls.backImageIdentify.value,bankAccount:null===(t=this.userForm.controls.bankAccount.value)||void 0===t?void 0:t.trim(),bankBranchName:this.userForm.controls.bankBranchName.value,bankName:this.userForm.controls.bankName.value,belongSale:this.userForm.controls.belongSale.value,business:!1,companyAddress:"",companyCode:"",companyName:"",discountPaymentType:(null===(i=this.userForm.controls.discountPaymentType)||void 0===i?void 0:i.value)||"",email:null===(o=this.userForm.controls.email.value)||void 0===o?void 0:o.trim(),frontImageIdentify:this.personalForm.controls.frontImageIdentify.value,identifyDateProvide:this.personalForm.controls.identifyDateProvide.value?R(this.personalForm.controls.identifyDateProvide.value).format("DD/MM/YYYY"):"",identifyId:null===(r=this.personalForm.controls.identifyId.value)||void 0===r?void 0:r.trim(),identifyPlaceProvide:this.personalForm.controls.identifyPlaceProvide.value,maxNegative:(null===(s=this.userForm.controls.maxNegative)||void 0===s?void 0:s.value)||0,nameOwnAccount:this.userForm.controls.nameOwnAccount.value,note:this.userForm.controls.note.value,phone:null===(d=this.userForm.controls.phone.value)||void 0===d?void 0:d.trim(),phoneArea:this.userForm.controls.areaCode.value,facebookContact:this.userForm.controls.facebookContact.value,referralChannel:this.userForm.controls.referralChannel.value,representative:this.userForm.controls.representative.value,roleIds:this.listRoleSelected||[],titleId:this.roleForm.controls.titleId.value,userName:this.userForm.controls.userName.value};this.isLoading=!0,this._userService.getUrlUploadImage({username:this.userForm.controls.userName.value,avatarContentType:this.avatarFile?this.avatarFile.type:"",avatarExtension:this.getExtension(this.avatarFile?this.avatarFile.name:""),cccdFontContentType:this.cccdFontFile?this.cccdFontFile.type:"",cccdFontExtension:this.getExtension(this.cccdFontFile?this.cccdFontFile.name:""),cccdBackContentType:this.cccdBackFile?this.cccdBackFile.type:"",cccdBackExtension:this.getExtension(this.cccdBackFile?this.cccdBackFile.name:"")}).subscribe({next:f=>{this.isLoading=!0;const A=[this.uploadAvatarToS3(f.data.cccdFontUploadUrl,this.cccdFontFile.type,this.cccdFontFile),this.uploadAvatarToS3(f.data.cccdBackUploadUrl,this.cccdBackFile.type,this.cccdBackFile)];this.avatarFile&&A.push(this.uploadAvatarToS3(f.data.avatarUploadUrl,this.avatarFile.type,this.avatarFile)),(0,I.D)(A).pipe((0,U.x)(()=>this.isLoading=!1)).subscribe({next:E=>{this._userService.createAgentUser(m).subscribe({next:T=>{T.success?(this._toastService.add({severity:"success",summary:"Th\xe0nh c\xf4ng",detail:"T\u1ea1o \u0111\u1ea1i l\xfd th\xe0nh c\xf4ng",sticky:!1}),this.step="SUCCESS"):this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:T.objectError.errorDescription.vi,sticky:!0})},error:()=>{this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:"C\xf3 l\u1ed7i x\u1ea3y ra",sticky:!0})}})}})}})}createBusinessAccount(){this.createBusinessUser()}createBusinessUser(){var t,i,o,r,s;const d={userName:this.userForm.controls.userName.value,agentName:this.userForm.controls.agentName.value,representative:this.userForm.controls.representative.value,avatar:this.avatarFile?this.avatarFile.name:"",email:null===(t=this.userForm.controls.email.value)||void 0===t?void 0:t.trim(),phone:null===(i=this.userForm.controls.phone.value)||void 0===i?void 0:i.trim(),phoneArea:this.userForm.controls.areaCode.value,belongSale:this.userForm.controls.belongSale.value,facebookContact:this.userForm.controls.facebookContact.value,referralChannel:this.userForm.controls.referralChannel.value,note:this.userForm.controls.note.value,bankAccount:null===(o=this.userForm.controls.bankAccount.value)||void 0===o?void 0:o.trim(),nameOwnAccount:this.userForm.controls.nameOwnAccount.value,bankName:this.userForm.controls.bankName.value,bankBranchName:this.userForm.controls.bankBranchName.value,titleId:this.roleForm.controls.titleId.value,roleIds:this.listRoleSelected||[],business:!0,identifyId:"",identifyDateProvide:"",identifyPlaceProvide:"",frontImageIdentify:"",backImageIdentify:"",companyCode:this.businessForm.controls.companyCode.value,companyName:this.businessForm.controls.companyName.value,companyAddress:this.businessForm.controls.companyAddress.value,discountPaymentType:(null===(r=this.userForm.controls.discountPaymentType)||void 0===r?void 0:r.value)||"",maxNegative:(null===(s=this.userForm.controls.maxNegative)||void 0===s?void 0:s.value)||0};this.isLoading=!0,this._userService.createAgentUser(d).pipe((0,U.x)(()=>this.isLoading=!1)).subscribe({next:m=>{m.success?(this._toastService.add({severity:"success",summary:"Th\xe0nh c\xf4ng",detail:"T\u1ea1o \u0111\u1ea1i l\xfd th\xe0nh c\xf4ng",sticky:!1}),this.step="SUCCESS"):this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:m.objectError.errorDescription.vi,sticky:!0})},error:()=>{this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:"C\xf3 l\u1ed7i x\u1ea3y ra",sticky:!0})}})}getExtension(t){return"."+t.split(".").pop()}uploadAvatarToS3(t,i,o){return this._userService.uploadfileAWSS3(t,i,o)}createNew(){this._router.navigate(["admin/create-agent"])}viewList(){this._router.navigate(["admin/agent-manage"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.jH),e.Y36(c.qu),e.Y36(K.Nj),e.Y36(x.F0),e.Y36(y.BX),e.Y36(x.gz),e.Y36(b.yD),e.Y36(b.KD),e.Y36(ce.l),e.Y36(_e.j),e.Y36(C.$A),e.Y36(u.KNP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["create-agent-page"]],standalone:!0,features:[e.jDz],decls:21,vars:13,consts:[[1,"flex","justify-center","pt-[32px]","pb-1","px-[30px]","rounded-lg","md:hidden"],[1,"w-[1000px]","max-w-[1000px]","flex","gap-x-2"],[1,"text-body-md-short","text-neutral-gray-4"],["icon","chevron_right","size","small",1,"text-neutral-gray-4"],["class","flex justify-center py-4 px-[30px] rounded-lg md:hidden",4,"ngIf"],[1,"p-5","hidden","md:block","text-center"],[4,"ngIf"],[1,"flex","justify-center","py-4","px-[30px]","rounded-lg","md:hidden"],[1,"w-[1000px]","max-w-[1000px]","flex","flex-col","gap-y-8"],[1,""],[1,"flex","gap-x-[20px]","mb-4"],[1,"w-1","bg-[#fcb40a]"],[1,"text-heading-md"],[1,"p-6","bg-neutral-white","rounded-lg","shadow-cf-md","flex","flex-col","gap-y-4"],[1,"flex","gap-x-4"],[1,"flex","flex-col","grow","gap-y-2"],[1,"grow-[400]","!w-full",3,"status"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5",3,"CfRequired"],["cf-input","","size","medium","placeholder","Nh\u1eadp m\xe3 \u0111\u1ea1i l\xfd",3,"formControl"],["cfHint","",3,"hint",4,"ngIf"],["cf-input","","size","medium","placeholder","Nh\u1eadp t\xean \u0111\u1ea1i l\xfd",3,"formControl"],[1,"flex","items-end","pt-7"],[1,"h-full","w-[124px]","bg-no-repeat","bg-center","bg-cover","rounded","border","border-dashed","border-neutral-gray-2","flex","items-center","justify-center","P-6","cursor-pointer","overflow-hidden",3,"ngClass","click"],["class","text-express-sm text-center px-6 flex flex-col justify-center items-center gap-y-3",4,"ngIf"],["type","file","accept","image/*",1,"hidden",3,"change"],["fileUpload",""],["cf-input","","size","medium","placeholder","Nh\u1eadp h\u1ecd v\xe0 t\xean ng\u01b0\u1eddi \u0111\u1ea1i di\u1ec7n",3,"formControl"],[1,"flex","w-full","gap-x-4","mt-2"],[1,"grow-[433]",3,"status"],["cf-input","","size","medium","placeholder","Nh\u1eadp email",3,"formControl"],[1,"text-espressive-md","text-neutral-gray-5","mb-1.5","empty:!m-0"],["textField","name","valueField","code","size","small","placeholder","Nh\u1eadp m\xe3",1,"!w-full","!max-w-full",3,"status","data","formControl"],["cfSuffix","",1,"w-[65%]","px-3","text-body-md","flex","gap-x-2","items-center","border-l","border-neutral-gray-2"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i","CfNumberic","",3,"formControl"],["textField","name","valueField","code","placeholder","Ch\u1ecdn ng\u01b0\u1eddi gi\u1edbi thi\u1ec7u",1,"!max-w-none","w-full",3,"status","data","allowSearch","formControl"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5"],[1,"!w-full",3,"status"],["cf-input","","placeholder","Ghi ch\xfa m\xf4 t\u1ea3 chi ti\u1ebft v\u1ec1 \u0111\u1ea1i l\xfd n\xe0y",3,"formControl"],[1,"mt-3"],[1,"border","border-dashed","border-neutral-gray-3","rounded"],[1,"flex","justify-between","items-center","gap-x-2","py-2.5","px-4",3,"click"],[1,"text-espressive-sm","text-black","flex-1","flex","items-center","gap-x-2"],["icon","document","size","small"],[1,"cursor-pointer"],["icon","remove","size","small",4,"ngIf"],["icon","plus","size","small",4,"ngIf"],["class","flex flex-col gap-y-2 border-t border-neutral-gray-1 py-2.5 px-4",4,"ngIf"],[1,"flex","flex-nowrap","gap-x-4"],[1,"!w-1/2",3,"status"],["cf-input","","size","medium","placeholder","Nh\u1eadp s\u1ed1 t\xe0i kho\u1ea3n ng\xe2n h\xe0ng","CfNumberic","",3,"formControl"],["cf-input","","size","medium","placeholder","Nh\u1eadp h\u1ecd t\xean ch\u1ee7 t\xe0i kho\u1ea3n",3,"formControl"],["textField","name","valueField","code","placeholder","Ch\u1ecdn ng\xe2n h\xe0ng",1,"!w-1/2","!max-w-none",3,"customSearch","status","data","formControl","allowSearch"],["cf-input","","size","medium","placeholder","Nh\u1eadp t\xean chi nh\xe1nh ng\xe2n h\xe0ng",3,"formControl"],[1,"flex","justify-between"],["cf-button","","size","medium","type","secondary","class","bg-white",4,"ngIf"],["cf-button","","size","medium",3,"disabled","click"],["icon","chevron_right","size","small",1,"ml-2.5"],["cfHint","",3,"hint"],[1,"text-express-sm","text-center","px-6","flex","flex-col","justify-center","items-center","gap-y-3"],["icon","cloud_upload","size","medium"],["icon","remove","size","small"],["icon","plus","size","small"],[1,"flex","flex-col","gap-y-2","border-t","border-neutral-gray-1","py-2.5","px-4"],["cf-input","","size","medium","placeholder","Nh\u1eadp trang facebook c\u1ee7a \u0111\u1ea1i l\xfd",1,"truncate",3,"formControl"],[1,"flex","gap-x-2","w-full"],["textField","name","valueField","code","placeholder","Ch\u1ecdn k\xeanh gi\u1edbi thi\u1ec7u",1,"!max-w-none","w-full","bg-neutral-white",3,"status","data","allowSearch","formControl"],[1,"p-6","bg-neutral-white","rounded-lg","shadow-cf-md"],["textField","text","valueField","value","placeholder","Ch\u1ecdn lo\u1ea1i chi\u1ebft kh\u1ea5u nh\u1eadn",1,"!w-full","!max-w-none",3,"status","data","allowSearch","formControl"],[1,"w-full",3,"status"],["cfLabel","",1,"text-express-sm","text-black",3,"CfRequired"],["size","medium",3,"placeholder","negative","formControl"],["cf-button","","size","medium","type","secondary",1,"bg-white"],["icon","arrow_left","size","small",1,"mr-2.5"],[1,"w-[1000px]","max-w-[1000px]","flex","flex-col","gap-y-4"],[1,"flex","gap-x-[20px]"],[1,"p-6","bg-neutral-white","rounded","shadow-cf-md","flex","flex-col","gap-y-4"],[1,"flex","items-center","gap-x-8",3,"ngModel","ngModelChange","checkChange"],["size","medium",3,"value"],["class","flex flex-col gap-y-4",4,"ngIf"],[1,"flex","justify-between","gap-x-2"],["cf-button","","size","medium",1,"bg-white",3,"type","click"],["cf-button","","size","medium",3,"disabled","click",4,"ngIf"],[1,"flex","flex-col","gap-y-4"],["cf-input","","size","medium","placeholder","Nh\u1eadp s\u1ed1 CCCD","CfNumberic","",3,"formControl"],["cfLabel",""],["cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Ch\u1ecdn ng\xe0y c\u1ea5p CCCD",1,"py-[7px]",3,"displayMonths","maxDate","formControl","input","dateSelect"],["dateFrom","cfDatepicker"],["cf-input","","size","medium","placeholder","Nh\u1eadp n\u01a1i c\u1ea5p CCCD",3,"formControl"],[1,"text-espressive-sm"],[1,"flex","gap-x-3"],[1,"h-[140px]","w-[140px]","bg-no-repeat","bg-center","bg-cover","rounded","border","border-neutral-gray-2","flex","items-center","justify-center","cursor-pointer",3,"click"],["fileUploadCCCDFont",""],["fileUploadCCCDBack",""],["cf-input","","size","medium","placeholder","Nh\u1eadp m\xe3 s\u1ed1 doanh nghi\u1ec7p",3,"formControl"],["cf-input","","size","medium","placeholder","Nh\u1eadp t\xean doanh nghi\u1ec7p",3,"formControl"],["cf-input","","size","medium","placeholder","Nh\u1eadp \u0111\u1ecba ch\u1ec9 doanh nghi\u1ec7p",3,"formControl"],[1,"p-6","bg-neutral-white","rounded","shadow-cf-md","flex","flex-col","gap-y-6"],["textField","name","valueField","id","placeholder","Ch\u1ecdn vai tr\xf2",1,"!w-full","!max-w-none",3,"status","data","allowSearch","formControl","selectedChange"],["class","w-full border-t border-neutral-gray-1",4,"ngIf"],["class","flex gap-x-8",4,"ngIf"],["cf-button","","size","medium",1,"!bg-white",3,"type","click"],["icon","add","size","small",1,"mr-2.5"],[1,"w-full","border-t","border-neutral-gray-1"],[1,"flex","gap-x-8"],[1,"flex","flex-col","gap-y-2","w-[260px]"],[1,"text-heading-sm"],[1,"text-body-lg","text-neutral-gray-4"],[1,"flex","flex-col","flex-1","gap-y-4"],[4,"ngFor","ngForOf"],[3,"disabled","checked"],[3,"checkedChange"],[1,"p-6","bg-neutral-white","rounded","shadow-cf-md","flex","flex-col","gap-y-6","justify-center","items-center"],["src","assets/images/wow-factor.svg",1,"w-32"],[1,"flex","flex-col","items-center","gap-y-4"],[1,"text-heading-md","text-neutral-black"],[1,"text-center","text-body-md-long"],["cf-button","","size","medium","type","secondary",1,"bg-white",3,"click"],["cfHeadIcon","","icon","plus","size","small",1,"mr-2"],["cf-button","","size","medium",3,"click"],["cfHeadIcon","","icon","document","size","small",1,"mr-2"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Th\xf4ng tin c\u01a1 b\u1ea3n"),e.qZA(),e._UZ(4,"cf-icon",3),e.TgZ(5,"div",2),e._uU(6,"X\xe1c th\u1ef1c danh t\xednh"),e.qZA(),e._UZ(7,"cf-icon",3),e.TgZ(8,"div",2),e._uU(9,"Quy\u1ec1n h\u1ea1n "),e.qZA(),e._UZ(10,"cf-icon",3),e.TgZ(11,"div",2),e._uU(12,"Ho\xe0n th\xe0nh "),e.qZA()()(),e.YNc(13,Ut,107,67,"div",4),e.YNc(14,Kt,20,8,"div",4),e.YNc(15,tn,22,11,"div",4),e.YNc(16,nn,25,2,"div",4),e.TgZ(17,"div",5),e._uU(18," Vi\u1ec7c t\u1ea1o \u0111\u1ea1i l\xfd ph\u1ee9c t\u1ea1p \u0111\xf2i h\u1ecfi \u0111\u1ed9 ch\xednh x\xe1c cao \u0111\u1ea1i l\xfd vui l\xf2ng thao t\xe1c tr\xean m\xe1y t\xednh\n"),e.qZA(),e._UZ(19,"cf-toast"),e.YNc(20,on,1,0,"cf-spinner",6)),2&t&&(e.xp6(2),e.ekj("text-neutral-gray-5","BASIC_INFO"===i.step),e.xp6(3),e.ekj("text-neutral-gray-5","IDENTITY"===i.step),e.xp6(3),e.ekj("text-neutral-gray-5","TITLE_ROLE"===i.step),e.xp6(3),e.ekj("text-neutral-gray-5","SUCCESS"===i.step),e.xp6(2),e.Q6J("ngIf","BASIC_INFO"===i.step),e.xp6(1),e.Q6J("ngIf","IDENTITY"===i.step),e.xp6(1),e.Q6J("ngIf","TITLE_ROLE"===i.step),e.xp6(1),e.Q6J("ngIf","SUCCESS"===i.step),e.xp6(4),e.Q6J("ngIf",i.isLoading))},dependencies:[h.ez,h.mk,h.sg,h.O5,c.u5,c.Fj,c.JJ,c.On,c.UX,c.oH,l.j$,l.ND,l.BN,l.v2,l.lt,v.N8,v.Xq,y.hj,N.q,H.Cs,G.o,G.T,u.AxE,u.Sm8,X.C,ae.I,k.OR,re.z],encapsulation:2}),n})();var ve=p(87683);function rn(n,a){1&n&&e._UZ(0,"cf-input-hint",58),2&n&&e.Q6J("hint","T\xean \u0111\u0103ng nh\u1eadp kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function cn(n,a){1&n&&e._UZ(0,"cf-input-hint",58),2&n&&e.Q6J("hint","T\xean \u0111\u0103ng nh\u1eadp \u0111\xe3 t\u1ed3n t\u1ea1i")}function sn(n,a){1&n&&e._UZ(0,"cf-input-hint",58),2&n&&e.Q6J("hint","T\u1ed1i \u0111a 6 k\xed t\u1ef1")}function ln(n,a){1&n&&e._UZ(0,"cf-input-hint",58),2&n&&e.Q6J("hint","T\xean \u0111\u0103ng nh\u1eadp ch\u1ec9 bao g\u1ed3m ch\u1eef v\xe0 s\u1ed1")}function un(n,a){1&n&&e._UZ(0,"cf-input-hint",58),2&n&&e.Q6J("hint","H\u1ecd v\xe0 t\xean kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function dn(n,a){1&n&&e._UZ(0,"cf-input-hint",58),2&n&&e.Q6J("hint","T\u1ed1i thi\u1ec3u 2 k\xed t\u1ef1")}function _n(n,a){1&n&&(e.TgZ(0,"div",59),e._uU(1," Upload \u1ea3nh \u0111\u1ea1i di\u1ec7n "),e.qZA())}function pn(n,a){1&n&&e._UZ(0,"cf-input-hint",58),2&n&&e.Q6J("hint","Email kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function gn(n,a){1&n&&e._UZ(0,"cf-input-hint",58),2&n&&e.Q6J("hint","\u0110\u1ecbnh d\u1ea1ng kh\xf4ng h\u1ee3p l\u1ec7")}function hn(n,a){1&n&&e._UZ(0,"cf-input-hint",58),2&n&&e.Q6J("hint","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function mn(n,a){1&n&&e._UZ(0,"cf-input-hint",58),2&n&&e.Q6J("hint","T\u1ed1i thi\u1ec3u 7 ch\u1eef s\u1ed1")}function fn(n,a){1&n&&e._UZ(0,"cf-input-hint",58),2&n&&e.Q6J("hint","T\u1ed1i \u0111a 11 ch\u1eef s\u1ed1")}function vn(n,a){1&n&&(e.TgZ(0,"div",60),e._UZ(1,"cf-icon",61),e.TgZ(2,"span"),e._uU(3,"Th\xf4ng tin b\u1ed5 sung"),e.qZA()())}function Cn(n,a){1&n&&e._UZ(0,"cf-input-hint",58),2&n&&e.Q6J("hint","Ch\u01b0a ch\u1ecdn ng\xe0y sinh")}function xn(n,a){1&n&&e._UZ(0,"cf-input-hint",58),2&n&&e.Q6J("hint","Ng\xe0y ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/MM/yyyy")}function En(n,a){1&n&&e._UZ(0,"cf-input-hint",58),2&n&&e.Q6J("hint","S\u1ed1 CCCD kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function An(n,a){1&n&&e._UZ(0,"cf-input-hint",58),2&n&&e.Q6J("hint","T\u1ed1i thi\u1ec3u 6 ch\u1eef s\u1ed1")}function yn(n,a){1&n&&e._UZ(0,"cf-input-hint",58),2&n&&e.Q6J("hint","T\u1ed1i \u0111a 12 ch\u1eef s\u1ed1")}function Tn(n,a){1&n&&e._UZ(0,"cf-input-hint",58),2&n&&e.Q6J("hint","Ng\xe0y c\u1ea5p CCCD kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function Zn(n,a){1&n&&e._UZ(0,"cf-input-hint",58),2&n&&e.Q6J("hint","Ng\xe0y c\u1ea5p CCCD ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/MM/yyyy")}function Dn(n,a){1&n&&e._UZ(0,"cf-input-hint",58),2&n&&e.Q6J("hint","N\u01a1i c\u1ea5p CCCD kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function Fn(n,a){1&n&&(e.TgZ(0,"div",62),e._uU(1," M\u1eb7t tr\u01b0\u1edbc "),e.qZA())}function bn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",63),e.NdJ("click",function(o){e.CHM(t),e.oxw();const r=e.MAs(95),s=e.oxw();return e.KtG(s.onDeleteCCCDFont(o,r))}),e._UZ(1,"cf-icon",64),e.qZA()}}function kn(n,a){1&n&&(e.TgZ(0,"div",62),e._uU(1," M\u1eb7t sau "),e.qZA())}function In(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",63),e.NdJ("click",function(o){e.CHM(t),e.oxw();const r=e.MAs(100),s=e.oxw();return e.KtG(s.onDeleteCCCDBack(o,r))}),e._UZ(1,"cf-icon",64),e.qZA()}}function Un(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",65),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.setStep("BASIC_INFO"))}),e._UZ(1,"cf-icon",66),e._uU(2," Quay l\u1ea1i "),e.qZA()}}const Nn=function(n){return{"border border-dashed border-neutral-gray-2":n}};function wn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"div")(3,"div",6),e._UZ(4,"div",7),e.TgZ(5,"div",8),e._uU(6,"Th\xf4ng tin c\u01a1 b\u1ea3n"),e.qZA()(),e.TgZ(7,"div",9)(8,"div",10)(9,"div",11)(10,"cf-input-group",12)(11,"label",13),e._uU(12," T\xean \u0111\u0103ng nh\u1eadp "),e.qZA(),e._UZ(13,"input",14),e.YNc(14,rn,1,1,"cf-input-hint",15),e.YNc(15,cn,1,1,"cf-input-hint",15),e.YNc(16,sn,1,1,"cf-input-hint",15),e.YNc(17,ln,1,1,"cf-input-hint",15),e.qZA(),e.TgZ(18,"cf-input-group",12)(19,"label",13),e._uU(20," H\u1ecd v\xe0 t\xean "),e.qZA(),e._UZ(21,"input",16),e.YNc(22,un,1,1,"cf-input-hint",15),e.YNc(23,dn,1,1,"cf-input-hint",15),e.qZA()(),e.TgZ(24,"div",17)(25,"div",18),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(28);return e.KtG(o.click())}),e.YNc(26,_n,2,0,"div",19),e.qZA(),e.TgZ(27,"input",20,21),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.uploadAvatar(o))}),e.qZA()()(),e.TgZ(29,"div",22)(30,"cf-input-group",23)(31,"label",13),e._uU(32," Email "),e.qZA(),e._UZ(33,"input",24),e.YNc(34,pn,1,1,"cf-input-hint",15),e.YNc(35,gn,1,1,"cf-input-hint",15),e.qZA(),e.TgZ(36,"div")(37,"div",25)(38,"label",13),e._uU(39," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i "),e.qZA()(),e.TgZ(40,"cf-select",26)(41,"div",27),e._UZ(42,"input",28),e.qZA(),e.YNc(43,hn,1,1,"cf-input-hint",15),e.YNc(44,mn,1,1,"cf-input-hint",15),e.YNc(45,fn,1,1,"cf-input-hint",15),e.qZA()()(),e.TgZ(46,"div",29)(47,"cf-collapse",30)(48,"cf-collapse-panel",31),e.YNc(49,vn,4,0,"ng-template",null,32,e.W1O),e.TgZ(51,"div",33)(52,"cf-input-group",34)(53,"label",35),e._uU(54,"Ng\xe0y sinh"),e.qZA(),e.TgZ(55,"input",36,37),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(56);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(56);return e.KtG(o.close())}),e.qZA(),e.YNc(57,Cn,1,1,"cf-input-hint",15),e.YNc(58,xn,1,1,"cf-input-hint",15),e.qZA(),e.TgZ(59,"cf-select",38)(60,"label",39),e._uU(61," Gi\u1edbi t\xednh "),e.qZA()()()()()()()(),e.TgZ(62,"div")(63,"div",6),e._UZ(64,"div",7),e.TgZ(65,"div",8),e._uU(66,"X\xe1c th\u1ef1c danh t\xednh"),e.qZA()(),e.TgZ(67,"div",40)(68,"div",41)(69,"cf-input-group",34)(70,"label",13),e._uU(71," S\u1ed1 CCCD "),e.qZA(),e._UZ(72,"input",42),e.YNc(73,En,1,1,"cf-input-hint",15),e.YNc(74,An,1,1,"cf-input-hint",15),e.YNc(75,yn,1,1,"cf-input-hint",15),e.qZA(),e.TgZ(76,"cf-input-group",34)(77,"label",43),e._uU(78,"Ng\xe0y c\u1ea5p CCCD"),e.qZA(),e.TgZ(79,"input",44,45),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(80);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(80);return e.KtG(o.close())}),e.qZA(),e.YNc(81,Tn,1,1,"cf-input-hint",15),e.YNc(82,Zn,1,1,"cf-input-hint",15),e.qZA(),e.TgZ(83,"cf-input-group",34)(84,"label",13),e._uU(85," N\u01a1i c\u1ea5p CCCD "),e.qZA(),e._UZ(86,"input",46),e.YNc(87,Dn,1,1,"cf-input-hint",15),e.qZA(),e.TgZ(88,"div",47),e._uU(89,"Upload \u1ea3nh ch\u1ee5p CCCD"),e.qZA(),e.TgZ(90,"div",48)(91,"div",49),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(95);return e.KtG(o.click())}),e.YNc(92,Fn,2,0,"div",50),e.YNc(93,bn,2,0,"div",51),e.qZA(),e.TgZ(94,"input",20,52),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.uploadCCCDFont(o))}),e.qZA(),e.TgZ(96,"div",49),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(100);return e.KtG(o.click())}),e.YNc(97,kn,2,0,"div",50),e.YNc(98,In,2,0,"div",51),e.qZA(),e.TgZ(99,"input",20,53),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.uploadCCCDBack(o))}),e.qZA()()()()(),e.TgZ(101,"div",54)(102,"div"),e.YNc(103,Un,3,0,"button",55),e.qZA(),e.TgZ(104,"button",56),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.setStep("TITLE_ROLE"))}),e._uU(105," Ti\u1ebfp t\u1ee5c "),e._UZ(106,"cf-icon",57),e.qZA()()()()}if(2&n){const t=e.MAs(50),i=e.oxw();e.xp6(10),e.Q6J("status",i.userForm.controls.userName.invalid&&(i.userForm.controls.userName.dirty||i.userForm.controls.userName.touched)?"error":"default"),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",i.userForm.controls.userName),e.xp6(1),e.Q6J("ngIf",(null==i.userForm.controls.userName.errors?null:i.userForm.controls.userName.errors.required)&&(i.userForm.controls.userName.dirty||i.userForm.controls.userName.touched)),e.xp6(1),e.Q6J("ngIf",(null==i.userForm.controls.userName.errors?null:i.userForm.controls.userName.errors.usernameDuplicated)&&(i.userForm.controls.userName.dirty||i.userForm.controls.userName.touched)),e.xp6(1),e.Q6J("ngIf",i.userForm.controls.userName.hasError("maxlength")&&(i.userForm.controls.userName.touched||i.userForm.controls.userName.dirty)),e.xp6(1),e.Q6J("ngIf",!i.userForm.controls.userName.hasError("maxlength")&&i.userForm.controls.userName.hasError("pattern")&&(i.userForm.controls.userName.touched||i.userForm.controls.userName.dirty)),e.xp6(1),e.Q6J("status",i.userForm.controls.agentName.invalid&&(i.userForm.controls.agentName.dirty||i.userForm.controls.agentName.touched)?"error":"default"),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",i.userForm.controls.agentName),e.xp6(1),e.Q6J("ngIf",(null==i.userForm.controls.agentName.errors?null:i.userForm.controls.agentName.errors.required)&&(i.userForm.controls.agentName.dirty||i.userForm.controls.agentName.touched)),e.xp6(1),e.Q6J("ngIf",i.userForm.controls.agentName.hasError("minlength")&&(i.userForm.controls.agentName.touched||i.userForm.controls.agentName.dirty)),e.xp6(2),e.Jzz("background-image: url(",i.previewAvatar,");"),e.Q6J("ngClass",e.VKq(73,Nn,!i.previewAvatar)),e.xp6(1),e.Q6J("ngIf",!i.previewAvatar),e.xp6(4),e.Q6J("status",i.userForm.controls.email.invalid&&(i.userForm.controls.email.dirty||i.userForm.controls.email.touched)?"error":"default"),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",i.userForm.controls.email),e.xp6(1),e.Q6J("ngIf",(null==i.userForm.controls.email.errors?null:i.userForm.controls.email.errors.required)&&(i.userForm.controls.email.dirty||i.userForm.controls.email.touched)),e.xp6(1),e.Q6J("ngIf",i.userForm.controls.email.hasError("email")&&(i.userForm.controls.email.touched||i.userForm.controls.email.dirty)),e.xp6(3),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("status",i.userForm.controls.phone.invalid&&(i.userForm.controls.phone.dirty||i.userForm.controls.phone.touched)?"error":"default")("data",i.optionsAreaCode)("formControl",i.userForm.controls.areaCode),e.xp6(2),e.Q6J("formControl",i.userForm.controls.phone),e.xp6(1),e.Q6J("ngIf",(null==i.userForm.controls.phone.errors?null:i.userForm.controls.phone.errors.required)&&(i.userForm.controls.phone.dirty||i.userForm.controls.phone.touched)),e.xp6(1),e.Q6J("ngIf",i.userForm.controls.phone.hasError("minlength")&&(i.userForm.controls.phone.touched||i.userForm.controls.phone.dirty)),e.xp6(1),e.Q6J("ngIf",i.userForm.controls.phone.hasError("maxlength")&&(i.userForm.controls.phone.touched||i.userForm.controls.phone.dirty)),e.xp6(3),e.Q6J("title",t)("active",!1),e.xp6(4),e.Q6J("status",i.userForm.controls.birthday.invalid&&(i.userForm.controls.birthday.dirty||i.userForm.controls.birthday.touched)?"error":"default"),e.xp6(3),e.Q6J("displayMonths",1)("maxDate",i.currentDate)("formControl",i.userForm.controls.birthday),e.xp6(2),e.Q6J("ngIf",(null==i.userForm.controls.birthday.errors?null:i.userForm.controls.birthday.errors.required)&&(i.userForm.controls.birthday.dirty||i.userForm.controls.birthday.touched)),e.xp6(1),e.Q6J("ngIf",(null==i.userForm.controls.birthday.errors||null==i.userForm.controls.birthday.errors.ngbDate?null:i.userForm.controls.birthday.errors.ngbDate.invalid)&&(i.userForm.controls.birthday.dirty||i.userForm.controls.birthday.touched)),e.xp6(1),e.Q6J("status",i.userForm.controls.gender.invalid&&(i.userForm.controls.gender.dirty||i.userForm.controls.gender.touched)?"error":"default")("data",i.genderData)("allowSearch",!1)("formControl",i.userForm.controls.gender)("allowSearch",!0),e.xp6(10),e.Q6J("status",i.userForm.controls.identifyId.invalid&&(i.userForm.controls.identifyId.dirty||i.userForm.controls.identifyId.touched)?"error":"default"),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",i.userForm.controls.identifyId),e.xp6(1),e.Q6J("ngIf",(null==i.userForm.controls.identifyId.errors?null:i.userForm.controls.identifyId.errors.required)&&(i.userForm.controls.identifyId.dirty||i.userForm.controls.identifyId.touched)),e.xp6(1),e.Q6J("ngIf",i.userForm.controls.identifyId.hasError("minlength")&&(i.userForm.controls.identifyId.touched||i.userForm.controls.identifyId.dirty)),e.xp6(1),e.Q6J("ngIf",i.userForm.controls.identifyId.hasError("maxlength")&&(i.userForm.controls.identifyId.touched||i.userForm.controls.identifyId.dirty)),e.xp6(1),e.Q6J("status",i.userForm.controls.identifyDateProvide.invalid&&(i.userForm.controls.identifyDateProvide.dirty||i.userForm.controls.identifyDateProvide.touched)?"error":"default"),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("displayMonths",1)("maxDate",i.currentDate)("formControl",i.userForm.controls.identifyDateProvide),e.xp6(2),e.Q6J("ngIf",(null==i.userForm.controls.identifyDateProvide.errors?null:i.userForm.controls.identifyDateProvide.errors.required)&&(i.userForm.controls.identifyDateProvide.dirty||i.userForm.controls.identifyDateProvide.touched)),e.xp6(1),e.Q6J("ngIf",(null==i.userForm.controls.identifyDateProvide.errors||null==i.userForm.controls.identifyDateProvide.errors.ngbDate?null:i.userForm.controls.identifyDateProvide.errors.ngbDate.invalid)&&(i.userForm.controls.identifyDateProvide.dirty||i.userForm.controls.identifyDateProvide.touched)),e.xp6(1),e.Q6J("status",i.userForm.controls.identifyPlaceProvide.invalid&&(i.userForm.controls.identifyPlaceProvide.dirty||i.userForm.controls.identifyPlaceProvide.touched)?"error":"default"),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",i.userForm.controls.identifyPlaceProvide),e.xp6(1),e.Q6J("ngIf",(null==i.userForm.controls.identifyPlaceProvide.errors?null:i.userForm.controls.identifyPlaceProvide.errors.required)&&(i.userForm.controls.identifyPlaceProvide.dirty||i.userForm.controls.identifyPlaceProvide.touched)),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(3),e.Jzz("background-image: url(",i.previewCCCDFont,");"),e.xp6(1),e.Q6J("ngIf",!i.previewCCCDFont),e.xp6(1),e.Q6J("ngIf",i.previewCCCDFont),e.xp6(3),e.Jzz("background-image: url(",i.previewCCCDBack,");"),e.xp6(1),e.Q6J("ngIf",!i.previewCCCDBack),e.xp6(1),e.Q6J("ngIf",i.previewCCCDBack),e.xp6(5),e.Q6J("ngIf","BASIC_INFO"!==i.step),e.xp6(1),e.Q6J("disabled",i.userForm.invalid)}}function qn(n,a){1&n&&e._UZ(0,"cf-input-hint",58),2&n&&e.Q6J("hint","Ch\u1ee9c danh kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function Pn(n,a){1&n&&e._UZ(0,"div",75)}function Jn(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"cf-switch",82),e._uU(2),e.qZA(),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("disabled",!0)("checked",!0),e.xp6(1),e.Oqu(t)}}function Sn(n,a){if(1&n&&(e.TgZ(0,"div",76)(1,"div",77)(2,"div",78),e._uU(3," Quy\u1ec1n h\u1ea1n m\u1eb7c \u0111\u1ecbnh "),e.qZA(),e.TgZ(4,"div",79),e._uU(5," L\xe0 nh\u1eefng quy\u1ec1n h\u1ea1n \u0111\u01b0\u1ee3c c\u1ea5p cho role \u0111\xf3, kh\xf4ng \u0111\u01b0\u1ee3c ph\xe9p thay \u0111\u1ed5i. "),e.qZA()(),e.TgZ(6,"div",80),e.YNc(7,Jn,3,3,"ng-container",81),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(7),e.Q6J("ngForOf",t.listDefaultRole)}}function Qn(n,a){1&n&&e._UZ(0,"div",75)}function Mn(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"cf-switch",83),e.NdJ("checkedChange",function(){const r=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.onToggleRole(r.id))}),e._uU(2),e.qZA(),e.BQk()}if(2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.name)}}function Bn(n,a){if(1&n&&(e.TgZ(0,"div",76)(1,"div",77)(2,"div",78),e._uU(3," Quy\u1ec1n h\u1ea1n n\xe2ng cao "),e.qZA(),e.TgZ(4,"div",79),e._uU(5," L\xe0 nh\u1eefng quy\u1ec1n h\u1ea1n \u0111\u01b0\u1ee3c ch\u1ec9 \u0111\u1ecbnh c\u1ea5p th\xeam cho \u0111\u1ea1i l\xfd n\u1ebfu mu\u1ed1n. "),e.qZA()(),e.TgZ(6,"div",80),e.YNc(7,Mn,3,1,"ng-container",81),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(7),e.Q6J("ngForOf",t.listAdvanceRole)}}function Yn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",67)(1,"div",68)(2,"div",6),e._UZ(3,"div",7),e.TgZ(4,"div",8),e._uU(5,"Quy\u1ec1n h\u1ea1n"),e.qZA()(),e.TgZ(6,"div",69)(7,"cf-select",70),e.NdJ("selectedChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.loadRoleAdvance(o))}),e.TgZ(8,"label",13),e._uU(9," Ch\u1ee9c danh "),e.qZA(),e.YNc(10,qn,1,1,"cf-input-hint",15),e.qZA(),e.YNc(11,Pn,1,0,"div",71),e.YNc(12,Sn,8,1,"div",72),e.YNc(13,Qn,1,0,"div",71),e.YNc(14,Bn,8,1,"div",72),e.qZA(),e.TgZ(15,"div",73)(16,"button",65),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.setStep("BASIC_INFO"))}),e._UZ(17,"cf-icon",66),e._uU(18," Quay l\u1ea1i "),e.qZA(),e.TgZ(19,"button",56),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.createAccount())}),e._UZ(20,"cf-icon",74),e._uU(21," T\u1ea1o t\xe0i kho\u1ea3n "),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("status",t.roleForm.controls.titleId.invalid&&(t.roleForm.controls.titleId.dirty||t.roleForm.controls.titleId.touched)?"error":"default")("data",t.roleOptions)("allowSearch",!1)("formControl",t.roleForm.controls.titleId)("allowSearch",!1),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("ngIf",t.roleForm.controls.titleId.hasError("required")&&(t.roleForm.controls.titleId.dirty||t.roleForm.controls.titleId.touched)),e.xp6(1),e.Q6J("ngIf",t.listDefaultRole.length),e.xp6(1),e.Q6J("ngIf",t.listDefaultRole.length),e.xp6(1),e.Q6J("ngIf",t.listAdvanceRole.length),e.xp6(1),e.Q6J("ngIf",t.listAdvanceRole.length),e.xp6(5),e.Q6J("disabled",t.roleForm.invalid)}}function On(n,a){1&n&&e._UZ(0,"cf-spinner")}let Rn=(()=>{class n{constructor(t,i,o,r,s,d,m,f,A,E,T){this.calendar=t,this._fb=i,this._roleService=o,this._router=r,this._toastService=s,this._route=d,this._titleService=m,this._userService=f,this._phoneDataService=A,this._bankDataService=E,this._iconRegister=T,this.allRole=[],this.listAdvanceRole=[],this.listDefaultRole=[],this.editMode=!1,this.optionsAreaCode=[],this.genderData=[{code:"male",name:"Nam"},{code:"female",name:"N\u1eef"}],this.titleData=[],this.step="BASIC_INFO",this.roleOptions=[],this.listRoleSelected=[],this.isLoading=!1,this.currentDate=t.getToday(),T.registerIcons([u.D7,u.rks,u.UNF,u.Rcu,u.toh])}ngOnInit(){this.optionsAreaCode=this._phoneDataService.optionsAreaCode,this.userForm=this._fb.group({userName:["",[c.kI.required,c.kI.pattern("^[A-Za-z0-9]+$"),c.kI.maxLength(6)],this.validateUserNameFromAPIDebounce.bind(this)],agentName:["",[c.kI.required,c.kI.minLength(2)]],avatar:[""],email:["",[c.kI.required,c.kI.email]],areaCode:["+84",c.kI.required],phone:["",[c.kI.required,c.kI.minLength(7),c.kI.maxLength(11)]],birthday:[null],gender:[""],identifyId:["",[c.kI.required,c.kI.minLength(6),c.kI.maxLength(12)]],identifyDateProvide:["",c.kI.required],identifyPlaceProvide:["",c.kI.required],frontImageIdentify:["",c.kI.required],backImageIdentify:["",c.kI.required]}),this.roleForm=this._fb.group({titleId:["",c.kI.required]}),this.initTitleData()}validateUserNameFromAPIDebounce(t){return(0,me.H)(1500).pipe((0,$.w)(()=>this._userService.checkUsernameExist(t.value).pipe((0,fe.U)(i=>i.success&&!i.data?null:{usernameDuplicated:!0}))))}initTitleData(){this._titleService.getAllEmployeeTitleForCreateUser().subscribe({next:t=>{t.data&&(this.titleData=t.data,this.roleOptions=t.data.map(i=>({id:i.id,name:i.name})))}})}bankCustomSearch(t,i){return!(!t.code.toLocaleLowerCase().includes(i.toLocaleLowerCase())&&!t.name.toLocaleLowerCase().includes(i.toLocaleLowerCase()))}uploadAvatar(t){this.avatarFile=t.target.files[0],this.getPreviewImage(t,"avatar")}uploadCCCDFont(t){this.cccdFontFile=t.target.files[0],this.getPreviewImage(t,"cccdFont"),this.userForm.controls.frontImageIdentify.setValue(this.cccdFontFile.name)}uploadCCCDBack(t){this.cccdBackFile=t.target.files[0],this.getPreviewImage(t,"cccdBack"),this.userForm.controls.backImageIdentify.setValue(this.cccdBackFile.name)}onDeleteCCCDFont(t,i){t.preventDefault(),t.stopPropagation(),this.previewCCCDFont=null,this.userForm.controls.frontImageIdentify.setValue(null),i.value=""}onDeleteCCCDBack(t,i){t.preventDefault(),t.stopPropagation(),this.previewCCCDBack=null,this.userForm.controls.backImageIdentify.setValue(null),i.value=""}userTypeChange(t){this.userForm.controls.isBusiness.setValue("PERSONAL"!==t)}getPreviewImage(t,i){if(t.target.files&&t.target.files[0]){const o=t.target.files[0],r=new FileReader;switch(i){case"avatar":r.onload=s=>this.previewAvatar=r.result;break;case"cccdFont":r.onload=s=>this.previewCCCDFont=r.result;break;case"cccdBack":r.onload=s=>this.previewCCCDBack=r.result}r.readAsDataURL(o)}}setStep(t){"TITLE_ROLE"===t&&this.userForm.invalid||"TITLE_ROLE"===t&&"PENDING"===this.userForm.status?this.userForm.markAllAsTouched():this.step=t}roleChange(t,i){i.actived=t}initRoleAdvance(t){this.allRole=t.data.map(i=>({name:i.name,id:i.id,actived:!1}))}loadRoleAdvance(t){var i;this.listRoleSelected=[];const o=this.titleData.find(r=>r.id===t.id);o&&(this.listDefaultRole=o.defaultPermission||[],this.listAdvanceRole=(null===(i=o.advanceRole)||void 0===i?void 0:i.map(r=>({id:r.id,name:r.name})))||[])}createAccount(){this.createEmployeeAccount()}createEmployeeAccount(){const t={agentName:this.userForm.controls.agentName.value,avatar:this.avatarFile?this.avatarFile.name:"",frontImageIdentify:this.userForm.controls.frontImageIdentify.value,backImageIdentify:this.userForm.controls.backImageIdentify.value,birthday:this.userForm.controls.birthday.value?R(this.userForm.controls.birthday.value).format("DD/MM/YYYY"):"",email:this.userForm.controls.email.value,gender:this.userForm.controls.gender.value||"",identifyId:this.userForm.controls.identifyId.value,identifyDateProvide:this.userForm.controls.identifyDateProvide.value?R(this.userForm.controls.identifyDateProvide.value).format("DD/MM/YYYY"):"",identifyPlaceProvide:this.userForm.controls.identifyPlaceProvide.value,phone:this.userForm.controls.phone.value,phoneArea:this.userForm.controls.areaCode.value,roleIds:this.listRoleSelected||[],titleId:this.roleForm.controls.titleId.value,userName:this.userForm.controls.userName.value};this._userService.createEmployeeUser(t).subscribe({next:i=>{i.success?(this._toastService.add({severity:"success",summary:"T\u1ea1o t\xe0i kho\u1ea3n th\xe0nh c\xf4ng",detail:"T\xe0i kho\u1ea3n nh\xe2n vi\xean \u0111\xe3 \u0111\u01b0\u1ee3c t\u1ea1o th\xe0nh c\xf4ng!",sticky:!1}),this._router.navigate(["admin/user-manage"])):this._toastService.add({severity:"error",summary:"C\xf3 l\u1ed7i x\u1ea3y ra",detail:"Kh\xf4ng th\u1ec3 t\u1ea1o t\xe0i kho\u1ea3n nh\xe2n vi\xean. Vui l\xf2ng th\u1eed l\u1ea1i!",sticky:!1})},error:i=>{this._toastService.add({severity:"error",summary:"C\xf3 l\u1ed7i x\u1ea3y ra",detail:"Kh\xf4ng th\u1ec3 t\u1ea1o t\xe0i kho\u1ea3n nh\xe2n vi\xean. Vui l\xf2ng th\u1eed l\u1ea1i!",sticky:!1})}})}getExtension(t){return"."+t.split(".").pop()}uploadAvatarToS3(t,i,o){return this._userService.uploadfileAWSS3(t,i,o)}onToggleRole(t){this.listRoleSelected.includes(t)?this.listRoleSelected=this.listRoleSelected.filter(i=>i!==t):this.listRoleSelected.push(t)}checkInputNunber(t){const i=t.target.value;new RegExp("/^[0-9]*$/").test(i)||(t.target.value=i.replace(/[^0-9]*/g,""))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.jH),e.Y36(c.qu),e.Y36(K.Nj),e.Y36(x.F0),e.Y36(y.BX),e.Y36(x.gz),e.Y36(b.yD),e.Y36(b.KD),e.Y36(ce.l),e.Y36(_e.j),e.Y36(u.KNP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["create-user-page"]],standalone:!0,features:[e.jDz],decls:6,vars:3,consts:[["class","flex justify-center py-4 px-[30px] md:hidden",4,"ngIf"],["class","flex justify-center py-4 px-[30px] rounded-lg md:hidden",4,"ngIf"],[1,"p-5","hidden","md:block","text-center"],[4,"ngIf"],[1,"flex","justify-center","py-4","px-[30px]","md:hidden"],[1,"w-[1000px]","max-w-[1000px]","flex","flex-col","gap-y-8"],[1,"flex","gap-x-[20px]","mb-4"],[1,"w-1","bg-[#fcb40a]"],[1,"text-heading-md"],[1,"p-6","bg-neutral-white","rounded-lg","shadow-cf-md","flex","flex-col","gap-y-4"],[1,"flex","gap-x-4"],[1,"flex","flex-col","grow","gap-y-4"],[1,"!w-full",3,"status"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5",3,"CfRequired"],["cf-input","","size","medium","placeholder","Nh\u1eadp t\xean \u0111\u0103ng nh\u1eadp",3,"formControl"],["cfHint","",3,"hint",4,"ngIf"],["cf-input","","size","medium","placeholder","Nh\u1eadp h\u1ecd v\xe0 t\xean \u0111\u1ea7y \u0111\u1ee7",3,"formControl"],[1,"flex","items-end","pt-7"],[1,"h-full","w-[124px]","bg-no-repeat","bg-center","bg-cover","rounded-sm","flex","items-center","justify-center","P-6","cursor-pointer",3,"ngClass","click"],["class","text-express-sm text-center px-6",4,"ngIf"],["type","file","accept","image/*",1,"hidden",3,"change"],["fileUpload",""],[1,"flex","w-full","gap-x-4"],[1,"grow-[433]",3,"status"],["cf-input","","size","medium","placeholder","Nh\u1eadp email",3,"formControl"],[1,"text-espressive-md","text-neutral-gray-5","mb-1.5","empty:!m-0"],["textField","name","valueField","code","size","small","placeholder","Nh\u1eadp m\xe3",1,"!w-full","!max-w-full",3,"status","data","formControl"],["cfSuffix","",1,"w-[65%]","px-3","text-body-md","flex","gap-x-2","items-center","border-l","border-neutral-gray-2"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i","CfNumberic","",3,"formControl"],[1,""],[1,"w-full"],[1,"border","border-neutral-gray-1",3,"title","active"],["titleTemplate",""],[1,"flex","gap-y-2","gap-x-2"],[1,"grow-[400]","!w-full",3,"status"],["cfLabel",""],["cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Ch\u1ecdn ng\xe0y sinh",1,"py-[7px]",3,"displayMonths","maxDate","formControl","input","dateSelect"],["birthdayForm","cfDatepicker"],["textField","name","valueField","code","placeholder","Ch\u1ecdn gi\u1edbi t\xednh",1,"!max-w-none","w-full",3,"status","data","allowSearch","formControl"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5"],[1,"p-4","bg-neutral-white","rounded-lg","shadow-cf-md"],[1,"flex","flex-col","gap-y-4"],["cf-input","","CfNumberic","","size","medium","placeholder","Nh\u1eadp s\u1ed1 CCCD",3,"formControl"],["cfLabel","",3,"CfRequired"],["cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Ch\u1ecdn ng\xe0y c\u1ea5p CCCD",1,"py-[7px]",3,"displayMonths","maxDate","formControl","input","dateSelect"],["dateProvideForm","cfDatepicker"],["cf-input","","size","medium","placeholder","Nh\u1eadp n\u01a1i c\u1ea5p CCCD",3,"formControl"],[1,"text-espressive-sm",3,"CfRequired"],[1,"flex","gap-x-3"],[1,"relative","w-[140px]","h-[140px]","bg-no-repeat","bg-center","bg-cover","rounded-sm","border","border-dashed","border-neutral-gray-2","flex","items-center","justify-center","cursor-pointer",3,"click"],["class","text-express-sm",4,"ngIf"],["class","absolute w-[22px] h-[22px] rounded-full bg-neutral-gray-4 flex justify-center items-center z-10 -top-[11px] -right-[11px]",3,"click",4,"ngIf"],["fileUploadCCCDFont",""],["fileUploadCCCDBack",""],[1,"flex","justify-between"],["cf-button","","size","medium","type","secondary","class","bg-white",3,"click",4,"ngIf"],["cf-button","","size","medium",3,"disabled","click"],["icon","chevron_right","size","small",1,"ml-2.5"],["cfHint","",3,"hint"],[1,"text-express-sm","text-center","px-6"],[1,"text-body-md","flex","gap-x-2","items-center"],["icon","document","size","small"],[1,"text-express-sm"],[1,"absolute","w-[22px]","h-[22px]","rounded-full","bg-neutral-gray-4","flex","justify-center","items-center","z-10","-top-[11px]","-right-[11px]",3,"click"],["icon","close","size","small",1,"text-white"],["cf-button","","size","medium","type","secondary",1,"bg-white",3,"click"],["icon","arrow_left","size","small",1,"mr-2.5"],[1,"flex","justify-center","py-4","px-[30px]","rounded-lg","md:hidden"],[1,"w-[1000px]","max-w-[1000px]"],[1,"p-6","bg-neutral-white","rounded-lg","shadow-cf-md","flex","flex-col","gap-y-6"],["textField","name","valueField","id","placeholder","L\u1ef1a ch\u1ecdn ch\u1ee9c danh cho nh\xe2n vi\xean",1,"!w-full","!max-w-none",3,"status","data","allowSearch","formControl","selectedChange"],["class","w-full border-t border-neutral-gray-1",4,"ngIf"],["class","flex gap-x-8",4,"ngIf"],[1,"flex","justify-between","mt-8"],["icon","add","size","small",1,"mr-2.5"],[1,"w-full","border-t","border-neutral-gray-1"],[1,"flex","gap-x-8"],[1,"flex","flex-col","gap-y-2","w-[260px]"],[1,"text-heading-sm"],[1,"text-body-lg","text-neutral-gray-4"],[1,"flex","flex-col","flex-1","gap-y-4"],[4,"ngFor","ngForOf"],[3,"disabled","checked"],[3,"checkedChange"]],template:function(t,i){1&t&&(e.YNc(0,wn,107,75,"div",0),e.YNc(1,Yn,22,12,"div",1),e.TgZ(2,"div",2),e._uU(3," Vi\u1ec7c t\u1ea1o nh\xe2n vi\xean ph\u1ee9c t\u1ea1p \u0111\xf2i h\u1ecfi \u0111\u1ed9 ch\xednh x\xe1c cao \u0111\u1ea1i l\xfd vui l\xf2ng thao t\xe1c tr\xean m\xe1y t\xednh\n"),e.qZA(),e.YNc(4,On,1,0,"cf-spinner",3),e._UZ(5,"cf-toast")),2&t&&(e.Q6J("ngIf","BASIC_INFO"===i.step),e.xp6(1),e.Q6J("ngIf","TITLE_ROLE"===i.step),e.xp6(3),e.Q6J("ngIf",i.isLoading))},dependencies:[h.ez,h.mk,h.sg,h.O5,c.u5,c.Fj,c.JJ,c.UX,c.oH,l.j$,l.ND,l.BN,l.v2,v.N8,v.Xq,y.hj,N.q,ve.B,ve.K,H.Cs,u.AxE,u.Sm8,ae.I,X.C,k.OR,re.z],encapsulation:2}),n})();var Ce=p(44890);function Ln(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",42)(1,"div",43),e._UZ(2,"div",44),e.TgZ(3,"cf-input-group",5),e._UZ(4,"cf-icon",6),e.TgZ(5,"input",45,8),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.filterData.searchText=o)}),e.qZA()(),e.TgZ(7,"cf-select",46),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.filterData.state=o)}),e.TgZ(8,"label",3)(9,"span"),e._uU(10,"Tr\u1ea1ng th\xe1i"),e.qZA()()(),e.TgZ(11,"cf-select",47),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.filterData.titleId=o)}),e.TgZ(12,"label",3)(13,"span"),e._uU(14,"Vai tr\xf2"),e.qZA()()()(),e.TgZ(15,"div")(16,"button",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSearch())}),e._UZ(17,"cf-icon",49),e.TgZ(18,"div"),e._uU(19,"T\xecm ki\u1ebfm"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.filterData.searchText),e.xp6(2),e.Q6J("status","default")("data",t.statusOption)("allowSearch",!1)("ngModel",t.filterData.state),e.xp6(4),e.Q6J("status","default")("data",t.roleOptions)("allowSearch",!1)("ngModel",t.filterData.titleId)}}function zn(n,a){if(1&n&&(e.TgZ(0,"cf-radio",54),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.name)}}function Hn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",50)(1,"cf-radio-group",51),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.filterData.state=o)}),e.YNc(2,zn,2,2,"cf-radio",52),e.qZA(),e.TgZ(3,"button",53),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSearch())}),e._uU(4,"X\xe1c nh\u1eadn"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.filterData.state),e.xp6(1),e.Q6J("ngForOf",t.statusOption)}}function Kn(n,a){if(1&n&&(e.TgZ(0,"cf-radio",54),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function jn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",50)(1,"cf-radio-group",51),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.filterData.titleId=o)}),e.YNc(2,Kn,2,2,"cf-radio",52),e.qZA(),e.TgZ(3,"button",53),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSearch())}),e._uU(4,"X\xe1c nh\u1eadn"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.filterData.titleId),e.xp6(1),e.Q6J("ngForOf",t.roleOptions)}}function Vn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",55),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addAgent())}),e._UZ(1,"cf-icon",56),e._uU(2," T\u1ea1o \u0111\u1ea1i l\xfd "),e.qZA()}}function Gn(n,a){1&n&&(e.TgZ(0,"th",57),e._uU(1,"Ch\u1ee9c n\u0103ng"),e.qZA()),2&n&&e.Q6J("sticky","right")}function Xn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",68),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw();return e.KtG(r.edit(o.userId,o.color))}),e._uU(1,"Chi ti\u1ebft"),e.qZA()}}function $n(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr",58)(1,"td",59),e._uU(2),e.qZA(),e.TgZ(3,"td",59),e._uU(4),e.qZA(),e.TgZ(5,"td",59)(6,"cf-label",60)(7,"div",61),e._uU(8),e.qZA()()(),e.TgZ(9,"td",62),e._uU(10),e.ALo(11,"replace"),e.ALo(12,"number"),e.qZA(),e.TgZ(13,"td",59),e._uU(14),e.qZA(),e.TgZ(15,"td",59),e._uU(16),e.qZA(),e.TgZ(17,"td",59),e._uU(18),e.ALo(19,"date"),e.qZA(),e.TgZ(20,"td",59),e._uU(21),e.qZA(),e.TgZ(22,"td",63)(23,"change-state-user",64),e.NdJ("valueChange",function(o){const s=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.stateChange(o,s))}),e.qZA()(),e.TgZ(24,"td",65)(25,"div",66),e.YNc(26,Xn,2,0,"div",67),e.qZA()()()}if(2&n){const t=a.$implicit,i=e.oxw();e.xp6(2),e.Oqu(t.userName),e.xp6(2),e.Oqu(t.displayName),e.xp6(2),e.Q6J("color",t.color)("type","inverted")("size","small")("mode","default"),e.xp6(2),e.hij(" ",t.title.name," "),e.xp6(2),e.hij(" ",e.Dn7(11,16,e.lcZ(12,20,t.balance||0),",",".")," \u0111 "),e.xp6(4),e.Oqu(t.email),e.xp6(2),e.Oqu(t.phone),e.xp6(2),e.Oqu(e.xi3(19,22,t.dateCreated,"dd/MM/yyyy")),e.xp6(3),e.Oqu(t.belongSale.name),e.xp6(2),e.Q6J("state",t.state)("canEditStatus",t.canEditStatus),e.xp6(1),e.Q6J("sticky","right"),e.xp6(2),e.Q6J("ngIf",i.canViewDetail)}}function Wn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",69),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addAgent())}),e._UZ(1,"cf-icon",70),e._uU(2," T\u1ea1o \u0111\u1ea1i l\xfd "),e.qZA()}}function ei(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",72),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw();return e.KtG(r.edit(o.userId,o.color))}),e.TgZ(1,"div",73)(2,"div",74),e._uU(3,"M\xe3 \u0111\u1ecbnh danh"),e.qZA(),e.TgZ(4,"div",75),e._uU(5),e.qZA()(),e.TgZ(6,"div",73)(7,"div",74),e._uU(8,"Ng\xe0y t\u1ea1o"),e.qZA(),e.TgZ(9,"div",75),e._uU(10),e.ALo(11,"date"),e.qZA()(),e.TgZ(12,"div",73)(13,"div",74),e._uU(14,"Ch\u1ee9c danh"),e.qZA(),e.TgZ(15,"cf-label",60),e._uU(16),e.qZA()(),e.TgZ(17,"div",73)(18,"div",74),e._uU(19,"Tr\u1ea1ng th\xe1i"),e.qZA(),e.TgZ(20,"div")(21,"change-state-user",64),e.NdJ("valueChange",function(o){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw();return e.KtG(s.mobileStateChange(o,r))}),e.qZA()()()()}if(2&n){const t=e.oxw().$implicit;e.xp6(5),e.Oqu(t.userName),e.xp6(5),e.Oqu(e.xi3(11,9,t.dateCreated,"dd/MM/yyyy")),e.xp6(5),e.Q6J("color",t.color)("type","inverted")("size","small")("mode","default"),e.xp6(1),e.hij(" ",t.title.name," "),e.xp6(5),e.Q6J("state",t.state)("canEditStatus",t.canEditStatus)}}function ti(n,a){if(1&n&&(e.ynx(0),e.YNc(1,ei,22,12,"div",71),e.BQk()),2&n){const t=a.index,i=e.oxw();e.xp6(1),e.Q6J("ngIf",t<i.ticketInfiniteScrollCount)}}function ni(n,a){1&n&&e._UZ(0,"cf-spinner")}const ii=function(){return{num:25}},oi=function(){return{num:50}},ai=function(){return{num:75}},ri=function(){return{num:100}},ci=function(n,a,t,i){return[n,a,t,i]};let si=(()=>{class n{constructor(t,i,o,r,s,d,m,f,A){this._titleService=i,this._userService=o,this._router=r,this._permissionService=s,this._modal=d,this._toastService=m,this._bottomSheetService=f,this._mobileDetectService=A,this.statusChangeOption=[{name:"Ho\u1ea1t \u0111\u1ed9ng",code:"ACTIVE"},{name:"Ng\u1eebng ho\u1ea1t \u0111\u1ed9ng",code:"BLOCK"}],this.statusOption=[{name:"T\u1ea5t c\u1ea3",code:""},{name:"Ch\u01b0a x\xe1c th\u1ef1c",code:"INACTIVE"},{name:"Ho\u1ea1t \u0111\u1ed9ng",code:"ACTIVE"},{name:"Ng\u1eebng ho\u1ea1t \u0111\u1ed9ng",code:"BLOCK"}],this.listOfData=[],this.pageSize=25,this.currentPage=1,this.pageOffset=1,this.totalData=0,this.colorMap=[{key:"",color:"red"},{key:"",color:"yellow"},{key:"",color:"cyan"},{key:"",color:"blue"},{key:"",color:"purple"},{key:"",color:"orange"},{key:"",color:"green"}],this.filterData={searchText:"",state:"",titleId:""},this.roleOptions=[{id:"",name:"T\u1ea5t c\u1ea3"}],this.canDelete=this._permissionService.hasPermission(C.or.DeleteAgent),this.canViewDetail=this._permissionService.hasPermission(C.or.ViewAgentDetail),this.TICKET_INFINITE_SCROLL_DEFAULT=10,this.TICKET_INFINITE_OFSET_INCREASE=10,this.ticketInfiniteScrollCount=this.TICKET_INFINITE_SCROLL_DEFAULT,this.isLoading=!1,this.isCreateAgentButton=this._permissionService.hasPermission(C.or.CreateAgentUser),this.sortChange=(E,T)=>{let D=T.map(F=>F);for(let F=0;F<E.length;F++){const P=E[F];"name"===P.key&&(D=D.sort("ascend"===P.sort?(J,S)=>this.increaseAlphabetSort(J.name,S.name):(J,S)=>this.decreaseAlphabetSort(J.name,S.name)))}return D},this.searchChange=(E,T)=>T,this.increaseAlphabetSort=(E,T)=>E<T?-1:E>T?1:0,this.decreaseAlphabetSort=(E,T)=>E>T?-1:E<T?1:0,t.registerIcons([u.TM4,u.PcQ,u.whL,u.xgX,u.S7Q]),this.onSearch(),this.loadTitleData()}loadTitleData(){this._titleService.getAllAgentTitleForManage().subscribe({next:t=>{t.data&&(this.roleOptions=[...this.roleOptions,...t.data.map(i=>({id:i.id,name:i.name}))])}})}pageIndexChange(t){this.pageOffset=t,this.onSearch()}onServerPageSizeChange(t){this.pageSize=t,this.pageOffset=1,this.onSearch()}onSearch(t){t&&(this.pageOffset=t),this._mobileDetectService.isMobile()&&this._bottomSheetService.dismiss();const i={pageOffset:this.pageOffset,pageSize:this.pageSize,searchText:this.filterData.searchText,state:this.filterData.state||null,titleId:this.filterData.titleId};this.isLoading=!0,this._userService.getAllAgentUserV2(i).pipe((0,U.x)(()=>this.isLoading=!1)).subscribe({next:o=>{var r,s;"OK"===o.status&&(this.totalData=(null===(r=o.data)||void 0===r?void 0:r.total)||0,this.listOfData=null===(s=o.data)||void 0===s?void 0:s.users.filter(d=>"DELETED"!==d.state).map(d=>{const m=this.colorMap.find(f=>f.key===d.title.id);if(m)return Object.assign(Object.assign({},d),{dateCreated:new Date(1e3*d.dateCreated),color:m.color,canEditStatus:this._permissionService.hasPermission(C.or.CanEditAgentStatus+"_"+d.title.code)&&[C.or.CanEditAgentStatus,C.or.CanEditAgentStatusForSale].some(f=>this._permissionService.hasPermission(f))});{const f=this.colorMap.find(A=>""===A.key);return f?(f.key=d.title.id,Object.assign(Object.assign({},d),{dateCreated:new Date(1e3*d.dateCreated),color:f.color,canEditStatus:this._permissionService.hasPermission(C.or.CanEditAgentStatus+"_"+d.title.code)&&[C.or.CanEditAgentStatus,C.or.CanEditAgentStatusForSale].some(A=>this._permissionService.hasPermission(A))})):Object.assign(Object.assign({},d),{dateCreated:new Date(1e3*d.dateCreated),color:"green",canEditStatus:this._permissionService.hasPermission(C.or.CanEditAgentStatus+"_"+d.title.code)&&[C.or.CanEditAgentStatus,C.or.CanEditAgentStatusForSale].some(A=>this._permissionService.hasPermission(A))})}}))}})}checkChange(t){this.pageSize=parseInt(t)}addAgent(){this._router.navigate(["admin/create-agent"])}edit(t,i){this._router.navigate([`admin/agent-detail/${t}`],{state:{titleColor:i}})}delete(t){this._modal.open(k.V0,{title:"X\xf3a t\xe0i kho\u1ea3n",body:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a t\xe0i kho\u1ea3n n\xe0y? Vi\u1ec7c n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c, vui l\xf2ng ki\u1ec3m tra k\u0129 tr\u01b0\u1edbc khi thao t\xe1c."}).afterClosed$.subscribe({next:o=>{o.data&&this._userService.deleteAgentAccount(t).subscribe({next:r=>{r.success?(this.onSearch(),this._toastService.add({severity:"success",summary:"Th\xe0nh c\xf4ng",detail:"X\xf3a t\xe0i kho\u1ea3n th\xe0nh c\xf4ng",sticky:!1})):this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:"X\xf3a t\xe0i kho\u1ea3n th\u1ea5t b\u1ea1i",sticky:!0})}})}})}isUpdateStatus(t){return this._permissionService.hasPermission(C.or.CanEditAgentStatus+"_"+t)}stateChange(t,i){t!==i.state&&this._modal.open(k.V0,{title:"ACTIVE"===t?"M\u1edf l\u1ea1i t\xe0i kho\u1ea3n n\xe0y?":"V\xf4 hi\u1ec7u ho\xe1 t\xe0i kho\u1ea3n n\xe0y?",body:"ACTIVE"===t?"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n cho ph\xe9p t\xe0i kho\u1ea3n n\xe0y ho\u1ea1t \u0111\u1ed9ng l\u1ea1i?":"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n v\xf4 hi\u1ec7u ho\xe1 t\xe0i kho\u1ea3n n\xe0y?",hasIcon:!1,okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y b\u1ecf",isSecondary:!0}).afterClosed$.subscribe({next:r=>{r.data&&(this.isLoading=!0,this._userService.updateAccountStatus({userId:i.userId,status:t}).pipe((0,U.x)(()=>this.isLoading=!1)).subscribe({next:s=>{"OK"===s.status&&s.data?(i.state=t,this._toastService.add({severity:"success",summary:"Th\xe0nh c\xf4ng",detail:"C\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i t\xe0i kho\u1ea3n th\xe0nh c\xf4ng",sticky:!1})):this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:"C\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i t\xe0i kho\u1ea3n th\u1ea5t b\u1ea1i",sticky:!0})},error:s=>{this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:"C\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i t\xe0i kho\u1ea3n th\u1ea5t b\u1ea1i",sticky:!0})}}))}})}revertStatus(t,i){i.state="ACTIVE"===t.code?"BLOCK":"ACTIVE"}openSearchBts(t){const i=this._bottomSheetService.open(t,{headerTitle:"T\xecm ki\u1ebfm",containerFullHeigh:!0,rightButtonIcon:"",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",restoreFocus:!1});i.containerInstance._leftButtonClick.subscribe(()=>i.dismiss())}openStatusBts(t){const i=this._bottomSheetService.open(t,{headerTitle:"Tr\u1ea1ng th\xe1i",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",leftButtonIcon:"",restoreFocus:!1});i.containerInstance._rightButtonClick.subscribe(()=>i.dismiss())}openTitleBts(t){const i=this._bottomSheetService.open(t,{headerTitle:"Vai tr\xf2",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",leftButtonIcon:"",restoreFocus:!1});i.containerInstance._rightButtonClick.subscribe(()=>i.dismiss())}onScrollDown(){this.ticketInfiniteScrollCount+=this.TICKET_INFINITE_OFSET_INCREASE}userTrackByFn(t,i){return i.userId}mobileSelectClick(t){t.stopPropagation()}mobileStateChange(t,i){if(t===i.state)return;const o=this._bottomSheetService.open(k.Q4,{headerTitle:"ACTIVE"===t?"M\u1edf l\u1ea1i t\xe0i kho\u1ea3n n\xe0y?":"V\xf4 hi\u1ec7u ho\xe1 t\xe0i kho\u1ea3n n\xe0y?",data:{body:"ACTIVE"===t?"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n cho ph\xe9p t\xe0i kho\u1ea3n n\xe0y ho\u1ea1t \u0111\u1ed9ng l\u1ea1i?":"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n v\xf4 hi\u1ec7u ho\xe1 t\xe0i kho\u1ea3n n\xe0y?",okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y b\u1ecf",isSecondary:!0},rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",restoreFocus:!1});o.containerInstance._rightButtonClick.subscribe(()=>o.dismiss()),o.afterDismissed().subscribe({next:r=>{r&&(this.isLoading=!0,this._userService.updateAccountStatus({userId:i.userId,status:t}).pipe((0,U.x)(()=>this.isLoading=!1)).subscribe({next:s=>{"OK"===s.status&&s.data?(i.state=t,this._toastService.add({severity:"success",summary:"Th\xe0nh c\xf4ng",detail:"C\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i t\xe0i kho\u1ea3n th\xe0nh c\xf4ng",sticky:!1})):this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:"C\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i t\xe0i kho\u1ea3n th\u1ea5t b\u1ea1i",sticky:!0})},error:s=>{this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:"C\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i t\xe0i kho\u1ea3n th\u1ea5t b\u1ea1i",sticky:!0})}}))}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.KNP),e.Y36(b.yD),e.Y36(b.KD),e.Y36(x.F0),e.Y36(C.$A),e.Y36(j.oE),e.Y36(y.BX),e.Y36(O.a2),e.Y36(de.L))},n.\u0275cmp=e.Xpm({type:n,selectors:[["agent-manage-page"]],standalone:!0,features:[e.jDz],decls:81,vars:41,consts:[[1,"flex","flex-col","px-[30px]","py-4","gap-y-4","bg-neutral-white","md:pt-3","md:pb-0","md:px-4","md:gap-y-3","md:shadow-cf-sm","md:sticky","md:top-0"],[1,"flex","gap-x-4","md:hidden"],["textField","name","valueField","code","size","medium","placeholder","Ch\u1ecdn tr\u1ea1ng th\xe1i",1,"!max-w-none","!w-[252px]",3,"status","data","allowSearch","ngModel","ngModelChange"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5"],["textField","name","valueField","id","size","medium","placeholder","Ch\u1ecdn ch\u1ee9c danh",1,"!max-w-none","!w-[172px]",3,"status","data","allowSearch","ngModel","ngModelChange"],[1,"!w-full"],["cfHeadIcon","","icon","search","size","small"],["size","medium","cf-input","","placeholder","Nh\u1eadp th\xf4ng tin \u0111\u1ec3 t\xecm ki\u1ebfm t\xe0i kho\u1ea3n",3,"ngModel","ngModelChange"],["tableSearchInput",""],["cf-button","","type","secondary",1,"whitespace-nowrap","w-[168px]","flex","justify-center","gap-x-2",3,"click"],["icon","search","size","small",1,"text-[#616161]"],[1,"hidden","text-heading-sm","text-neutral-gray-6","md:block"],[1,"hidden","md:block"],["size","medium","cf-input","","placeholder","T\xecm ki\u1ebfm t\xe0i kho\u1ea3n",3,"ngModel","ngModelChange","focus"],[1,"gap-x-2","hidden","md:flex"],[1,"pb-3",3,"click"],[1,"gap-x-1.5","items-center","border","border-neutral-gray-3","rounded-full","px-4","py-[5px]","hidden","md:flex"],[1,"text-body-md","whitespace-nowrap"],["icon","down","size","small",1,"text-neutral-gray-5"],["searchBts",""],["statusBts",""],["titleBts",""],[1,"py-4","px-[30px]","rounded-lg","flex","justify-center","md:hidden"],[1,"bg-neutral-white","rounded-lg","shadow-cf-md","w-full"],[1,"p-4","flex","justify-between","items-center"],[1,"text-heading-sm"],["cf-button","","class","flex gap-x-2",3,"click",4,"ngIf"],[1,"",3,"fnSort","fnSearch","pageSizeList","listData","pageSize","serverSidePagination","totalData","pageIndexChange","serverPageSizeChange"],["managerTable",""],["cf-thead",""],["cf-th","",1,"whitespace-nowrap",3,"sortName"],["cf-th","",1,"whitespace-nowrap"],["cf-th","","class","whitespace-nowrap",3,"sticky",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"hidden","md:flex","p-4","flex-col"],[1,"w-full","flex","items-center","justify-between"],[1,"text-body-md","text-neutral-gray-6"],[1,"flex","gap-x-1.5","text-neutral-gray-6","items-center"],["cf-button","","class","gap-x-2",3,"click",4,"ngIf"],["infinite-scroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","scrollWindow","fromRoot","alwaysCallback","scrolled"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"p-4","w-full","flex","flex-col","justify-between"],[1,"flex","flex-col","gap-y-4"],[1,"w-full","border-b","border-b-neutral-gray-3"],["size","medium","cf-input","","placeholder","T\xecm ki\u1ebfm t\xe0i kho\u1ea3n",3,"ngModel","ngModelChange"],["textField","name","valueField","code","size","medium","placeholder","Ch\u1ecdn tr\u1ea1ng th\xe1i",1,"!max-w-none","w-full",3,"status","data","allowSearch","ngModel","ngModelChange"],["textField","name","valueField","id","size","medium","placeholder","Ch\u1ecdn ch\u1ee9c danh",1,"!max-w-none","w-full",3,"status","data","allowSearch","ngModel","ngModelChange"],["cf-button","",1,"w-full","justify-center","gap-x-2",3,"click"],["icon","search","size","small"],[1,"flex","flex-col","w-full","p-4","gap-y-6"],[1,"flex","flex-col","gap-y-4",3,"ngModel","ngModelChange"],["size","medium",3,"value",4,"ngFor","ngForOf"],["cf-button","",1,"w-full","justify-center",3,"click"],["size","medium",3,"value"],["cf-button","",1,"flex","gap-x-2",3,"click"],["icon","plus"],["cf-th","",1,"whitespace-nowrap",3,"sticky"],[1,"border-b","border-neutral-gray-1"],["cf-td","",1,"py-2","px-3","text-body-sm","whitespace-nowrap"],[3,"color","type","size","mode"],[1,"w-max"],["cf-td","",1,"py-2","px-3","text-body-sm","whitespace-nowrap","text-right"],["cf-td","",1,"py-2","px-3","text-body-sm"],[3,"state","canEditStatus","valueChange"],["cf-td","",1,"flex","py-3","px-3","gap-x-4","items-center",3,"sticky"],[1,"flex","gap-x-4","items-center"],["class","text-body-md text-secondary-3-4 cursor-pointer whitespace-nowrap",3,"click",4,"ngIf"],[1,"text-body-md","text-secondary-3-4","cursor-pointer","whitespace-nowrap",3,"click"],["cf-button","",1,"gap-x-2",3,"click"],["icon","plus","size","small"],["class","flex flex-col rounded-lg bg-white p-3 mt-3 gap-y-2",3,"click",4,"ngIf"],[1,"flex","flex-col","rounded-lg","bg-white","p-3","mt-3","gap-y-2",3,"click"],[1,"flex","justify-start","items-center"],[1,"text-body-sm","text-neutral-gray-4","w-[104px]"],[1,"text-express-md","text-neutral-gray-6"]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"cf-select",2),e.NdJ("ngModelChange",function(s){return i.filterData.state=s}),e.TgZ(3,"label",3)(4,"span"),e._uU(5,"Tr\u1ea1ng th\xe1i"),e.qZA()()(),e.TgZ(6,"cf-select",4),e.NdJ("ngModelChange",function(s){return i.filterData.titleId=s}),e.TgZ(7,"label",3)(8,"span"),e._uU(9,"Vai tr\xf2"),e.qZA()()()(),e.TgZ(10,"div",1)(11,"cf-input-group",5),e._UZ(12,"cf-icon",6),e.TgZ(13,"input",7,8),e.NdJ("ngModelChange",function(s){return i.filterData.searchText=s}),e.qZA()(),e.TgZ(15,"button",9),e.NdJ("click",function(){return i.onSearch(1)}),e._UZ(16,"cf-icon",10),e._uU(17," T\xecm ki\u1ebfm "),e.qZA()(),e.TgZ(18,"div",11),e._uU(19,"Qu\u1ea3n l\xfd t\xe0i kho\u1ea3n \u0111\u1ea1i l\xfd"),e.qZA(),e.TgZ(20,"div",12)(21,"cf-input-group",5),e._UZ(22,"cf-icon",6),e.TgZ(23,"input",13,8),e.NdJ("ngModelChange",function(s){return i.filterData.searchText=s})("focus",function(){e.CHM(o);const s=e.MAs(37);return e.KtG(i.openSearchBts(s))}),e.qZA()()(),e.TgZ(25,"div",14)(26,"div",15),e.NdJ("click",function(){e.CHM(o);const s=e.MAs(39);return e.KtG(i.openStatusBts(s))}),e.TgZ(27,"div",16)(28,"div",17),e._uU(29,"Tr\u1ea1ng th\xe1i"),e.qZA(),e._UZ(30,"cf-icon",18),e.qZA()(),e.TgZ(31,"div",15),e.NdJ("click",function(){e.CHM(o);const s=e.MAs(41);return e.KtG(i.openTitleBts(s))}),e.TgZ(32,"div",16)(33,"div",17),e._uU(34,"Vai tr\xf2"),e.qZA(),e._UZ(35,"cf-icon",18),e.qZA()()(),e.YNc(36,Ln,20,9,"ng-template",null,19,e.W1O),e.YNc(38,Hn,5,2,"ng-template",null,20,e.W1O),e.YNc(40,jn,5,2,"ng-template",null,21,e.W1O),e.qZA(),e.TgZ(42,"div",22)(43,"div",23)(44,"div",24)(45,"div",25),e._uU(46,"Danh s\xe1ch \u0111\u1ea1i l\xfd"),e.qZA(),e.YNc(47,Vn,3,0,"button",26),e.qZA(),e.TgZ(48,"cf-table",27,28),e.NdJ("pageIndexChange",function(s){return i.pageIndexChange(s)})("serverPageSizeChange",function(s){return i.onServerPageSizeChange(s)}),e.TgZ(50,"thead",29)(51,"th",30),e._uU(52,"M\xe3 \u0111\u1ea1i l\xfd"),e.qZA(),e.TgZ(53,"th",31),e._uU(54,"T\xean \u0111\u1ea1i l\xfd"),e.qZA(),e.TgZ(55,"th",31),e._uU(56,"Ch\u1ee9c danh"),e.qZA(),e.TgZ(57,"th",31),e._uU(58,"S\u1ed1 d\u01b0 c\xf4ng n\u1ee3"),e.qZA(),e.TgZ(59,"th",31),e._uU(60,"Email"),e.qZA(),e.TgZ(61,"th",31),e._uU(62,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),e.qZA(),e.TgZ(63,"th",31),e._uU(64,"Ng\xe0y t\u1ea1o"),e.qZA(),e.TgZ(65,"th",31),e._uU(66,"Gi\u1edbi thi\u1ec7u"),e.qZA(),e.TgZ(67,"th",31),e._uU(68,"Tr\u1ea1ng th\xe1i"),e.qZA(),e.YNc(69,Gn,2,1,"th",32),e.qZA(),e.TgZ(70,"tbody"),e.YNc(71,$n,27,25,"ng-template",33),e.qZA()()()(),e.TgZ(72,"div",34)(73,"div",35)(74,"div",36),e._uU(75),e.qZA(),e.TgZ(76,"div",37),e.YNc(77,Wn,3,0,"button",38),e.qZA()(),e.TgZ(78,"div",39),e.NdJ("scrolled",function(){return i.onScrollDown()}),e.YNc(79,ti,2,1,"ng-container",40),e.qZA()(),e.YNc(80,ni,1,0,"cf-spinner",41)}if(2&t){const o=e.MAs(49);e.xp6(2),e.Q6J("status","default")("data",i.statusOption)("allowSearch",!1)("ngModel",i.filterData.state),e.xp6(4),e.Q6J("status","default")("data",i.roleOptions)("allowSearch",!1)("ngModel",i.filterData.titleId),e.xp6(7),e.Q6J("ngModel",i.filterData.searchText),e.xp6(10),e.Q6J("ngModel",i.filterData.searchText),e.xp6(24),e.Q6J("ngIf",i.isCreateAgentButton),e.xp6(1),e.Q6J("fnSort",i.sortChange)("fnSearch",i.searchChange)("pageSizeList",e.l5B(36,ci,e.DdM(32,ii),e.DdM(33,oi),e.DdM(34,ai),e.DdM(35,ri)))("listData",i.listOfData)("pageSize",i.pageSize)("serverSidePagination",!0)("totalData",i.totalData),e.xp6(3),e.Q6J("sortName","name"),e.xp6(18),e.Q6J("ngIf",i.canViewDetail||i.canDelete),e.xp6(2),e.Q6J("ngForOf",o.partOfdata),e.xp6(4),e.hij("",i.listOfData.length," k\u1ebft qu\u1ea3"),e.xp6(2),e.Q6J("ngIf",i.isCreateAgentButton),e.xp6(1),e.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",300)("infiniteScrollContainer",".main-scroll-bar")("scrollWindow",!1)("fromRoot",!0)("alwaysCallback",!0),e.xp6(1),e.Q6J("ngForOf",i.listOfData)("ngForTrackBy",i.userTrackByFn),e.xp6(1),e.Q6J("ngIf",i.isLoading)}},dependencies:[h.ez,h.sg,h.O5,h.JJ,h.uU,c.u5,c.Fj,c.JJ,c.On,c.UX,u.AxE,u.Sm8,v.N8,v.Xq,M.rC,M.E_,M.zs,M.qS,N.q,l.j$,l.ND,l.BN,ne.b,O.DW,G.T,G.o,ie.Rq,ie.Ry,Ce.AS,k.OR,he],encapsulation:2}),n})();function li(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"button",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onUpdate())}),e._UZ(2,"cf-icon",25),e._uU(3," Ch\u1ec9nh s\u1eeda "),e.qZA(),e.TgZ(4,"button",5),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onDelete())}),e._UZ(5,"cf-icon",26),e._uU(6," X\xf3a "),e.qZA()()}}function ui(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"button",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onSubmit())}),e._UZ(2,"cf-icon",27),e._uU(3," L\u01b0u "),e.qZA(),e.TgZ(4,"button",5),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onCancel())}),e._UZ(5,"cf-icon",28),e._uU(6," H\u1ee7y "),e.qZA()()}}function di(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",29)(1,"cf-icon",30),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(15);return e.KtG(o.click())}),e.qZA()()}}function _i(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"cf-select",31),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.userDetailDisplay.state=o)}),e._UZ(1,"cf-icon",32),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("data",t.statusOption)("allowSearch",!1)("ngModel",t.userDetailDisplay.state)}}function pi(n,a){1&n&&(e.TgZ(0,"div",35),e._UZ(1,"cf-icon",36),e._uU(2," Ho\u1ea1t \u0111\u1ed9ng "),e.qZA())}function gi(n,a){1&n&&(e.TgZ(0,"div",35),e._UZ(1,"cf-icon",37),e._uU(2," Ng\u01b0ng ho\u1ea1t \u0111\u1ed9ng "),e.qZA())}function hi(n,a){1&n&&(e.TgZ(0,"div",35),e._UZ(1,"cf-icon",38),e._uU(2," Ch\u01b0a k\xedch ho\u1ea1t "),e.qZA())}function mi(n,a){if(1&n&&(e.TgZ(0,"div",33),e.YNc(1,pi,3,0,"div",34),e.YNc(2,gi,3,0,"div",34),e.YNc(3,hi,3,0,"div",34),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf","ACTIVE"===t.userDetailDisplay.state),e.xp6(1),e.Q6J("ngIf","BLOCK"===t.userDetailDisplay.state),e.xp6(1),e.Q6J("ngIf","INACTIVE"===t.userDetailDisplay.state)}}const se=function(n){return{"!bg-secondary-3-5 !border-none !text-neutral-white":n}};function fi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",41),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.onChangeMode("BASIC_INFO"))}),e._UZ(1,"cf-icon",42),e._uU(2," Th\xf4ng tin "),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("ngClass",e.VKq(1,se,"BASIC_INFO"===t.viewMode))}}function vi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",41),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.onChangeMode("TITLE_ROLE"))}),e._UZ(1,"cf-icon",43),e._uU(2," Quy\u1ec1n h\u1ea1n "),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("ngClass",e.VKq(1,se,"TITLE_ROLE"===t.viewMode))}}function Ci(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(4);return e.KtG(o.viewCCCD())}),e._UZ(1,"cf-icon",55),e._uU(2," Xem \u1ea3nh ch\u1ee5p "),e.qZA()}}function xi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(4);return e.KtG(o.viewCCCD())}),e._UZ(1,"cf-icon",56),e._uU(2," \u1ea8n \u1ea3nh ch\u1ee5p "),e.qZA()}}function Ei(n,a){if(1&n&&e._UZ(0,"img",61),2&n){const t=e.oxw(5);e.Q6J("src",t.cccdFontSrc,e.LSH)}}function Ai(n,a){if(1&n&&e._UZ(0,"img",61),2&n){const t=e.oxw(5);e.Q6J("src",t.cccdBackSrc,e.LSH)}}function yi(n,a){if(1&n&&(e.TgZ(0,"div",57)(1,"div",58),e._uU(2,"\u1ea2nh ch\u1ee5p CCCD"),e.qZA(),e.TgZ(3,"div",59),e.YNc(4,Ei,1,1,"img",60),e.YNc(5,Ai,1,1,"img",60),e.qZA()()),2&n){const t=e.oxw(4);e.xp6(4),e.Q6J("ngIf",t.cccdFontSrc),e.xp6(1),e.Q6J("ngIf",t.cccdBackSrc)}}function Ti(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div")(2,"div",44),e._UZ(3,"div",45),e.TgZ(4,"div",16),e._uU(5,"Th\xf4ng tin c\u01a1 b\u1ea3n"),e.qZA()(),e.TgZ(6,"div",46)(7,"div",47)(8,"div",20),e._uU(9,"T\xean \u0111\u0103ng nh\u1eadp"),e.qZA(),e.TgZ(10,"div",48),e._uU(11),e.qZA()(),e.TgZ(12,"div",47)(13,"div",20),e._uU(14,"H\u1ecd v\xe0 t\xean"),e.qZA(),e.TgZ(15,"div",48),e._uU(16),e.qZA()(),e.TgZ(17,"div",47)(18,"div",20),e._uU(19,"Email"),e.qZA(),e.TgZ(20,"div",48),e._uU(21),e.qZA()(),e.TgZ(22,"div",47)(23,"div",20),e._uU(24,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),e.qZA(),e.TgZ(25,"div",48),e._uU(26),e.qZA()(),e.TgZ(27,"div",47)(28,"div",20),e._uU(29,"Ng\xe0y sinh"),e.qZA(),e.TgZ(30,"div",48),e._uU(31),e.qZA()(),e.TgZ(32,"div",47)(33,"div",20),e._uU(34,"Gi\u1edbi t\xednh"),e.qZA(),e.TgZ(35,"div",48),e._uU(36),e.qZA()(),e.TgZ(37,"div",47)(38,"div",20),e._uU(39,"Ng\xe0y \u0111\u0103ng k\xed"),e.qZA(),e.TgZ(40,"div",48),e._uU(41),e.qZA()()()(),e.TgZ(42,"div",49)(43,"div",44),e._UZ(44,"div",45),e.TgZ(45,"div",16),e._uU(46,"X\xe1c th\u1ef1c danh t\xednh"),e.qZA()(),e.TgZ(47,"div",46)(48,"div",47)(49,"div",20),e._uU(50,"S\u1ed1 CCCD"),e.qZA(),e.TgZ(51,"div",50),e._uU(52),e.qZA()(),e.TgZ(53,"div",47)(54,"div",20),e._uU(55,"Ng\xe0y c\u1ea5p"),e.qZA(),e.TgZ(56,"div",50),e._uU(57),e.qZA()(),e.TgZ(58,"div",47)(59,"div",20),e._uU(60,"N\u01a1i c\u1ea5p"),e.qZA(),e.TgZ(61,"div",50),e._uU(62),e.qZA()(),e.TgZ(63,"div",51),e.YNc(64,Ci,3,0,"button",52),e.YNc(65,xi,3,0,"button",52),e.qZA(),e.YNc(66,yi,6,2,"div",53),e.qZA()()()),2&n){const t=e.oxw(3);e.xp6(11),e.hij(" ",null==t.userDetailDisplay?null:t.userDetailDisplay.identify," "),e.xp6(5),e.hij(" ",null==t.userDetailDisplay?null:t.userDetailDisplay.displayName," "),e.xp6(5),e.hij(" ",null==t.userDetailDisplay?null:t.userDetailDisplay.email," "),e.xp6(5),e.hij(" ",null==t.userDetailDisplay?null:t.userDetailDisplay.phone," "),e.xp6(5),e.hij(" ",null==t.userDetailDisplay?null:t.userDetailDisplay.birthday," "),e.xp6(5),e.hij(" ",null==t.userDetailDisplay?null:t.userDetailDisplay.gender," "),e.xp6(5),e.hij(" ",null==t.userDetailDisplay?null:t.userDetailDisplay.dateCreated," "),e.xp6(11),e.hij(" ",null==t.userDetailDisplay?null:t.userDetailDisplay.identifyId," "),e.xp6(5),e.hij(" ",null==t.userDetailDisplay?null:t.userDetailDisplay.identifyDateProvide," "),e.xp6(5),e.hij(" ",null==t.userDetailDisplay?null:t.userDetailDisplay.identifyPlaceProvide," "),e.xp6(2),e.Q6J("ngIf",!t.identifyToggle),e.xp6(1),e.Q6J("ngIf",t.identifyToggle),e.xp6(1),e.Q6J("ngIf",t.identifyToggle)}}function Zi(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"cf-switch",71),e._uU(2),e.qZA(),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("checked",!0)("disabled",!0),e.xp6(1),e.Oqu(t)}}function Di(n,a){if(1&n&&(e.TgZ(0,"div",65)(1,"div",66)(2,"div",67),e._uU(3," Quy\u1ec1n h\u1ea1n m\u1eb7c \u0111\u1ecbnh "),e.qZA(),e.TgZ(4,"div",68),e._uU(5," L\xe0 nh\u1eefng quy\u1ec1n h\u1ea1n \u0111\u01b0\u1ee3c c\u1ea5p cho role \u0111\xf3, kh\xf4ng \u0111\u01b0\u1ee3c ph\xe9p thay \u0111\u1ed5i. "),e.qZA()(),e.TgZ(6,"div",69),e.YNc(7,Zi,3,3,"ng-container",70),e.qZA()()),2&n){const t=e.oxw(4);e.xp6(7),e.Q6J("ngForOf",t.allRolesDefault)}}function Fi(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"cf-switch",71),e._uU(2),e.qZA(),e.BQk()),2&n){const t=a.$implicit,i=e.oxw(5);e.xp6(1),e.Q6J("checked",i.listRoleId.includes(t.id))("disabled",!0),e.xp6(1),e.Oqu(t.name)}}function bi(n,a){if(1&n&&(e.TgZ(0,"div",65)(1,"div",66)(2,"div",67),e._uU(3," Quy\u1ec1n h\u1ea1n n\xe2ng cao "),e.qZA(),e.TgZ(4,"div",68),e._uU(5," L\xe0 nh\u1eefng quy\u1ec1n h\u1ea1n \u0111\u01b0\u1ee3c ch\u1ec9 \u0111\u1ecbnh c\u1ea5p th\xeam cho \u0111\u1ea1i l\xfd n\u1ebfu mu\u1ed1n. "),e.qZA()(),e.TgZ(6,"div",69),e.YNc(7,Fi,3,3,"ng-container",70),e.qZA()()),2&n){const t=e.oxw(4);e.xp6(7),e.Q6J("ngForOf",t.allRolesAdvance)}}function ki(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",62),e.YNc(2,Di,8,1,"div",63),e._UZ(3,"div",64),e.YNc(4,bi,8,1,"div",63),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("ngIf",t.allRolesDefault.length),e.xp6(2),e.Q6J("ngIf",t.allRolesAdvance.length)}}function Ii(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",39),e.YNc(2,fi,3,3,"div",40),e.YNc(3,vi,3,3,"div",40),e.qZA(),e.YNc(4,Ti,67,13,"div",1),e.YNc(5,ki,5,2,"div",1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.isEditInfo),e.xp6(1),e.Q6J("ngIf",t.isEditPermission),e.xp6(1),e.Q6J("ngIf","BASIC_INFO"===t.viewMode),e.xp6(1),e.Q6J("ngIf","TITLE_ROLE"===t.viewMode)}}function Ui(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",41),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.onChangeMode("BASIC_INFO"))}),e._UZ(1,"cf-icon",42),e._uU(2," Th\xf4ng tin "),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("ngClass",e.VKq(1,se,"BASIC_INFO"===t.viewMode))}}function Ni(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",41),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.onChangeMode("TITLE_ROLE"))}),e._UZ(1,"cf-icon",43),e._uU(2," Quy\u1ec1n h\u1ea1n "),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("ngClass",e.VKq(1,se,"TITLE_ROLE"===t.viewMode))}}function wi(n,a){if(1&n&&e._UZ(0,"cf-input-hint",99),2&n){const t=e.oxw(4);e.Q6J("hint",t.errorMessage.displayName)}}function qi(n,a){if(1&n&&e._UZ(0,"cf-input-hint",99),2&n){const t=e.oxw(4);e.Q6J("hint",t.errorMessage.email)}}function Pi(n,a){1&n&&e._UZ(0,"cf-input-hint",99),2&n&&e.Q6J("hint","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function Ji(n,a){1&n&&e._UZ(0,"cf-input-hint",99),2&n&&e.Q6J("hint","T\u1ed1i thi\u1ec3u 7 ch\u1eef s\u1ed1")}function Si(n,a){1&n&&e._UZ(0,"cf-input-hint",99),2&n&&e.Q6J("hint","T\u1ed1i \u0111a 11 ch\u1eef s\u1ed1")}function Qi(n,a){if(1&n&&e._UZ(0,"cf-input-hint",99),2&n){const t=e.oxw(4);e.Q6J("hint",t.errorMessage.identifyId)}}function Mi(n,a){1&n&&e._UZ(0,"cf-input-hint",99),2&n&&e.Q6J("hint","T\u1ed1i thi\u1ec3u 6 ch\u1eef s\u1ed1")}function Bi(n,a){1&n&&e._UZ(0,"cf-input-hint",99),2&n&&e.Q6J("hint","T\u1ed1i \u0111a 12 ch\u1eef s\u1ed1")}function Yi(n,a){if(1&n&&e._UZ(0,"cf-input-hint",99),2&n){const t=e.oxw(4);e.Q6J("hint",t.errorMessage.identifyDateProvide)}}function Oi(n,a){if(1&n&&e._UZ(0,"cf-input-hint",99),2&n){const t=e.oxw(4);e.Q6J("hint",t.errorMessage.identifyPlaceProvide)}}function Ri(n,a){1&n&&(e.TgZ(0,"div",100),e._UZ(1,"cf-icon",101),e._uU(2," M\u1eb7t tr\u01b0\u1edbc "),e.qZA())}function Li(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",102),e.NdJ("click",function(o){e.CHM(t);const r=e.oxw(4);return e.KtG(r.closeButtonCCCDFont(o))}),e._UZ(1,"cf-icon",103),e.qZA()}}function zi(n,a){1&n&&(e.TgZ(0,"div",100),e._UZ(1,"cf-icon",101),e._uU(2," M\u1eb7t sau "),e.qZA())}function Hi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",102),e.NdJ("click",function(o){e.CHM(t);const r=e.oxw(4);return e.KtG(r.closeButtonCCCDBack(o))}),e._UZ(1,"cf-icon",103),e.qZA()}}function Ki(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div")(2,"div",44),e._UZ(3,"div",45),e.TgZ(4,"div",16),e._uU(5,"Th\xf4ng tin c\u01a1 b\u1ea3n"),e.qZA()(),e.TgZ(6,"div",46)(7,"div",47)(8,"div",20),e._uU(9,"T\xean \u0111\u0103ng nh\u1eadp"),e.qZA(),e.TgZ(10,"div",48),e._uU(11),e.qZA()(),e.TgZ(12,"div",47)(13,"div",72),e._uU(14,"H\u1ecd v\xe0 t\xean"),e.qZA(),e.TgZ(15,"cf-input-group",73),e._UZ(16,"input",74),e.YNc(17,wi,1,1,"cf-input-hint",75),e.qZA()(),e.TgZ(18,"div",47)(19,"div",72),e._uU(20,"Email"),e.qZA(),e.TgZ(21,"cf-input-group",73),e._UZ(22,"input",76),e.YNc(23,qi,1,1,"cf-input-hint",75),e.qZA()(),e.TgZ(24,"div")(25,"div",77)(26,"label",78),e._uU(27," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i "),e.qZA()(),e.TgZ(28,"cf-select",79)(29,"div",80),e._UZ(30,"input",81),e.qZA(),e.YNc(31,Pi,1,1,"cf-input-hint",75),e.YNc(32,Ji,1,1,"cf-input-hint",75),e.YNc(33,Si,1,1,"cf-input-hint",75),e.qZA()(),e.TgZ(34,"div",47)(35,"div",20),e._uU(36,"Ng\xe0y sinh"),e.qZA(),e.TgZ(37,"cf-input-group",82)(38,"input",83,84),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(39);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(39);return e.KtG(o.close())}),e.qZA()()(),e.TgZ(40,"div",47)(41,"div",20),e._uU(42,"Gi\u1edbi t\xednh"),e.qZA(),e._UZ(43,"cf-select",85),e.qZA(),e.TgZ(44,"div",47)(45,"div",20),e._uU(46,"Ng\xe0y \u0111\u0103ng k\xed"),e.qZA(),e.TgZ(47,"div",48),e._uU(48),e.qZA()()()(),e.TgZ(49,"div",49)(50,"div",44),e._UZ(51,"div",45),e.TgZ(52,"div",16),e._uU(53,"X\xe1c th\u1ef1c danh t\xednh"),e.qZA()(),e.TgZ(54,"div",46)(55,"div",47)(56,"div",72),e._uU(57,"S\u1ed1 CCCD"),e.qZA(),e.TgZ(58,"cf-input-group",73),e._UZ(59,"input",86),e.YNc(60,Qi,1,1,"cf-input-hint",75),e.YNc(61,Mi,1,1,"cf-input-hint",75),e.YNc(62,Bi,1,1,"cf-input-hint",75),e.qZA()(),e.TgZ(63,"div",47)(64,"div",72),e._uU(65,"Ng\xe0y c\u1ea5p"),e.qZA(),e.TgZ(66,"cf-input-group",73)(67,"input",87,88),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(68);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(68);return e.KtG(o.close())}),e.qZA(),e.YNc(69,Yi,1,1,"cf-input-hint",75),e.qZA()(),e.TgZ(70,"div",89)(71,"div",72),e._uU(72,"N\u01a1i c\u1ea5p"),e.qZA(),e.TgZ(73,"cf-input-group",73),e._UZ(74,"input",90),e.YNc(75,Oi,1,1,"cf-input-hint",75),e.qZA()(),e.TgZ(76,"div",91),e._uU(77,"Upload \u1ea3nh ch\u1ee5p CCCD"),e.qZA(),e.TgZ(78,"div",92)(79,"div",93),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(83);return e.KtG(o.click())}),e.YNc(80,Ri,3,0,"div",94),e.YNc(81,Li,2,0,"div",95),e.qZA(),e.TgZ(82,"input",96,97),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.uploadCCCDFont(o))}),e.qZA(),e.TgZ(84,"div",93),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(88);return e.KtG(o.click())}),e.YNc(85,zi,3,0,"div",94),e.YNc(86,Hi,2,0,"div",95),e.qZA(),e.TgZ(87,"input",96,98),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.uploadCCCDBack(o))}),e.qZA()()()()()}if(2&n){const t=e.oxw(3);e.xp6(11),e.hij(" ",t.userDetailDisplay.identify," "),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("status",t.userForm.controls.displayName.invalid&&(t.userForm.controls.displayName.dirty||t.userForm.controls.displayName.touched)?"error":"default"),e.xp6(1),e.Q6J("formControl",t.userForm.controls.displayName),e.xp6(1),e.Q6J("ngIf",t.userForm.controls.displayName.hasError("required")&&(t.userForm.controls.displayName.dirty||t.userForm.controls.displayName.touched)),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("status",t.userForm.controls.email.invalid&&(t.userForm.controls.email.dirty||t.userForm.controls.email.touched)?"error":"default"),e.xp6(1),e.Q6J("formControl",t.userForm.controls.email),e.xp6(1),e.Q6J("ngIf",t.userForm.controls.email.hasError("required")&&(t.userForm.controls.email.dirty||t.userForm.controls.email.touched)),e.xp6(3),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("status",t.userForm.controls.phone.invalid&&(t.userForm.controls.phone.dirty||t.userForm.controls.phone.touched)?"error":"default")("data",t.optionsAreaCode)("formControl",t.userForm.controls.phoneArea),e.xp6(2),e.Q6J("formControl",t.userForm.controls.phone),e.xp6(1),e.Q6J("ngIf",(null==t.userForm.controls.phone.errors?null:t.userForm.controls.phone.errors.required)&&(t.userForm.controls.phone.dirty||t.userForm.controls.phone.touched)),e.xp6(1),e.Q6J("ngIf",t.userForm.controls.phone.hasError("minlength")&&(t.userForm.controls.phone.touched||t.userForm.controls.phone.dirty)),e.xp6(1),e.Q6J("ngIf",t.userForm.controls.phone.hasError("maxlength")&&(t.userForm.controls.phone.touched||t.userForm.controls.phone.dirty)),e.xp6(5),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("maxDate",t.currentDate)("formControl",t.userForm.controls.birthday),e.xp6(5),e.Q6J("data",t.optionsGender)("allowSearch",!1)("formControl",t.userForm.controls.gender),e.xp6(5),e.hij(" ",null==t.userDetailDisplay?null:t.userDetailDisplay.dateCreated," "),e.xp6(8),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("status",t.userForm.controls.identifyId.invalid&&(t.userForm.controls.identifyId.dirty||t.userForm.controls.identifyId.touched)?"error":"default"),e.xp6(1),e.Q6J("formControl",t.userForm.controls.identifyId),e.xp6(1),e.Q6J("ngIf",t.userForm.controls.identifyId.hasError("required")&&(t.userForm.controls.identifyId.dirty||t.userForm.controls.identifyId.touched)),e.xp6(1),e.Q6J("ngIf",t.userForm.controls.identifyId.hasError("minlength")&&(t.userForm.controls.identifyId.touched||t.userForm.controls.identifyId.dirty)),e.xp6(1),e.Q6J("ngIf",t.userForm.controls.identifyId.hasError("maxlength")&&(t.userForm.controls.identifyId.touched||t.userForm.controls.identifyId.dirty)),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("status",t.userForm.controls.identifyDateProvide.invalid&&(t.userForm.controls.identifyDateProvide.dirty||t.userForm.controls.identifyDateProvide.touched)?"error":"default"),e.xp6(1),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("maxDate",t.currentDate)("formControl",t.userForm.controls.identifyDateProvide),e.xp6(2),e.Q6J("ngIf",t.userForm.controls.identifyDateProvide.hasError("required")&&(t.userForm.controls.identifyDateProvide.dirty||t.userForm.controls.identifyDateProvide.touched)),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("status",t.userForm.controls.identifyPlaceProvide.invalid&&(t.userForm.controls.identifyPlaceProvide.dirty||t.userForm.controls.identifyPlaceProvide.touched)?"error":"default"),e.xp6(1),e.Q6J("formControl",t.userForm.controls.identifyPlaceProvide),e.xp6(1),e.Q6J("ngIf",t.userForm.controls.identifyPlaceProvide.hasError("required")&&(t.userForm.controls.identifyPlaceProvide.dirty||t.userForm.controls.identifyPlaceProvide.touched)),e.xp6(4),e.Jzz("background-image: url(",t.previewCCCDFont,");"),e.ekj("w-[238px]",t.previewCCCDFont),e.xp6(1),e.Q6J("ngIf",!t.previewCCCDFont),e.xp6(1),e.Q6J("ngIf",t.previewCCCDFont),e.xp6(3),e.Jzz("background-image: url(",t.previewCCCDBack,");"),e.ekj("w-[238px]",t.previewCCCDBack),e.xp6(1),e.Q6J("ngIf",!t.previewCCCDBack),e.xp6(1),e.Q6J("ngIf",t.previewCCCDBack)}}function ji(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"cf-switch",71),e._uU(2),e.qZA(),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("checked",!0)("disabled",!0),e.xp6(1),e.Oqu(t)}}function Vi(n,a){if(1&n&&(e.TgZ(0,"div",65)(1,"div",66)(2,"div",67),e._uU(3," Quy\u1ec1n h\u1ea1n m\u1eb7c \u0111\u1ecbnh "),e.qZA(),e.TgZ(4,"div",68),e._uU(5," L\xe0 nh\u1eefng quy\u1ec1n h\u1ea1n \u0111\u01b0\u1ee3c c\u1ea5p cho role \u0111\xf3, kh\xf4ng \u0111\u01b0\u1ee3c ph\xe9p thay \u0111\u1ed5i. "),e.qZA()(),e.TgZ(6,"div",69),e.YNc(7,ji,3,3,"ng-container",70),e.qZA()()),2&n){const t=e.oxw(4);e.xp6(7),e.Q6J("ngForOf",t.allRolesDefault)}}function Gi(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"cf-switch",107),e.NdJ("checkedChange",function(){const r=e.CHM(t).$implicit,s=e.oxw(5);return e.KtG(s.onCheckRoleChange(r))}),e._uU(2),e.qZA(),e.BQk()}if(2&n){const t=a.$implicit,i=e.oxw(5);e.xp6(1),e.Q6J("checked",i.listRoleId.includes(t.id)),e.xp6(1),e.Oqu(t.name)}}function Xi(n,a){if(1&n&&(e.TgZ(0,"div",65)(1,"div",66)(2,"div",67),e._uU(3," Quy\u1ec1n h\u1ea1n n\xe2ng cao "),e.qZA(),e.TgZ(4,"div",68),e._uU(5," L\xe0 nh\u1eefng quy\u1ec1n h\u1ea1n \u0111\u01b0\u1ee3c ch\u1ec9 \u0111\u1ecbnh c\u1ea5p th\xeam cho \u0111\u1ea1i l\xfd n\u1ebfu mu\u1ed1n. "),e.qZA()(),e.TgZ(6,"div",69),e.YNc(7,Gi,3,2,"ng-container",70),e.qZA()()),2&n){const t=e.oxw(4);e.xp6(7),e.Q6J("ngForOf",t.allRolesAdvance)}}const $i=function(){return[]};function Wi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",62)(2,"cf-select",104),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.employeeDetail.titleId=o)})("selectedChange",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.getPermissionByRole(o))}),e.TgZ(3,"label",105)(4,"span",106),e._uU(5,"Ch\u1ee9c danh"),e.qZA()()(),e.YNc(6,Vi,8,1,"div",63),e._UZ(7,"div",64),e.YNc(8,Xi,8,1,"div",63),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("status","default")("data",t.roleOtions||e.DdM(8,$i))("ngModel",t.employeeDetail.titleId)("allowSearch",!1)("allowSearch",!0),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("ngIf",t.allRolesDefault.length),e.xp6(2),e.Q6J("ngIf",t.allRolesAdvance.length)}}function eo(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",39),e.YNc(2,Ui,3,3,"div",40),e.YNc(3,Ni,3,3,"div",40),e.qZA(),e.YNc(4,Ki,89,56,"div",1),e.YNc(5,Wi,9,9,"div",1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.isEditInfo),e.xp6(1),e.Q6J("ngIf",t.isEditPermission),e.xp6(1),e.Q6J("ngIf","BASIC_INFO"===t.viewMode),e.xp6(1),e.Q6J("ngIf","TITLE_ROLE"===t.viewMode)}}function to(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div")(4,"button",5),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onBackToList())}),e._UZ(5,"cf-icon",6),e._uU(6," Quay l\u1ea1i t\xecm ki\u1ebfm "),e.qZA()(),e.YNc(7,li,7,0,"div",7),e.YNc(8,ui,7,0,"div",7),e.qZA(),e.TgZ(9,"div",8)(10,"div",9)(11,"div",10),e._UZ(12,"img",11),e.YNc(13,di,2,0,"div",12),e.TgZ(14,"input",13,14),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.uploadAvatar(o))}),e.qZA()(),e.TgZ(16,"div",15)(17,"div",16),e._uU(18),e.qZA(),e.TgZ(19,"div",17),e._uU(20),e.qZA()()(),e.TgZ(21,"div",18)(22,"div",19)(23,"div",20),e._uU(24,"Ch\u1ee9c danh"),e.qZA(),e.TgZ(25,"cf-label",21),e._uU(26),e.qZA()(),e.TgZ(27,"div",19)(28,"div",20),e._uU(29,"Tr\u1ea1ng th\xe1i"),e.qZA(),e.YNc(30,_i,2,3,"cf-select",22),e.YNc(31,mi,4,3,"ng-template",null,23,e.W1O),e.qZA()()(),e.YNc(33,Ii,6,4,"div",1),e.YNc(34,eo,6,4,"div",1),e.qZA()()}if(2&n){const t=e.MAs(32),i=e.oxw();e.xp6(7),e.Q6J("ngIf",!i.isEdit),e.xp6(1),e.Q6J("ngIf",i.isEdit),e.xp6(4),e.Q6J("src",i.previewAvatar||"https://cheapflighttest.s3.ap-southeast-1.amazonaws.com/avarta-default.jpg",e.LSH),e.xp6(1),e.Q6J("ngIf",i.isEdit),e.xp6(5),e.Oqu(i.userDetailDisplay.displayName),e.xp6(2),e.Oqu(i.userDetailDisplay.identify),e.xp6(5),e.Q6J("color",i.titleColor),e.xp6(1),e.Oqu(i.userDetailDisplay.titleName),e.xp6(4),e.Q6J("ngIf",i.isUpdateStatus(i.userDetailDisplay.titleCode))("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",!i.isEdit),e.xp6(1),e.Q6J("ngIf",i.isEdit)}}function no(n,a){1&n&&e._UZ(0,"cf-spinner")}let io=(()=>{class n{constructor(t,i,o,r,s,d,m,f,A,E){this.calendar=i,this._fb=o,this._modal=r,this.activedRoute=s,this._router=d,this._userService=m,this._toastService=f,this._permissionService=A,this._phoneDataService=E,this.viewMode="BASIC_INFO",this.isEdit=!1,this.identifyToggle=!1,this.isCccdFontDirty=!1,this.isCccdBackDirty=!1,this.isAvatarDirty=!1,this.roleOtions=[],this.allRolesDefault=[],this.allRolesAdvance=[],this.errorMessage={displayName:"H\u1ecd v\xe0 t\xean kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",email:"Email kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",phone:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",emailFormat:"\u0110\u1ecbnh d\u1ea1ng kh\xf4ng h\u1ee3p l\u1ec7",birthday:"Ng\xe0y sinh kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",gender:"Gi\u1edbi t\xednh kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",identifyId:"CCCD kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",identifyDateProvide:"Ng\xe0y c\u1ea5p kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",identifyPlaceProvide:"N\u01a1i c\u1ea5p kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",minlength:"T\u1ed1i thi\u1ec3u 2 k\xed t\u1ef1",minlengthCCCD:"T\u1ed1i thi\u1ec3u 6 ch\u1eef s\u1ed1",maxlength:"T\u1ed1i \u0111a 11 ch\u1eef s\u1ed1"},this.optionsGender=[{name:"Nam",code:"MALE"},{name:"N\u1eef",code:"FEMALE"}],this.statusOption=[{code:"ACTIVE",name:"Ho\u1ea1t \u0111\u1ed9ng"},{code:"INACTIVE",name:"Ng\u01b0ng ho\u1ea1t \u0111\u1ed9ng"}],this.isLoading=!1,this.listRoleId=[],this.isEditInfo=this._permissionService.hasPermission(C.or.UpdateEmployeeInfo),this.isEditPermission=this._permissionService.hasPermission(C.or.UpdateEmployeePermission),this.optionsAreaCode=[],t.registerIcons([u.rks,u.Hge,u.B2I,u.KYu,u.kTb,u.oFb,u.HTW,u.P5K,u.bLw,u.MwJ,u.UNF,u.PcQ,u.whL,u.S7Q]),this.currentDate=i.getToday(),this.optionsAreaCode=this._phoneDataService.optionsAreaCode,this.userId=s.snapshot.params.id,this.titleColor=history.state.titleColor,this.isEditPermission&&(this.viewMode="TITLE_ROLE"),this.isEditInfo&&(this.viewMode="BASIC_INFO")}ngOnInit(){this.initUserForm(),this.loadEmployeeDetail()}initUserForm(){this.userForm=this._fb.group({avatar:[""],displayName:[null,c.kI.required],email:[null,[c.kI.required,c.kI.email]],phoneArea:[null,c.kI.required],phone:[null,[c.kI.required,c.kI.minLength(7),c.kI.maxLength(11)]],birthday:[null],gender:[null],identifyId:[null,[c.kI.required,c.kI.minLength(6),c.kI.maxLength(12)]],identifyDateProvide:[null,c.kI.required],identifyPlaceProvide:[null,c.kI.required],frontImageIdentify:["",c.kI.required],backImageIdentify:["",c.kI.required]})}loadEmployeeDetail(){const t={userID:this.userId};this.isLoading=!0,this._userService.getEmployeeDetail(t).pipe((0,U.x)(()=>this.isLoading=!1)).subscribe({next:i=>{var o,r,s;this.titleId=i.data.titleId,this.employeeDetail=i.data,this.employeeDetail.titlesCanChange.push({id:i.data.titleId,name:i.data.titleName,defaultPermissions:i.data.defaultPermission,advanceRoles:i.data.advanceRole}),this.userDetailDisplay={gender:i.data.getGender(),identifyId:i.data.identifyId,identifyDateProvide:i.data.identifyDateProvide?R(1e3*i.data.identifyDateProvide).format("DD/MM/YYYY"):"",identifyPlaceProvide:i.data.identifyPlaceProvide,birthday:i.data.birthday?R(1e3*i.data.birthday).format("DD/MM/YYYY"):"",dateCreated:i.data.dateCreated?R(1e3*i.data.dateCreated).format("DD/MM/YYYY"):"",displayName:i.data.displayName,identify:i.data.identify,titleName:i.data.titleName,titleCode:i.data.titleCode,state:i.data.state,email:i.data.email,phone:i.data.phone},this.allRolesDefault=(null===(o=i.data)||void 0===o?void 0:o.defaultPermission)||[],this.allRolesAdvance=(null===(r=i.data)||void 0===r?void 0:r.advanceRole)||[],this.listRoleId=i.data.roleIds||[],this.roleOtions=(null===(s=this.employeeDetail.titlesCanChange)||void 0===s?void 0:s.map(m=>({id:m.id,name:m.name})))||[],this.previewAvatar=i.data.avatarUrl;const d={avatar:i.data.avatar,frontImageIdentify:i.data.frontImageIdentify,backImageIdentify:i.data.backImageIdentify,displayName:i.data.displayName,email:i.data.email,phoneArea:i.data.phoneArea,phone:i.data.phone,birthday:i.data.birthday?new Date(1e3*i.data.birthday):null,gender:i.data.gender,identifyId:i.data.identifyId,identifyDateProvide:i.data.identifyDateProvide?new Date(1e3*i.data.identifyDateProvide):null,identifyPlaceProvide:i.data.identifyPlaceProvide};this.userForm.patchValue(d)},error:()=>{this._toastService.add({severity:"error",summary:"C\xf3 l\u1ed7i x\u1ea3y ra",detail:"Kh\xf4ng th\u1ec3 l\u1ea5y th\xf4ng tin nh\xe2n vi\xean. Vui l\xf2ng th\u1eed l\u1ea1i!",sticky:!0})}})}onChangeMode(t){this.viewMode=t}onUpdate(){this.isEdit=!0,this.reloadIdentifyImage()}onDelete(){this._modal.open(k.V0,{title:"X\xe1c nh\u1eadn x\xf3a t\xe0i kho\u1ea3n",body:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a t\xe0i kho\u1ea3n n\xe0y? Vi\u1ec7c n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c, vui l\xf2ng ki\u1ec3m tra k\u0129 tr\u01b0\u1edbc khi thao t\xe1c.",okText:"X\xe1c nh\u1eadn",cancelText:"Hu\u1ef7 b\u1ecf",isSecondary:!0}).afterClosed$.subscribe({next:i=>{i.data&&this._userService.deleteEmployeeAccount(this.userId).subscribe({next:o=>{o.success?(this._toastService.add({severity:"success",summary:"Th\xe0nh c\xf4ng",detail:"X\xf3a t\xe0i kho\u1ea3n th\xe0nh c\xf4ng",sticky:!1}),this._router.navigate(["admin/user-manage"])):this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:"X\xf3a t\xe0i kho\u1ea3n th\u1ea5t b\u1ea1i",sticky:!0})}})}})}onSubmit(){if(this.userForm.markAllAsTouched(),this.isEditInfo&&this.userForm.invalid)return;const t=this.userForm.value,i={avatar:t.avatar,birthday:t.birthday?R(t.birthday).format("DD/MM/YYYY"):"",identifyId:t.identifyId,identifyDateProvide:t.identifyDateProvide?R(t.identifyDateProvide).format("DD/MM/YYYY"):"",identifyPlaceProvide:t.identifyPlaceProvide,frontImageIdentify:t.frontImageIdentify,backImageIdentify:t.backImageIdentify,displayName:t.displayName,email:t.email,gender:t.gender||"",phone:t.phone,phoneArea:t.phoneArea,roleIds:this.listRoleId||[],titleId:this.titleId,userId:this.userId};let o=this._userService.updateEmployeeUserInfo(i);(this.isCccdFontDirty||this.isCccdBackDirty||this.isAvatarDirty)&&(o=this.createRequestUpdateEmployeeInfo(i));const r=this._userService.updateEmployeeUserPermission(i),s=[];this.isEditInfo&&s.push(o),this.isEditPermission&&s.push(r),this.isLoading=!0,(0,I.D)(s).pipe((0,U.x)(()=>this.isLoading=!1)).subscribe({next:d=>{this.isEdit=!1,this.loadEmployeeDetail()}})}createRequestUpdateEmployeeInfo(t){return this._userService.getUrlUploadImage({username:this.userDetailDisplay.identify,avatarContentType:this.avatarFile?this.avatarFile.type:"",avatarExtension:this.getExtension(this.avatarFile?this.avatarFile.name:""),cccdFontContentType:this.cccdFontFile?this.cccdFontFile.type:"",cccdFontExtension:this.getExtension(this.cccdFontFile?this.cccdFontFile.name:""),cccdBackContentType:this.cccdBackFile?this.cccdBackFile.type:"",cccdBackExtension:this.getExtension(this.cccdBackFile?this.cccdBackFile.name:"")}).pipe((0,$.w)(i=>{this.isLoading=!0;const o=[];return this.isCccdFontDirty&&o.push(this.uploadAvatarToS3(i.data.cccdFontUploadUrl,this.cccdFontFile.type,this.cccdFontFile)),this.isCccdBackDirty&&o.push(this.uploadAvatarToS3(i.data.cccdBackUploadUrl,this.cccdBackFile.type,this.cccdBackFile)),this.isAvatarDirty&&o.push(this.uploadAvatarToS3(i.data.avatarUploadUrl,this.avatarFile.type,this.avatarFile)),(0,I.D)(o).pipe((0,U.x)(()=>this.isLoading=!1),(0,$.w)(r=>this._userService.updateEmployeeUserInfo(t)))}))}getExtension(t){return"."+t.split(".").pop()}uploadAvatarToS3(t,i,o){return this._userService.uploadfileAWSS3(t,i,o)}onCancel(){this._modal.open(k.V0,{title:"H\u1ee7y b\u1ecf thay \u0111\u1ed5i",body:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n h\u1ee7y b\u1ecf thay \u0111\u1ed5i v\xe0 d\u1eebng vi\u1ec7c ch\u1ec9nh s\u1eeda? H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c.",okText:"Kh\xf4ng, ti\u1ebfp t\u1ee5c",cancelText:"C\xf3, h\u1ee7y b\u1ecf"}).afterClosed$.subscribe({next:i=>{i.data||(this.isEdit=!1)}})}onCheckRoleChange(t){this.listRoleId.includes(t.id)?this.listRoleId=this.listRoleId.filter(i=>i!==t.id):this.listRoleId.push(t.id)}getPermissionByRole(t){var i;const o=this.employeeDetail.titlesCanChange.find(r=>r.id===t.id);o&&(this.listRoleId=[],this.titleId=o.id,this.allRolesAdvance=(null===(i=o.advanceRoles)||void 0===i?void 0:i.map(r=>({id:r.id,name:r.name})))||[],this.allRolesDefault=o.defaultPermissions||[])}isUpdateStatus(t){return this._permissionService.hasPermission(C.or.CanEditAccountStatus+"_"+t)}onBackToList(){this._router.navigate(["admin/user-manage"])}viewCCCD(){this.identifyToggle=!this.identifyToggle,this.identifyToggle&&this.reloadIdentifyImage()}reloadIdentifyImage(){this._userService.getIdentifyUrl(this.userId).subscribe({next:t=>{this.cccdFontSrc=t.data.cccdFontUploadUrl,this.previewCCCDFont=t.data.cccdFontUploadUrl,this.cccdBackSrc=t.data.cccdBackUploadUrl,this.previewCCCDBack=t.data.cccdBackUploadUrl}})}uploadAvatar(t){const o=t.target.files[0];o.type.match("image-*")?o&&(this.isAvatarDirty=!0,this.avatarFile=t.target.files[0],this.getPreviewImage(t,"avatar"),this.userForm.controls.avatar.setValue(this.avatarFile.name)):console.log("Ch\u1ec9 cho ph\xe9p ch\u1ecdn file \u1ea3nh")}uploadCCCDFont(t){this.isCccdFontDirty=!0,this.cccdFontFile=t.target.files[0],this.getPreviewImage(t,"cccdFont"),this.userForm.controls.frontImageIdentify.setValue(this.cccdFontFile.name)}uploadCCCDBack(t){this.isCccdBackDirty=!0,this.cccdBackFile=t.target.files[0],this.getPreviewImage(t,"cccdBack"),this.userForm.controls.backImageIdentify.setValue(this.cccdBackFile.name)}closeButtonCCCDFont(t){this.previewCCCDFont="",this.userForm.controls.frontImageIdentify.setValue(""),t.stopPropagation()}closeButtonCCCDBack(t){this.previewCCCDBack="",this.userForm.controls.backImageIdentify.setValue(""),t.stopPropagation()}getPreviewImage(t,i){if(t.target.files&&t.target.files[0]){const o=t.target.files[0],r=new FileReader;switch(i){case"avatar":r.onload=s=>this.previewAvatar=r.result;break;case"cccdFont":r.onload=s=>this.previewCCCDFont=r.result;break;case"cccdBack":r.onload=s=>this.previewCCCDBack=r.result}r.readAsDataURL(o)}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.KNP),e.Y36(H.jH),e.Y36(c.qu),e.Y36(j.oE),e.Y36(x.gz),e.Y36(x.F0),e.Y36(b.KD),e.Y36(y.BX),e.Y36(C.$A),e.Y36(ce.l))},n.\u0275cmp=e.Xpm({type:n,selectors:[["user-detail-page"]],standalone:!0,features:[e.jDz],decls:3,vars:2,consts:[["class","py-8 flex justify-center",4,"ngIf"],[4,"ngIf"],[1,"py-8","flex","justify-center"],[1,"w-[764px]","max-w-[764]","flex","flex-col","gap-y-6"],[1,"flex","justify-between"],["cf-button","","size","medium","type","secondary",1,"bg-white",3,"click"],["icon","arrow_left","size","small",1,"mr-2.5"],["class","flex gap-x-3",4,"ngIf"],[1,"py-[20px]","px-6","flex","justify-between","bg-white","rounded"],[1,"flex","items-center","gap-x-[20px]"],[1,"w-[64px]","h-[64px]","overflow-hidden","relative"],["alt","",1,"object-cover","h-full","w-full","rounded-full",3,"src"],["class","absolute bottom-0 right-0 w-[28px] h-[28px] rounded-full bg-[#505050] opacity-[.85] flex justify-center items-center cursor-pointer",4,"ngIf"],["accept","image/*","name","ufile","type","file",1,"hidden",3,"change"],["inputFile",""],[1,"flex","flex-col"],[1,"text-heading-md"],[1,"text-body-lg"],[1,"flex","gap-x-3"],[1,"flex","flex-col","gap-y-2","justify-between","items-center"],[1,"text-express-sm"],["type","inverted",3,"color"],["class","!max-w-none !w-[186px]","textField","name","valueField","code","size","small",3,"data","allowSearch","ngModel","ngModelChange",4,"ngIf","ngIfElse"],["contentTpl",""],["cf-button","","size","medium",3,"click"],["icon","edit_alt","size","small",1,"mr-2.5"],["icon","delete","size","small",1,"mr-2.5"],["icon","save","size","small",1,"mr-2.5"],["icon","circle_error","size","small",1,"mr-2.5"],[1,"absolute","bottom-0","right-0","w-[28px]","h-[28px]","rounded-full","bg-[#505050]","opacity-[.85]","flex","justify-center","items-center","cursor-pointer"],["icon","camera","size","small",1,"text-white",3,"click"],["textField","name","valueField","code","size","small",1,"!max-w-none","!w-[186px]",3,"data","allowSearch","ngModel","ngModelChange"],["cfHeadIcon","","icon","calendar","size","small"],[1,"rounded","py-1","px-3","border","border-neutral-gray-2"],["class","text-body-md flex items-center",4,"ngIf"],[1,"text-body-md","flex","items-center"],["icon","circle_check","size","small",1,"text-secondary-1-4","mr-2.5"],["icon","circle_remove","size","small",1,"mr-2.5"],["icon","circle_warning",1,"text-secondary-7-3","mr-2"],[1,"flex","gap-x-3","mb-4"],["class","flex items-center gap-x-2.5 py-1.5 px-4 text-heading-xs rounded-full cursor-pointer bg-white border border-neutral-gray-3",3,"ngClass","click",4,"ngIf"],[1,"flex","items-center","gap-x-2.5","py-1.5","px-4","text-heading-xs","rounded-full","cursor-pointer","bg-white","border","border-neutral-gray-3",3,"ngClass","click"],["icon","circle_information","size","small"],["icon","user","size","small"],[1,"flex","gap-x-[20px]","mb-4"],[1,"w-1","bg-[#fcb40a]"],[1,"grid","grid-cols-2","gap-4","bg-neutral-white","rounded","p-6"],[1,"flex","flex-col","gap-y-1.5"],[1,"w-full","h-10","py-2.5","px-3","text-body-md","rounded","border","border-neutral-gray-3","bg-neutral-gray-1"],[1,"mt-8"],[1,"w-full","h-10","py-2.5","px-3","text-body-md","border","border-neutral-gray-3","bg-neutral-gray-1"],[1,"mt-[22px]"],["cf-button","","size","medium","type","secondary",3,"click",4,"ngIf"],["class","col-start-1 col-end-3 ",4,"ngIf"],["cf-button","","size","medium","type","secondary",3,"click"],["icon","eye","size","small",1,"mr-2.5"],["icon","eye_off","size","small",1,"mr-2.5"],[1,"col-start-1","col-end-3"],[1,"text-express-sm","mb-4"],[1,"gap-x-4","flex","items-center"],["class","w-[238px] h-[140px] object-contain",3,"src",4,"ngIf"],[1,"w-[238px]","h-[140px]","object-contain",3,"src"],[1,"p-6","bg-neutral-white","rounded-lg","shadow-cf-md","flex","flex-col","gap-y-6"],["class","flex gap-x-8",4,"ngIf"],[1,"w-full","border-t","border-neutral-gray-1"],[1,"flex","gap-x-8"],[1,"flex","flex-col","gap-y-2","w-[260px]"],[1,"text-heading-sm"],[1,"text-body-lg","text-neutral-gray-4"],[1,"flex","flex-col","flex-1","gap-y-4"],[4,"ngFor","ngForOf"],[3,"checked","disabled"],[1,"text-express-sm",3,"CfRequired"],[1,"grow-[400]","!w-full",3,"status"],["cf-input","","size","medium","placeholder","Nh\u1eadp h\u1ecd v\xe0 t\xean",3,"formControl"],["cfHint","",3,"hint",4,"ngIf"],["cf-input","","size","medium","placeholder","Nh\u1eadp email",3,"formControl"],[1,"text-espressive-md","text-neutral-gray-5","mb-1.5","empty:!m-0"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5",3,"CfRequired"],["textField","name","valueField","code","size","small","placeholder","Nh\u1eadp m\xe3",1,"!w-full","!max-w-full",3,"status","data","formControl"],["cfSuffix","",1,"w-[65%]","px-3","text-body-md","flex","gap-x-2","items-center","border-l","border-neutral-gray-2"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i","CfNumberic","",3,"formControl"],[1,"grow-[400]","!w-full"],["cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Nh\u1eadp ng\xe0y sinh",1,"py-[7px]",3,"secondaryCalendar","displayMonths","maxDate","formControl","input","dateSelect"],["birthdayForm","cfDatepicker"],["textField","name","valueField","code","placeholder","Ch\u1ecdn gi\u1edbi t\xednh",1,"!max-w-full",3,"data","allowSearch","formControl"],["cf-input","","size","medium","placeholder","Nh\u1eadp s\u1ed1 CCCD","CfNumberic","",3,"formControl"],["cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Ch\u1ecdn ng\xe0y c\u1ea5p",1,"py-[7px]",3,"secondaryCalendar","displayMonths","maxDate","formControl","input","dateSelect"],["dateProvideForm","cfDatepicker"],[1,"flex","flex-col","gap-y-1.5","col-start-1","col-end-3"],["cf-input","","size","medium","placeholder","Nh\u1eadp n\u01a1i c\u1ea5p",3,"formControl"],[1,"text-espressive-sm"],[1,"flex","gap-x-3","col-start-1","col-end-3"],[1,"h-[140px]","w-[140px]","bg-no-repeat","bg-center","bg-cover","rounded","border","border-neutral-gray-2","flex","items-center","justify-center","cursor-pointer","relative",3,"click"],["class","text-express-sm text-center px-6 flex flex-col justify-center items-center gap-y-3",4,"ngIf"],["class","rounded-full bg-neutral-gray-4 absolute flex items-center justify-between right-0 top-0 p-1 translate-x-1/2 -translate-y-1/2",3,"click",4,"ngIf"],["type","file",1,"hidden",3,"change"],["fileUploadCCCDFont",""],["fileUploadCCCDBack",""],["cfHint","",3,"hint"],[1,"text-express-sm","text-center","px-6","flex","flex-col","justify-center","items-center","gap-y-3"],["icon","cloud_upload","size","medium"],[1,"rounded-full","bg-neutral-gray-4","absolute","flex","items-center","justify-between","right-0","top-0","p-1","translate-x-1/2","-translate-y-1/2",3,"click"],["icon","close","size","small",1,"text-neutral-white"],["textField","name","valueField","id","placeholder","Ch\u1ecdn vai tr\xf2",1,"!w-full","!max-w-none",3,"status","data","ngModel","allowSearch","ngModelChange","selectedChange"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5"],[3,"CfRequired"],[3,"checked","checkedChange"]],template:function(t,i){1&t&&(e.YNc(0,to,35,12,"div",0),e._UZ(1,"cf-toast"),e.YNc(2,no,1,0,"cf-spinner",1)),2&t&&(e.Q6J("ngIf",i.userDetailDisplay),e.xp6(2),e.Q6J("ngIf",i.isLoading))},dependencies:[h.ez,h.mk,h.sg,h.O5,c.u5,c.Fj,c.JJ,c.On,c.UX,c.oH,u.AxE,u.Sm8,v.N8,v.Xq,ae.I,l.j$,l.ND,l.BN,l.v2,X.C,H.Cs,N.q,ne.b,k.OR,y.hj,re.z],encapsulation:2}),n})();var oo=p(25614),xe=p(53911);function ao(n,a){1&n&&e._UZ(0,"cf-input-hint",19),2&n&&e.Q6J("hint","T\xean ch\u1ee7 t\xe0i kho\u1ea3n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function ro(n,a){if(1&n&&(e.TgZ(0,"div",10)(1,"div",11)(2,"div",12),e._uU(3,"Ng\xe2n h\xe0ng"),e.qZA(),e.TgZ(4,"div",13),e._uU(5),e.qZA()(),e.TgZ(6,"div",11)(7,"div",12),e._uU(8,"S\u1ed1 t\xe0i kho\u1ea3n"),e.qZA(),e.TgZ(9,"div",13),e._uU(10),e.qZA()(),e.TgZ(11,"cf-input-group",14)(12,"label",15),e._uU(13,"T\xean ch\u1ee7 t\xe0i kho\u1ea3n"),e.qZA(),e.TgZ(14,"span",16),e._uU(15),e.qZA(),e._UZ(16,"input",17),e.YNc(17,ao,1,1,"cf-input-hint",18),e.qZA()()),2&n){const t=e.oxw();e.xp6(5),e.hij(" ",(null==t.virtualAccountData?null:t.virtualAccountData.providerCode)||""," "),e.xp6(5),e.hij(" ",(null==t.virtualAccountData?null:t.virtualAccountData.virtualAccount)||""," "),e.xp6(1),e.Q6J("status",t.virtualAccountForm.controls.virtualAccountExplain.invalid&&(t.virtualAccountForm.controls.virtualAccountExplain.dirty||t.virtualAccountForm.controls.virtualAccountExplain.touched)?"error":"default")("status","default"),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(3),e.hij("",(null==t.virtualAccountData?null:t.virtualAccountData.prefixCompany)||""," -"),e.xp6(1),e.Q6J("formControl",t.virtualAccountForm.controls.virtualAccountExplain),e.xp6(1),e.Q6J("ngIf",t.virtualAccountForm.controls.virtualAccountExplain.hasError("required")&&(t.virtualAccountForm.controls.virtualAccountExplain.dirty||t.virtualAccountForm.controls.virtualAccountExplain.touched))}}function co(n,a){1&n&&(e.TgZ(0,"div")(1,"div",20)(2,"div",21)(3,"div",22),e._UZ(4,"div",23)(5,"div",23)(6,"div",23),e.qZA()()()())}let Ee=(()=>{class n{constructor(t,i,o,r,s,d){this.ref=t,this.bottomSheetData=i,this.bottomSheetRef=o,this.cfIconRegister=r,this._paymentService=s,this._fb=d,this.activeButtonSubmit=!1,this.isLoading=!1,t&&(this.userId=t.data.userId),i&&(this.userId=i.userId)}ngOnInit(){this.initFormGroup(),this.userId&&this.onPreviewVirtualAccount()}initFormGroup(){this.virtualAccountForm=this._fb.group({virtualAccountExplain:["",c.kI.required]})}onPreviewVirtualAccount(){this.isLoading=!0,this._paymentService.previewVirtualAccountRegistration(this.userId).pipe((0,U.x)(()=>this.isLoading=!1)).subscribe({next:t=>{console.log(t),"OK"===t.status&&(this.virtualAccountData={prefixCode:t.data[0].prefixCode,prefixCompany:t.data[0].prefixCompany,virtualAccountExplain:t.data[0].virtualAccountExplain,providerCode:t.data[0].provider.code,providerName:t.data[0].provider.nameVN,virtualAccount:t.data[0].prefixCode+t.data[0].virtualAccount},this.activeButtonSubmit=!0,this.virtualAccountForm.patchValue({virtualAccountExplain:this.virtualAccountData.virtualAccountExplain}))}})}close(){this.ref&&this.ref.close(!1),this.bottomSheetData&&this.bottomSheetRef.dismiss(!1)}ok(){if(!this.activeButtonSubmit)return;const t={virtualAccountExplain:this.virtualAccountForm.value.virtualAccountExplain,providerCode:this.virtualAccountData.providerCode};this.ref&&this.ref.close(t),this.bottomSheetData&&this.bottomSheetRef.dismiss(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(j.gb,8),e.Y36(O.Rr,8),e.Y36(O.Zu,8),e.Y36(u.KNP),e.Y36(xe.t),e.Y36(c.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["register-virtual-account"]],standalone:!0,features:[e.jDz],decls:13,vars:3,consts:[[1,"w-[344px]","flex","flex-col","rounded-lg","bg-neutral-white","md:w-screen"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-b-neutral-gray-1","md:hidden"],[1,"text-heading-xs","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"flex-auto","w-full","h-full","overflow-auto","py-4","px-6"],["class","w-full h-full flex flex-col gap-y-6",4,"ngIf"],[4,"ngIf"],[1,"p-6","flex","justify-end","gap-x-4"],["cf-button","","size","medium","type","secondary",1,"md:w-full","justify-center",3,"click"],["cf-button","","size","medium","color","primary-1",1,"md:w-full","justify-center",3,"disabled","click"],[1,"w-full","h-full","flex","flex-col","gap-y-6"],[1,"flex","flex-col","gap-y-1.5"],[1,"text-express-sm"],[1,"w-full","h-10","py-2.5","px-3","text-body-md","text-neutral-gray-6","rounded","border","border-neutral-gray-3","bg-neutral-gray-1"],[1,"grow-[400]","!w-full",3,"status"],["cfLabel","",3,"CfRequired"],["cfPrefix","",1,"text-body-md","w-[50px]"],["cf-input","","size","medium","placeholder","Nh\u1eadp",3,"formControl"],["cfHint","",3,"hint",4,"ngIf"],["cfHint","",3,"hint"],[1,"w-full","bg-neutral-white","rounded"],[1,"flex","justify-between","items-center","gap-x-4","h-full","animate-pulse"],[1,"w-full","flex","flex-col","space-y-4","md:px-3","md:hidden"],[1,"w-full","bg-neutral-gray-2","h-6","rounded-md","md:max-w-[128px]","md:w-full"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"T\u1ea1o t\xe0i kho\u1ea3n \u0111\u1ecbnh danh"),e.qZA(),e.TgZ(4,"cf-icon",3),e.NdJ("click",function(){return i.close()}),e.qZA()(),e.TgZ(5,"div",4),e.YNc(6,ro,18,8,"div",5),e.YNc(7,co,7,0,"div",6),e.qZA(),e.TgZ(8,"div",7)(9,"button",8),e.NdJ("click",function(){return i.close()}),e._uU(10," \u0110\xf3ng "),e.qZA(),e.TgZ(11,"button",9),e.NdJ("click",function(){return i.ok()}),e._uU(12," T\u1ea1o "),e.qZA()()()),2&t&&(e.xp6(6),e.Q6J("ngIf",!i.isLoading),e.xp6(1),e.Q6J("ngIf",i.isLoading),e.xp6(4),e.Q6J("disabled",!i.activeButtonSubmit))},dependencies:[h.ez,h.O5,u.AxE,u.Sm8,v.N8,v.Xq,l.j$,l.ND,l.BN,l.v2,c.u5,c.Fj,c.JJ,c.UX,c.oH,X.C],encapsulation:2}),n})(),W=(()=>{class n{constructor(t,i,o,r){this.ref=t,this.bottomSheetData=i,this.bottomSheetRef=o,this.cfIconRegister=r,t&&(this.title=t.data.title,this.body=t.data.body),i&&(this.title=i.title,this.body=i.body)}close(){this.ref&&this.ref.close(!1),this.bottomSheetData&&this.bottomSheetRef.dismiss(!1)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(j.gb,8),e.Y36(O.Rr,8),e.Y36(O.Zu,8),e.Y36(u.KNP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["confirm-register-virtual-account"]],standalone:!0,features:[e.jDz],decls:9,vars:2,consts:[[1,"w-[344px]","flex","flex-col","rounded-lg","bg-neutral-white","md:w-screen"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-b-neutral-gray-1","md:hidden"],[1,"text-heading-xs","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"flex-auto","w-full","h-full","overflow-auto","py-4","px-6","text-body-md",3,"innerHTML"],[1,"flex","justify-end","p-6"],["cf-button","","size","medium","type","secondary",1,"md:w-full","justify-center",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"cf-icon",3),e.NdJ("click",function(){return i.close()}),e.qZA()(),e._UZ(5,"div",4),e.TgZ(6,"div",5)(7,"button",6),e.NdJ("click",function(){return i.close()}),e._uU(8," \u0110\xf3ng "),e.qZA()()()),2&t&&(e.xp6(3),e.Oqu(i.title),e.xp6(2),e.Q6J("innerHTML",i.body,e.oJD))},dependencies:[h.ez,u.AxE,u.Sm8,v.N8,v.Xq],encapsulation:2}),n})();function so(n,a){1&n&&e._UZ(0,"cf-input-hint",14),2&n&&e.Q6J("hint","T\xean ch\u1ee7 t\xe0i kho\u1ea3n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}let Ae=(()=>{class n{constructor(t,i,o,r,s){this.ref=t,this.bottomSheetData=i,this.bottomSheetRef=o,this.cfIconRegister=r,this._fb=s,t&&(this.virtualAccountData=t.data.virtualAccountData),i&&(this.virtualAccountData=i.virtualAccountData)}ngOnInit(){this.initFormGroup()}initFormGroup(){var t;this.virtualAccountForm=this._fb.group({virtualAccountExplain:[(null===(t=this.virtualAccountData)||void 0===t?void 0:t.virtualAccountExplain)||"",c.kI.required]})}ok(){this.virtualAccountForm.invalid||(this.ref&&this.ref.close(this.virtualAccountForm.value.virtualAccountExplain),this.bottomSheetData&&this.bottomSheetRef.dismiss(this.virtualAccountForm.value.virtualAccountExplain))}close(){this.ref&&this.ref.close(!1),this.bottomSheetData&&this.bottomSheetRef.dismiss(!1)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(j.gb,8),e.Y36(O.Rr,8),e.Y36(O.Zu,8),e.Y36(u.KNP),e.Y36(c.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["update-virtual-account"]],standalone:!0,features:[e.jDz],decls:19,vars:7,consts:[[1,"w-[477px]","flex","flex-col","rounded-lg","bg-neutral-white","md:w-screen"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-b-neutral-gray-1","md:hidden"],[1,"text-heading-xs","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"flex-auto","w-full","h-full","overflow-auto","py-4","px-6"],[1,"w-full","h-full","flex","flex-col","gap-y-6"],[1,"grow-[400]","!w-full",3,"status"],["cfLabel","",3,"CfRequired"],["cfPrefix","",1,"text-body-md","w-[50px]"],["cf-input","","size","medium","placeholder","Nh\u1eadp",3,"formControl"],["cfHint","",3,"hint",4,"ngIf"],[1,"p-6","flex","justify-end","gap-x-4"],["cf-button","","size","medium","type","secondary",1,"md:w-full","justify-center",3,"click"],["cf-button","","size","medium","color","primary-1",1,"md:w-full","justify-center",3,"disabled","click"],["cfHint","",3,"hint"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Ch\u1ec9nh s\u1eeda t\xe0i kho\u1ea3n \u0111\u1ecbnh danh"),e.qZA(),e.TgZ(4,"cf-icon",3),e.NdJ("click",function(){return i.close()}),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5)(7,"cf-input-group",6)(8,"label",7),e._uU(9,"T\xean ch\u1ee7 t\xe0i kho\u1ea3n"),e.qZA(),e.TgZ(10,"span",8),e._uU(11),e.qZA(),e._UZ(12,"input",9),e.YNc(13,so,1,1,"cf-input-hint",10),e.qZA()()(),e.TgZ(14,"div",11)(15,"button",12),e.NdJ("click",function(){return i.close()}),e._uU(16," \u0110\xf3ng "),e.qZA(),e.TgZ(17,"button",13),e.NdJ("click",function(){return i.ok()}),e._uU(18," C\u1eadp nh\u1eadt "),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("status",i.virtualAccountForm.controls.virtualAccountExplain.invalid&&(i.virtualAccountForm.controls.virtualAccountExplain.dirty||i.virtualAccountForm.controls.virtualAccountExplain.touched)?"error":"default")("status","default"),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(3),e.hij("",(null==i.virtualAccountData?null:i.virtualAccountData.prefixCompany)||""," -"),e.xp6(1),e.Q6J("formControl",i.virtualAccountForm.controls.virtualAccountExplain),e.xp6(1),e.Q6J("ngIf",i.virtualAccountForm.controls.virtualAccountExplain.hasError("required")&&(i.virtualAccountForm.controls.virtualAccountExplain.dirty||i.virtualAccountForm.controls.virtualAccountExplain.touched)),e.xp6(4),e.Q6J("disabled",i.virtualAccountForm.invalid))},dependencies:[h.ez,h.O5,l.j$,l.ND,l.BN,l.v2,c.UX,c.Fj,c.JJ,c.oH,c.u5,u.AxE,u.Sm8,X.C,v.N8,v.Xq],encapsulation:2}),n})();var lo=p(23160);function uo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.registerVirtualAccount())}),e._uU(1," T\u1ea1o TKNH \u0111\u1ecbnh danh "),e.qZA()}}function _o(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.onUpdate())}),e._UZ(1,"cf-icon",39),e._uU(2," Ch\u1ec9nh s\u1eeda "),e.qZA()}}function po(n,a){if(1&n&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.hij("G\u1eedi email k\xedch ho\u1ea1t (",t.verifyCount,")")}}function go(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"G\u1eedi email k\xedch ho\u1ea1t"),e.qZA())}function ho(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(4);return e.KtG(o.resendEmailVerify())}),e.YNc(1,po,2,1,"div",44),e.YNc(2,go,2,0,"div",1),e.qZA()}if(2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.verifyCount>0),e.xp6(1),e.Q6J("ngIf",0===t.verifyCount)}}function mo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(4);return e.KtG(o.onDepositSubAgent())}),e._uU(1," N\u1ea1p ti\u1ec1n "),e.qZA()}}function fo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(4);return e.KtG(o.registerVirtualAccount())}),e._uU(1," T\u1ea1o TKNH \u0111\u1ecbnh danh "),e.qZA()}}function vo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(4);return o.isOpen=!1,e.KtG(o.onBanUser())}),e._uU(1," V\xf4 hi\u1ec7u h\xf3a "),e.qZA()}}function Co(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(4);return o.isOpen=!1,e.KtG(o.onActiveUser())}),e._uU(1," M\u1edf ho\u1ea1t \u0111\u1ed9ng "),e.qZA()}}function xo(n,a){if(1&n&&(e.TgZ(0,"div",40),e.YNc(1,ho,3,2,"div",41),e.YNc(2,mo,2,0,"div",41),e.YNc(3,fo,2,0,"div",42),e.YNc(4,vo,2,0,"div",41),e.YNc(5,Co,2,0,"div",41),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf","INACTIVE"===t.agentDetailDisplay.state),e.xp6(1),e.Q6J("ngIf",t.isTopUpVirtualBalance),e.xp6(1),e.Q6J("ngIf",t.createVirtualAccountInfo),e.xp6(1),e.Q6J("ngIf","BLOCK"!==t.agentDetailDisplay.state),e.xp6(1),e.Q6J("ngIf","BLOCK"===t.agentDetailDisplay.state)}}function Eo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",18),e.YNc(1,uo,2,0,"button",29),e.YNc(2,_o,3,0,"button",30),e.TgZ(3,"div",31)(4,"div",32,33)(7,"button",34),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.isOpen=!0)}),e._UZ(8,"cf-icon",35),e.qZA()(),e.YNc(9,xo,6,5,"ng-template",36),e.NdJ("overlayOutsideClick",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.outsideClick())}),e.qZA()()}if(2&n){const t=e.MAs(6),i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",i.createVirtualAccountInfo),e.xp6(1),e.Q6J("ngIf",i.isEditInfo||i.isEditPermission),e.xp6(7),e.Q6J("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",i.isOpen)("cdkConnectedOverlayPositions",i.bottomCenter)}}function Ao(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.onSubmit())}),e._UZ(1,"cf-icon",50),e._uU(2," L\u01b0u "),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("disabled",t.agentForm.invalid)}}function yo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.onSubmit())}),e._UZ(1,"cf-icon",50),e._uU(2," L\u01b0u "),e.qZA()}}function To(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",18),e.YNc(1,Ao,3,1,"button",46),e.YNc(2,yo,3,0,"ng-template",null,47,e.W1O),e.TgZ(4,"button",5),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onCancel())}),e._UZ(5,"cf-icon",48),e._uU(6," H\u1ee7y "),e.qZA()()}if(2&n){const t=e.MAs(3),i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",i.isEditInfo)("ngIfElse",t)}}function Zo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",51)(1,"cf-icon",52),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(16);return e.KtG(o.click())}),e.qZA()()}}function Do(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"cf-select",53),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.agentDetailDisplay.state=o)}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("data",t.statusOptions)("allowSearch",!1)("ngModel",t.agentDetailDisplay.state)}}function Fo(n,a){1&n&&(e.TgZ(0,"div",56),e._UZ(1,"cf-icon",57),e._uU(2," Ho\u1ea1t \u0111\u1ed9ng "),e.qZA())}function bo(n,a){1&n&&(e.TgZ(0,"div",56),e._UZ(1,"cf-icon",58),e._uU(2," Ng\u01b0ng ho\u1ea1t \u0111\u1ed9ng "),e.qZA())}function ko(n,a){1&n&&(e.TgZ(0,"div",56),e._UZ(1,"cf-icon",59),e._uU(2," Ch\u01b0a k\xedch ho\u1ea1t "),e.qZA())}function Io(n,a){if(1&n&&(e.TgZ(0,"div",54),e.YNc(1,Fo,3,0,"div",55),e.YNc(2,bo,3,0,"div",55),e.YNc(3,ko,3,0,"div",55),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf","ACTIVE"===t.agentDetailDisplay.state),e.xp6(1),e.Q6J("ngIf","BLOCK"===t.agentDetailDisplay.state),e.xp6(1),e.Q6J("ngIf","INACTIVE"===t.agentDetailDisplay.state)}}const le=function(n){return{"!bg-secondary-3-5 !border-none !text-neutral-white":n}};function Uo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",62),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.onChangeMode("BASIC_INFO"))}),e._UZ(1,"cf-icon",63),e._uU(2," Th\xf4ng tin "),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("ngClass",e.VKq(1,le,"BASIC_INFO"===t.viewMode))}}function No(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",62),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.onChangeMode("TITLE_ROLE"))}),e._UZ(1,"cf-icon",64),e._uU(2," Quy\u1ec1n h\u1ea1n "),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("ngClass",e.VKq(1,le,"TITLE_ROLE"===t.viewMode))}}function wo(n,a){1&n&&e._UZ(0,"cf-icon",86)}function qo(n,a){1&n&&e._UZ(0,"cf-icon",87)}function Po(n,a){if(1&n&&(e.TgZ(0,"div",88)(1,"div",70)(2,"div",20),e._uU(3,"Facebook"),e.qZA(),e.TgZ(4,"div",89),e._uU(5),e.qZA()(),e.TgZ(6,"div",70)(7,"div",20),e._uU(8,"K\xeanh gi\u1edbi thi\u1ec7u"),e.qZA(),e.TgZ(9,"div",69),e._uU(10),e.qZA()()()),2&n){const t=e.oxw(4);e.xp6(5),e.hij(" ",t.agentDetailDisplay.facebookContact," "),e.xp6(5),e.hij(" ",t.agentDetailDisplay.referralChannelDisplay," ")}}function Jo(n,a){if(1&n&&(e.TgZ(0,"div",80)(1,"div",65),e._UZ(2,"div",66),e.TgZ(3,"div",16),e._uU(4,"Th\xf4ng tin c\xf4ng n\u1ee3"),e.qZA()(),e.TgZ(5,"div",81)(6,"div",25)(7,"div",20),e._uU(8,"Lo\u1ea1i chi\u1ebft kh\u1ea5u nh\u1eadn"),e.qZA(),e.TgZ(9,"div",69),e._uU(10),e.qZA()(),e.TgZ(11,"div",25)(12,"div",20),e._uU(13,"M\u1ee9c \xe2m qu\u1ef9 t\u1ed1i \u0111a"),e.qZA(),e.TgZ(14,"div",69),e._uU(15),e.ALo(16,"replace"),e.ALo(17,"number"),e.qZA()()()()),2&n){const t=e.oxw(4);e.xp6(10),e.hij(" ","PAYMENT_NOW"===t.agentDetailDisplay.discountPaymentType?"Chi\u1ebft kh\u1ea5u tr\u1ea3 ngay":"Chi\u1ebft kh\u1ea5u tr\u1ea3 sau"," "),e.xp6(5),e.hij(" ",e.Dn7(16,2,e.lcZ(17,6,t.agentDetailDisplay.maxNegative||0),",",".")," \u0111 ")}}function So(n,a){if(1&n&&(e.TgZ(0,"div",90)(1,"div",91)(2,"div",92)(3,"div",20),e._uU(4,"M\xe3 s\u1ed1 thu\u1ebf doanh nghi\u1ec7p"),e.qZA(),e.TgZ(5,"div",69),e._uU(6),e.qZA()(),e.TgZ(7,"div",92)(8,"div",20),e._uU(9,"T\xean doanh nghi\u1ec7p"),e.qZA(),e.TgZ(10,"div",69),e._uU(11),e.qZA()()(),e.TgZ(12,"div",25)(13,"div",20),e._uU(14,"\u0110\u1ecba ch\u1ec9"),e.qZA(),e.TgZ(15,"div",69),e._uU(16),e.qZA()()()),2&n){const t=e.oxw(4);e.xp6(6),e.hij(" ",t.agentDetailDisplay.companyCode," "),e.xp6(5),e.hij(" ",t.agentDetailDisplay.companyName," "),e.xp6(5),e.hij(" ",t.agentDetailDisplay.companyAddress," ")}}function Qo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",97),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(20),r=e.oxw(4);return e.KtG(r.openPopupCCCD(o))}),e._UZ(1,"cf-icon",98),e._uU(2," Xem \u1ea3nh ch\u1ee5p "),e.qZA()}}function Mo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",97),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(5);return e.KtG(o.viewCCCD())}),e._UZ(1,"cf-icon",99),e._uU(2," \u1ea8n \u1ea3nh ch\u1ee5p "),e.qZA()}}function Bo(n,a){if(1&n&&e._UZ(0,"img",107),2&n){const t=e.oxw(6);e.Q6J("src",t.cccdFontSrc,e.LSH)}}function Yo(n,a){if(1&n&&e._UZ(0,"img",107),2&n){const t=e.oxw(6);e.Q6J("src",t.cccdBackSrc,e.LSH)}}function Oo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",100)(1,"div",101)(2,"div",102)(3,"div",103),e._uU(4,"\u1ea2nh ch\u1ee5p CCCD"),e.qZA(),e.TgZ(5,"cf-icon",104),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(5);return e.KtG(o.closePopupCCCD())}),e.qZA()(),e.TgZ(6,"div",105),e.YNc(7,Bo,1,1,"img",106),e.YNc(8,Yo,1,1,"img",106),e.qZA()()()}if(2&n){const t=e.oxw(5);e.xp6(7),e.Q6J("ngIf",t.cccdFontSrc),e.xp6(1),e.Q6J("ngIf",t.cccdBackSrc)}}function Ro(n,a){if(1&n&&(e.TgZ(0,"div",81)(1,"div",25)(2,"div",20),e._uU(3,"S\u1ed1 CCCD"),e.qZA(),e.TgZ(4,"div",93),e._uU(5),e.qZA()(),e.TgZ(6,"div",25)(7,"div",20),e._uU(8,"Ng\xe0y c\u1ea5p"),e.qZA(),e.TgZ(9,"div",93),e._uU(10),e.qZA()(),e.TgZ(11,"div",25)(12,"div",20),e._uU(13,"N\u01a1i c\u1ea5p"),e.qZA(),e.TgZ(14,"div",93),e._uU(15),e.qZA()(),e.TgZ(16,"div",94),e.YNc(17,Qo,3,0,"button",95),e.YNc(18,Mo,3,0,"button",95),e.qZA(),e.YNc(19,Oo,9,2,"ng-template",null,96,e.W1O),e.qZA()),2&n){const t=e.oxw(4);e.xp6(5),e.hij(" ",t.agentDetailDisplay.identifyId," "),e.xp6(5),e.hij(" ",t.agentDetailDisplay.identifyDateProvide," "),e.xp6(5),e.hij(" ",t.agentDetailDisplay.identifyPlaceProvide," "),e.xp6(2),e.Q6J("ngIf",!t.identifyToggle),e.xp6(1),e.Q6J("ngIf",t.identifyToggle)}}function Lo(n,a){if(1&n&&(e.TgZ(0,"div",90)(1,"div",92)(2,"div",20),e._uU(3,"Domain key"),e.qZA(),e.TgZ(4,"div",69),e._uU(5),e.qZA()()()),2&n){const t=e.oxw(5);e.xp6(5),e.hij(" ",t.agentDetailDisplay.domainKey," ")}}function zo(n,a){if(1&n&&(e.TgZ(0,"div",81)(1,"div",25)(2,"div",20),e._uU(3,"Domain key"),e.qZA(),e.TgZ(4,"div",93),e._uU(5),e.qZA()()()),2&n){const t=e.oxw(5);e.xp6(5),e.hij(" ",t.agentDetailDisplay.domainKey," ")}}function Ho(n,a){if(1&n&&(e.TgZ(0,"div",80)(1,"div",65),e._UZ(2,"div",66),e.TgZ(3,"div",16),e._uU(4,"C\u1ea5u h\xecnh b\xean th\u1ee9 3"),e.qZA()(),e.YNc(5,Lo,6,1,"div",84),e.YNc(6,zo,6,1,"div",85),e.qZA()),2&n){const t=e.oxw(4);e.xp6(5),e.Q6J("ngIf",t.agentDetailDisplay.business),e.xp6(1),e.Q6J("ngIf",!t.agentDetailDisplay.business)}}function Ko(n,a){if(1&n&&(e.TgZ(0,"div",80)(1,"div",65),e._UZ(2,"div",66),e.TgZ(3,"div",16),e._uU(4,"Booker ID"),e.qZA()(),e.TgZ(5,"div",90)(6,"div",92)(7,"div",20),e._uU(8,"Booker ID VNA"),e.qZA(),e.TgZ(9,"div",69),e._uU(10),e.qZA()()()()),2&n){const t=e.oxw(4);e.xp6(10),e.hij(" ",t.agentDetailDisplay.bookerId," ")}}function jo(n,a){1&n&&(e.TgZ(0,"div",20),e._uU(1,"Ch\u01b0a c\xf3 t\xe0i kho\u1ea3n \u0111\u1ecbnh danh."),e.qZA())}function Vo(n,a){1&n&&(e.TgZ(0,"div",115),e._uU(1," Ch\u1edd duy\u1ec7t "),e.qZA())}function Go(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",110)(2,"div",111)(3,"div",112)(4,"div",20),e._uU(5),e.qZA(),e.YNc(6,Vo,2,0,"div",113),e.qZA()(),e.TgZ(7,"div",114)(8,"div"),e._uU(9),e.qZA(),e.TgZ(10,"div"),e._uU(11),e.qZA()()(),e.BQk()),2&n){const t=a.$implicit;e.xp6(5),e.AsE("",t.providerName," (",t.providerCode,")"),e.xp6(1),e.Q6J("ngIf","PENDING"===t.status),e.xp6(3),e.hij("S\u1ed1 t\xe0i kho\u1ea3n: ",t.virtualAccount,""),e.xp6(2),e.hij("T\xean ch\u1ee7 t\xe0i kho\u1ea3n: ",t.beneficiaryName,"")}}function Xo(n,a){if(1&n&&(e.TgZ(0,"div",80)(1,"div",65),e._UZ(2,"div",66),e.TgZ(3,"div",16),e._uU(4,"T\xe0i kho\u1ea3n ng\xe2n h\xe0ng \u0111\u1ecbnh danh"),e.qZA()(),e.TgZ(5,"div",90),e.YNc(6,jo,2,0,"div",108),e.YNc(7,Go,12,5,"ng-container",109),e.qZA()()),2&n){const t=e.oxw(4);e.xp6(6),e.Q6J("ngIf",t.virtualAccountInvalid),e.xp6(1),e.Q6J("ngForOf",t.virtualAccountInfo)}}function $o(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div")(2,"div",65),e._UZ(3,"div",66),e.TgZ(4,"div",16),e._uU(5,"Th\xf4ng tin c\u01a1 b\u1ea3n"),e.qZA()(),e.TgZ(6,"div",67)(7,"div",68)(8,"div",25)(9,"div",20),e._uU(10,"M\xe3 \u0111\u1ea1i l\xfd"),e.qZA(),e.TgZ(11,"div",69),e._uU(12),e.qZA()(),e.TgZ(13,"div",25)(14,"div",20),e._uU(15,"T\xean \u0111\u1ea1i l\xfd"),e.qZA(),e.TgZ(16,"div",69),e._uU(17),e.qZA()(),e.TgZ(18,"div",25)(19,"div",20),e._uU(20,"H\u1ecd v\xe0 t\xean ng\u01b0\u1eddi \u0111\u1ea1i di\u1ec7n"),e.qZA(),e.TgZ(21,"div",69),e._uU(22),e.qZA()(),e.TgZ(23,"div",25)(24,"div",20),e._uU(25,"Ng\xe0y \u0111\u0103ng k\xed"),e.qZA(),e.TgZ(26,"div",69),e._uU(27),e.qZA()(),e.TgZ(28,"div",25)(29,"div",20),e._uU(30,"Email"),e.qZA(),e.TgZ(31,"div",69),e._uU(32),e.qZA()(),e.TgZ(33,"div",25)(34,"div",20),e._uU(35,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),e.qZA(),e.TgZ(36,"div",69),e._uU(37),e.qZA()()(),e.TgZ(38,"div",70)(39,"div",20),e._uU(40,"Ng\u01b0\u1eddi gi\u1edbi thi\u1ec7u"),e.qZA(),e.TgZ(41,"div",69),e._uU(42),e.qZA()(),e.TgZ(43,"div",70)(44,"div",20),e._uU(45,"Ghi ch\xfa b\u1ed5 sung"),e.qZA(),e._UZ(46,"textarea",71),e.qZA(),e.TgZ(47,"div",72)(48,"div",73),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.isExpand=!o.isExpand)}),e.TgZ(49,"div",74),e._UZ(50,"cf-icon",75),e.TgZ(51,"span"),e._uU(52,"Th\xf4ng tin b\u1ed5 sung"),e.qZA()(),e.TgZ(53,"div",76),e.YNc(54,wo,1,0,"cf-icon",77),e.YNc(55,qo,1,0,"cf-icon",78),e.qZA()(),e.YNc(56,Po,11,2,"div",79),e.qZA()()(),e.TgZ(57,"div",80)(58,"div",65),e._UZ(59,"div",66),e.TgZ(60,"div",16),e._uU(61,"Th\xf4ng tin chuy\u1ec3n kho\u1ea3n"),e.qZA()(),e.TgZ(62,"div",81)(63,"div",25)(64,"div",20),e._uU(65,"S\u1ed1 t\xe0i kho\u1ea3n ng\xe2n h\xe0ng"),e.qZA(),e.TgZ(66,"div",69),e._uU(67),e.qZA()(),e.TgZ(68,"div",25)(69,"div",20),e._uU(70,"Thu\u1ed9c ng\xe2n h\xe0ng"),e.qZA(),e.TgZ(71,"div",82),e._uU(72),e.qZA()(),e.TgZ(73,"div",25)(74,"div",20),e._uU(75,"H\u1ecd v\xe0 t\xean ch\u1ee7 t\xe0i kho\u1ea3n"),e.qZA(),e.TgZ(76,"div",69),e._uU(77),e.qZA()(),e.TgZ(78,"div",25)(79,"div",20),e._uU(80,"T\xean chi nh\xe1nh ng\xe2n h\xe0ng"),e.qZA(),e.TgZ(81,"div",69),e._uU(82),e.qZA()()()(),e.YNc(83,Jo,18,8,"div",83),e.TgZ(84,"div",80)(85,"div",65),e._UZ(86,"div",66),e.TgZ(87,"div",16),e._uU(88,"X\xe1c th\u1ef1c danh t\xednh"),e.qZA()(),e.YNc(89,So,17,3,"div",84),e.YNc(90,Ro,21,5,"div",85),e.qZA(),e.YNc(91,Ho,7,2,"div",83),e.YNc(92,Ko,11,1,"div",83),e.YNc(93,Xo,8,2,"div",83),e.qZA()}if(2&n){const t=e.oxw(3);e.xp6(12),e.hij(" ",t.agentDetailDisplay.identify," "),e.xp6(5),e.hij(" ",t.agentDetailDisplay.agentName," "),e.xp6(5),e.hij(" ",t.agentDetailDisplay.representative," "),e.xp6(5),e.hij(" ",t.agentDetailDisplay.dateCreated," "),e.xp6(5),e.hij(" ",t.agentDetailDisplay.email," "),e.xp6(5),e.hij(" ",t.agentDetailDisplay.phone," "),e.xp6(5),e.hij(" ",t.agentDetailDisplay.belongSale," "),e.xp6(4),e.Q6J("disabled",!0)("value",t.agentDetailDisplay.note),e.xp6(8),e.Q6J("ngIf",t.isExpand),e.xp6(1),e.Q6J("ngIf",!t.isExpand),e.xp6(1),e.Q6J("ngIf",t.isExpand),e.xp6(11),e.hij(" ",t.agentDetailDisplay.bankAccount," "),e.xp6(5),e.hij(" ",t.agentDetailDisplay.bankFullName," "),e.xp6(5),e.hij(" ",t.agentDetailDisplay.nameOwnAccount," "),e.xp6(5),e.hij(" ",t.agentDetailDisplay.bankBranchName," "),e.xp6(1),e.Q6J("ngIf",t.canCreateAgentUser_AGENT2),e.xp6(6),e.Q6J("ngIf",t.agentDetailDisplay.business),e.xp6(1),e.Q6J("ngIf",!t.agentDetailDisplay.business),e.xp6(1),e.Q6J("ngIf",t.isAgent1),e.xp6(1),e.Q6J("ngIf",t.isAgent1||t.isSaleLead),e.xp6(1),e.Q6J("ngIf",t.getAllVirtualAccountInfo)}}function Wo(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"cf-switch",123),e._uU(2),e.qZA(),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("checked",!0)("disabled",!0),e.xp6(1),e.Oqu(t)}}function ea(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"cf-switch",123),e._uU(2),e.qZA(),e.BQk()),2&n){const t=a.$implicit,i=e.oxw(4);e.xp6(1),e.Q6J("checked",i.listRoleId.includes(t.id))("disabled",!0),e.xp6(1),e.Oqu(t.name)}}function ta(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",116)(2,"div",117)(3,"div",118)(4,"div",119),e._uU(5," Quy\u1ec1n h\u1ea1n m\u1eb7c \u0111\u1ecbnh "),e.qZA(),e.TgZ(6,"div",120),e._uU(7," L\xe0 nh\u1eefng quy\u1ec1n h\u1ea1n \u0111\u01b0\u1ee3c c\u1ea5p cho role \u0111\xf3, kh\xf4ng \u0111\u01b0\u1ee3c ph\xe9p thay \u0111\u1ed5i. "),e.qZA()(),e.TgZ(8,"div",121),e.YNc(9,Wo,3,3,"ng-container",109),e.qZA()(),e._UZ(10,"div",122),e.TgZ(11,"div",117)(12,"div",118)(13,"div",119),e._uU(14," Quy\u1ec1n h\u1ea1n n\xe2ng cao "),e.qZA(),e.TgZ(15,"div",120),e._uU(16," L\xe0 nh\u1eefng quy\u1ec1n h\u1ea1n \u0111\u01b0\u1ee3c ch\u1ec9 \u0111\u1ecbnh c\u1ea5p th\xeam cho \u0111\u1ea1i l\xfd n\u1ebfu mu\u1ed1n. "),e.qZA()(),e.TgZ(17,"div",121),e.YNc(18,ea,3,3,"ng-container",109),e.qZA()()()()),2&n){const t=e.oxw(3);e.xp6(9),e.Q6J("ngForOf",t.allRolesDefault),e.xp6(9),e.Q6J("ngForOf",t.allRolesAdvance)}}function na(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",60),e.YNc(2,Uo,3,3,"div",61),e.YNc(3,No,3,3,"div",61),e.qZA(),e.YNc(4,$o,94,22,"div",1),e.YNc(5,ta,19,2,"div",1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.isEditInfo),e.xp6(1),e.Q6J("ngIf",t.isEditPermission),e.xp6(1),e.Q6J("ngIf","BASIC_INFO"===t.viewMode),e.xp6(1),e.Q6J("ngIf","TITLE_ROLE"===t.viewMode)}}function ia(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",62),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.onChangeMode("BASIC_INFO"))}),e._UZ(1,"cf-icon",63),e._uU(2," Th\xf4ng tin "),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("ngClass",e.VKq(1,le,"BASIC_INFO"===t.viewMode))}}function oa(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",62),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.onChangeMode("TITLE_ROLE"))}),e._UZ(1,"cf-icon",64),e._uU(2," Quy\u1ec1n h\u1ea1n "),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("ngClass",e.VKq(1,le,"TITLE_ROLE"===t.viewMode))}}function aa(n,a){if(1&n&&e._UZ(0,"cf-input-hint",139),2&n){const t=e.oxw(4);e.Q6J("hint",t.errorMessage.agentName)}}function ra(n,a){if(1&n&&e._UZ(0,"cf-input-hint",139),2&n){const t=e.oxw(4);e.Q6J("hint",t.errorMessage.minlength)}}function ca(n,a){if(1&n&&e._UZ(0,"cf-input-hint",139),2&n){const t=e.oxw(4);e.Q6J("hint",t.errorMessage.representative)}}function sa(n,a){if(1&n&&e._UZ(0,"cf-input-hint",139),2&n){const t=e.oxw(4);e.Q6J("hint",t.errorMessage.minlength)}}function la(n,a){if(1&n&&e._UZ(0,"cf-input-hint",139),2&n){const t=e.oxw(4);e.Q6J("hint",t.errorMessage.email)}}function ua(n,a){if(1&n&&e._UZ(0,"cf-input-hint",139),2&n){const t=e.oxw(4);e.Q6J("hint",t.errorMessage.emailFormat)}}function da(n,a){1&n&&e._UZ(0,"cf-input-hint",139),2&n&&e.Q6J("hint","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function _a(n,a){1&n&&e._UZ(0,"cf-input-hint",139),2&n&&e.Q6J("hint","T\u1ed1i thi\u1ec3u 7 ch\u1eef s\u1ed1")}function pa(n,a){1&n&&e._UZ(0,"cf-input-hint",139),2&n&&e.Q6J("hint","T\u1ed1i \u0111a 11 ch\u1eef s\u1ed1")}function ga(n,a){1&n&&e._UZ(0,"cf-icon",86)}function ha(n,a){1&n&&e._UZ(0,"cf-icon",87)}function ma(n,a){if(1&n&&(e.TgZ(0,"div",88)(1,"cf-input-group",125)(2,"label",135),e._uU(3," Facebook "),e.qZA(),e._UZ(4,"input",140),e.qZA(),e.TgZ(5,"cf-select",141)(6,"label",135)(7,"span"),e._uU(8,"K\xeanh gi\u1edbi thi\u1ec7u"),e.qZA()()()()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("status","default"),e.xp6(3),e.Q6J("formControl",t.agentForm.controls.facebookContact),e.xp6(1),e.Q6J("status",t.agentForm.controls.referralChannel.invalid&&(t.agentForm.controls.referralChannel.dirty||t.agentForm.controls.referralChannel.touched)?"error":"default")("data",t.referralChannelData)("allowSearch",!1)("formControl",t.agentForm.controls.referralChannel)("allowSearch",!0)}}function fa(n,a){if(1&n&&e._UZ(0,"cf-input-hint",139),2&n){const t=e.oxw(4);e.Q6J("hint",t.errorMessage.bankAccount)}}function va(n,a){1&n&&e._UZ(0,"cf-input-hint",139),2&n&&e.Q6J("hint","Ng\xe2n h\xe0ng kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function Ca(n,a){if(1&n&&e._UZ(0,"cf-input-hint",139),2&n){const t=e.oxw(4);e.Q6J("hint",t.errorMessage.nameOwnAccount)}}function xa(n,a){if(1&n&&e._UZ(0,"cf-input-hint",139),2&n){const t=e.oxw(4);e.Q6J("hint",t.errorMessage.bankBranchName)}}function Ea(n,a){1&n&&e._UZ(0,"cf-input-hint",139),2&n&&e.Q6J("hint","Ch\u1ecdn lo\u1ea1i chi\u1ebft kh\u1ea5u nh\u1eadn")}function Aa(n,a){1&n&&e._UZ(0,"cf-input-hint",139),2&n&&e.Q6J("hint","M\u1ee9c \xe2m qu\u1ef9 t\u1ed1i \u0111a kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function ya(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",80)(1,"div",65),e._UZ(2,"div",66),e.TgZ(3,"div",16),e._uU(4,"Th\xf4ng tin c\xf4ng n\u1ee3"),e.qZA()(),e.TgZ(5,"div",142)(6,"div",143)(7,"cf-select",144)(8,"label",129),e._uU(9," Lo\u1ea1i chi\u1ebft kh\u1ea5u nh\u1eadn "),e.qZA(),e.YNc(10,Ea,1,1,"cf-input-hint",127),e.qZA(),e.TgZ(11,"cf-input-group",145)(12,"label",129),e._uU(13," M\u1ee9c \xe2m qu\u1ef9 t\u1ed1i \u0111a "),e.qZA(),e.TgZ(14,"cf-input-number",146),e.NdJ("ngModelChange",function(){e.CHM(t);const o=e.oxw(4);return e.KtG(o.checkDirtyNumber("maxNegative"))}),e.qZA(),e.YNc(15,Aa,1,1,"cf-input-hint",127),e.qZA()()()()}if(2&n){const t=e.oxw(4);e.xp6(7),e.Q6J("status",t.agentForm.controls.discountPaymentType.invalid&&(t.agentForm.controls.discountPaymentType.dirty||t.agentForm.controls.discountPaymentType.touched)?"error":"default")("data",t.paymentTypeOption)("allowSearch",!1)("formControl",t.agentForm.controls.discountPaymentType),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("ngIf",t.agentForm.controls.discountPaymentType.hasError("required")&&t.agentForm.controls.discountPaymentType.touched),e.xp6(1),e.Q6J("status",t.agentForm.controls.maxNegative.invalid&&(t.agentForm.controls.maxNegative.dirty||t.agentForm.controls.maxNegative.touched)?"error":"default"),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("placeholder","Nh\u1eadp m\u1ee9c \xe2m qu\u1ef9 t\u1ed1i \u0111a")("negative",!1)("formControl",t.agentForm.controls.maxNegative),e.xp6(1),e.Q6J("ngIf",(null==t.agentForm.controls.maxNegative.errors?null:t.agentForm.controls.maxNegative.errors.required)&&(t.agentForm.controls.maxNegative.dirty||t.agentForm.controls.maxNegative.touched))}}function Ta(n,a){if(1&n&&e._UZ(0,"cf-input-hint",139),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.companyCode)}}function Za(n,a){if(1&n&&e._UZ(0,"cf-input-hint",139),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.companyName)}}function Da(n,a){if(1&n&&e._UZ(0,"cf-input-hint",139),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.minlength)}}function Fa(n,a){if(1&n&&e._UZ(0,"cf-input-hint",139),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.companyAddress)}}function ba(n,a){if(1&n&&e._UZ(0,"cf-input-hint",139),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.minlength)}}function ka(n,a){if(1&n&&(e.TgZ(0,"div",90)(1,"div",91)(2,"div",92)(3,"div",124),e._uU(4,"M\xe3 s\u1ed1 thu\u1ebf doanh nghi\u1ec7p"),e.qZA(),e.TgZ(5,"cf-input-group",125),e._UZ(6,"input",126),e.YNc(7,Ta,1,1,"cf-input-hint",127),e.qZA()(),e.TgZ(8,"div",92)(9,"div",124),e._uU(10,"T\xean doanh nghi\u1ec7p"),e.qZA(),e.TgZ(11,"cf-input-group",125),e._UZ(12,"input",126),e.YNc(13,Za,1,1,"cf-input-hint",127),e.YNc(14,Da,1,1,"cf-input-hint",127),e.qZA()()(),e.TgZ(15,"div",25)(16,"div",124),e._uU(17,"\u0110\u1ecba ch\u1ec9"),e.qZA(),e.TgZ(18,"cf-input-group",125),e._UZ(19,"input",126),e.YNc(20,Fa,1,1,"cf-input-hint",127),e.YNc(21,ba,1,1,"cf-input-hint",127),e.qZA()()()),2&n){const t=e.oxw(4);e.xp6(3),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("status",t.agentForm.controls.companyCode.invalid&&(t.agentForm.controls.companyCode.dirty||t.agentForm.controls.companyCode.touched)?"error":"default"),e.xp6(1),e.Q6J("formControl",t.agentForm.controls.companyCode),e.xp6(1),e.Q6J("ngIf",t.agentForm.controls.companyCode.hasError("required")&&(t.agentForm.controls.companyCode.dirty||t.agentForm.controls.companyCode.touched)),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("status",t.agentForm.controls.companyName.invalid&&(t.agentForm.controls.companyName.dirty||t.agentForm.controls.companyName.touched)?"error":"default"),e.xp6(1),e.Q6J("formControl",t.agentForm.controls.companyName),e.xp6(1),e.Q6J("ngIf",t.agentForm.controls.companyName.hasError("required")&&(t.agentForm.controls.companyName.dirty||t.agentForm.controls.companyName.touched)),e.xp6(1),e.Q6J("ngIf",t.agentForm.controls.companyName.hasError("minlength")&&(t.agentForm.controls.companyName.dirty||t.agentForm.controls.companyName.touched)),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("status",t.agentForm.controls.companyAddress.invalid&&(t.agentForm.controls.companyAddress.dirty||t.agentForm.controls.companyAddress.touched)?"error":"default"),e.xp6(1),e.Q6J("formControl",t.agentForm.controls.companyAddress),e.xp6(1),e.Q6J("ngIf",t.agentForm.controls.companyAddress.hasError("required")&&(t.agentForm.controls.companyAddress.dirty||t.agentForm.controls.companyAddress.touched)),e.xp6(1),e.Q6J("ngIf",t.agentForm.controls.companyAddress.hasError("minlength")&&(t.agentForm.controls.companyAddress.dirty||t.agentForm.controls.companyAddress.touched))}}function Ia(n,a){if(1&n&&e._UZ(0,"cf-input-hint",139),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.cccd)}}function Ua(n,a){if(1&n&&e._UZ(0,"cf-input-hint",139),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.minlengthCCCD)}}function Na(n,a){1&n&&e._UZ(0,"cf-input-hint",139),2&n&&e.Q6J("hint","T\u1ed1i \u0111a 12 ch\u1eef s\u1ed1")}function wa(n,a){1&n&&e._UZ(0,"cf-input-hint",139),2&n&&e.Q6J("hint","Ch\u01b0a ch\u1ecdn ng\xe0y c\u1ea5p CCCD")}function qa(n,a){1&n&&e._UZ(0,"cf-input-hint",139),2&n&&e.Q6J("hint","Ng\xe0y ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/MM/yyyy")}function Pa(n,a){if(1&n&&e._UZ(0,"cf-input-hint",139),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.identifyPlaceProvide)}}function Ja(n,a){1&n&&(e.TgZ(0,"div",158),e._UZ(1,"cf-icon",159),e._uU(2," M\u1eb7t tr\u01b0\u1edbc "),e.qZA())}function Sa(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",160),e.NdJ("click",function(o){e.CHM(t);const r=e.oxw(5);return e.KtG(r.closeButtonCCCDFont(o))}),e._UZ(1,"cf-icon",161),e.qZA()}}function Qa(n,a){1&n&&(e.TgZ(0,"div",158),e._UZ(1,"cf-icon",159),e._uU(2," M\u1eb7t sau "),e.qZA())}function Ma(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",160),e.NdJ("click",function(o){e.CHM(t);const r=e.oxw(5);return e.KtG(r.closeButtonCCCDBack(o))}),e._UZ(1,"cf-icon",161),e.qZA()}}function Ba(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",90)(1,"div",91)(2,"div",92)(3,"div",124),e._uU(4,"S\u1ed1 CCCD"),e.qZA(),e.TgZ(5,"cf-input-group",125),e._UZ(6,"input",147),e.YNc(7,Ia,1,1,"cf-input-hint",127),e.YNc(8,Ua,1,1,"cf-input-hint",127),e.YNc(9,Na,1,1,"cf-input-hint",127),e.qZA()(),e.TgZ(10,"div",92)(11,"div",124),e._uU(12,"Ng\xe0y c\u1ea5p"),e.qZA(),e.TgZ(13,"cf-input-group",125)(14,"input",148,149),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(15);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(15);return e.KtG(o.close())}),e.qZA(),e.YNc(16,wa,1,1,"cf-input-hint",127),e.YNc(17,qa,1,1,"cf-input-hint",127),e.qZA()()(),e.TgZ(18,"div",25)(19,"div",124),e._uU(20,"N\u01a1i c\u1ea5p"),e.qZA(),e.TgZ(21,"cf-input-group",125),e._UZ(22,"input",150),e.YNc(23,Pa,1,1,"cf-input-hint",127),e.qZA()(),e.TgZ(24,"div",151),e._uU(25,"Upload \u1ea3nh ch\u1ee5p CCCD"),e.qZA(),e.TgZ(26,"div",18)(27,"div",152),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(31);return e.KtG(o.click())}),e.YNc(28,Ja,3,0,"div",153),e.YNc(29,Sa,2,0,"div",154),e.qZA(),e.TgZ(30,"input",155,156),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw(4);return e.KtG(r.uploadCCCDFont(o))}),e.qZA(),e.TgZ(32,"div",152),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(36);return e.KtG(o.click())}),e.YNc(33,Qa,3,0,"div",153),e.YNc(34,Ma,2,0,"div",154),e.qZA(),e.TgZ(35,"input",155,157),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw(4);return e.KtG(r.uploadCCCDBack(o))}),e.qZA()()()}if(2&n){const t=e.oxw(4);e.xp6(3),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("status",t.agentForm.controls.identifyId.invalid&&(t.agentForm.controls.identifyId.dirty||t.agentForm.controls.identifyId.touched)?"error":"default"),e.xp6(1),e.Q6J("formControl",t.agentForm.controls.identifyId),e.xp6(1),e.Q6J("ngIf",t.agentForm.controls.identifyId.hasError("required")&&(t.agentForm.controls.identifyId.dirty||t.agentForm.controls.identifyId.touched)),e.xp6(1),e.Q6J("ngIf",t.agentForm.controls.identifyId.hasError("minlength")&&(t.agentForm.controls.identifyId.dirty||t.agentForm.controls.identifyId.touched)),e.xp6(1),e.Q6J("ngIf",t.agentForm.controls.identifyId.hasError("maxlength")&&(t.agentForm.controls.identifyId.dirty||t.agentForm.controls.identifyId.touched)),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("status",t.agentForm.controls.identifyDateProvide.invalid&&(t.agentForm.controls.identifyDateProvide.dirty||t.agentForm.controls.identifyDateProvide.touched)?"error":"default"),e.xp6(1),e.Q6J("displayMonths",1)("maxDate",t.currentDate)("formControl",t.agentForm.controls.identifyDateProvide),e.xp6(2),e.Q6J("ngIf",(null==t.agentForm.controls.identifyDateProvide.errors?null:t.agentForm.controls.identifyDateProvide.errors.required)&&(t.agentForm.controls.identifyDateProvide.dirty||t.agentForm.controls.identifyDateProvide.touched)),e.xp6(1),e.Q6J("ngIf",(null==t.agentForm.controls.identifyDateProvide.errors||null==t.agentForm.controls.identifyDateProvide.errors.ngbDate?null:t.agentForm.controls.identifyDateProvide.errors.ngbDate.invalid)&&(t.agentForm.controls.identifyDateProvide.dirty||t.agentForm.controls.identifyDateProvide.touched)),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("status",t.agentForm.controls.identifyPlaceProvide.invalid&&(t.agentForm.controls.identifyPlaceProvide.dirty||t.agentForm.controls.identifyPlaceProvide.touched)?"error":"default"),e.xp6(1),e.Q6J("formControl",t.agentForm.controls.identifyPlaceProvide),e.xp6(1),e.Q6J("ngIf",t.agentForm.controls.identifyPlaceProvide.hasError("required")&&(t.agentForm.controls.identifyPlaceProvide.dirty||t.agentForm.controls.identifyPlaceProvide.touched)),e.xp6(4),e.Jzz("background-image: url(",t.previewCCCDFont,");"),e.ekj("w-[238px]",t.previewCCCDFont),e.xp6(1),e.Q6J("ngIf",!t.previewCCCDFont),e.xp6(1),e.Q6J("ngIf",t.previewCCCDFont),e.xp6(3),e.Jzz("background-image: url(",t.previewCCCDBack,");"),e.ekj("w-[238px]",t.previewCCCDBack),e.xp6(1),e.Q6J("ngIf",!t.previewCCCDBack),e.xp6(1),e.Q6J("ngIf",t.previewCCCDBack)}}function Ya(n,a){if(1&n&&(e.TgZ(0,"div",90)(1,"div",92)(2,"div",20),e._uU(3,"Domain key"),e.qZA(),e.TgZ(4,"cf-input-group",162),e._UZ(5,"input",163),e.qZA()()()),2&n){const t=e.oxw(5);e.xp6(5),e.Q6J("formControl",t.agentForm.controls.domainKey)}}function Oa(n,a){if(1&n&&(e.TgZ(0,"div",90)(1,"div",92)(2,"div",20),e._uU(3,"Domain key"),e.qZA(),e.TgZ(4,"cf-input-group",162),e._UZ(5,"input",163),e.qZA()()()),2&n){const t=e.oxw(5);e.xp6(5),e.Q6J("formControl",t.agentForm.controls.domainKey)}}function Ra(n,a){if(1&n&&(e.TgZ(0,"div",80)(1,"div",65),e._UZ(2,"div",66),e.TgZ(3,"div",16),e._uU(4,"C\u1ea5u h\xecnh b\xean th\u1ee9 3"),e.qZA()(),e.YNc(5,Ya,6,1,"div",84),e.YNc(6,Oa,6,1,"div",84),e.qZA()),2&n){const t=e.oxw(4);e.xp6(5),e.Q6J("ngIf",t.agentDetailDisplay.business),e.xp6(1),e.Q6J("ngIf",!t.agentDetailDisplay.business)}}function La(n,a){if(1&n&&e._UZ(0,"cf-input-hint",139),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.maxlengthBookerID)}}function za(n,a){if(1&n&&(e.TgZ(0,"div",80)(1,"div",65),e._UZ(2,"div",66),e.TgZ(3,"div",16),e._uU(4,"Booker ID"),e.qZA()(),e.TgZ(5,"div",90)(6,"div",92)(7,"div",20),e._uU(8,"Booker ID VNA"),e.qZA(),e.TgZ(9,"cf-input-group",125),e._UZ(10,"input",164),e.YNc(11,La,1,1,"cf-input-hint",127),e.qZA()()()()),2&n){const t=e.oxw(4);e.xp6(9),e.Q6J("status",t.agentForm.controls.bookerId.invalid&&(t.agentForm.controls.bookerId.dirty||t.agentForm.controls.bookerId.touched)?"error":"default"),e.xp6(1),e.Q6J("formControl",t.agentForm.controls.bookerId),e.xp6(1),e.Q6J("ngIf",t.agentForm.controls.bookerId.hasError("maxlength")&&(t.agentForm.controls.bookerId.dirty||t.agentForm.controls.bookerId.touched))}}function Ha(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div")(2,"div",65),e._UZ(3,"div",66),e.TgZ(4,"div",16),e._uU(5,"Th\xf4ng tin c\u01a1 b\u1ea3n"),e.qZA()(),e.TgZ(6,"div",67)(7,"div",68)(8,"div",25)(9,"div",20),e._uU(10,"M\xe3 \u0111\u1ea1i l\xfd"),e.qZA(),e.TgZ(11,"div",69),e._uU(12),e.qZA()(),e.TgZ(13,"div",25)(14,"div",124),e._uU(15,"T\xean \u0111\u1ea1i l\xfd"),e.qZA(),e.TgZ(16,"cf-input-group",125),e._UZ(17,"input",126),e.YNc(18,aa,1,1,"cf-input-hint",127),e.YNc(19,ra,1,1,"cf-input-hint",127),e.qZA()(),e.TgZ(20,"div",25)(21,"div",124),e._uU(22,"T\xean H\u1ecd v\xe0 t\xean ng\u01b0\u1eddi \u0111\u1ea1i di\u1ec7n"),e.qZA(),e.TgZ(23,"cf-input-group",125),e._UZ(24,"input",126),e.YNc(25,ca,1,1,"cf-input-hint",127),e.YNc(26,sa,1,1,"cf-input-hint",127),e.qZA()(),e.TgZ(27,"div",25)(28,"div",20),e._uU(29,"Ng\xe0y \u0111\u0103ng k\xed"),e.qZA(),e.TgZ(30,"div",69),e._uU(31),e.qZA()(),e.TgZ(32,"div",25)(33,"div",124),e._uU(34,"Email"),e.qZA(),e.TgZ(35,"cf-input-group",125),e._UZ(36,"input",126),e.YNc(37,la,1,1,"cf-input-hint",127),e.YNc(38,ua,1,1,"cf-input-hint",127),e.qZA()(),e.TgZ(39,"div")(40,"div",128)(41,"label",129),e._uU(42," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i "),e.qZA()(),e.TgZ(43,"cf-select",130)(44,"div",131),e._UZ(45,"input",132),e.qZA(),e.YNc(46,da,1,1,"cf-input-hint",127),e.YNc(47,_a,1,1,"cf-input-hint",127),e.YNc(48,pa,1,1,"cf-input-hint",127),e.qZA()()(),e.TgZ(49,"div",133)(50,"cf-select",134)(51,"label",135)(52,"span"),e._uU(53,"Ng\u01b0\u1eddi gi\u1edbi thi\u1ec7u"),e.qZA()()()(),e.TgZ(54,"div",70)(55,"div",20),e._uU(56,"Ghi ch\xfa b\u1ed5 sung"),e.qZA(),e._UZ(57,"textarea",136),e.qZA(),e.TgZ(58,"div",72)(59,"div",73),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.isExpand=!o.isExpand)}),e.TgZ(60,"div",74),e._UZ(61,"cf-icon",75),e.TgZ(62,"span"),e._uU(63,"Th\xf4ng tin b\u1ed5 sung"),e.qZA()(),e.TgZ(64,"div",76),e.YNc(65,ga,1,0,"cf-icon",77),e.YNc(66,ha,1,0,"cf-icon",78),e.qZA()(),e.YNc(67,ma,9,7,"div",79),e.qZA()()(),e.TgZ(68,"div",80)(69,"div",65),e._UZ(70,"div",66),e.TgZ(71,"div",16),e._uU(72,"Th\xf4ng tin chuy\u1ec3n kho\u1ea3n"),e.qZA()(),e.TgZ(73,"div",81)(74,"div",25)(75,"div",124),e._uU(76,"S\u1ed1 t\xe0i kho\u1ea3n ng\xe2n h\xe0ng"),e.qZA(),e.TgZ(77,"cf-input-group",125),e._UZ(78,"input",137),e.YNc(79,fa,1,1,"cf-input-hint",127),e.qZA()(),e.TgZ(80,"div",25)(81,"div",124),e._uU(82,"Thu\u1ed9c ng\xe2n h\xe0ng"),e.qZA(),e.TgZ(83,"cf-select",138),e.YNc(84,va,1,1,"cf-input-hint",127),e.qZA()(),e.TgZ(85,"div",25)(86,"div",124),e._uU(87,"H\u1ecd v\xe0 t\xean ch\u1ee7 t\xe0i kho\u1ea3n"),e.qZA(),e.TgZ(88,"cf-input-group",125),e._UZ(89,"input",126),e.YNc(90,Ca,1,1,"cf-input-hint",127),e.qZA()(),e.TgZ(91,"div",25)(92,"div",124),e._uU(93,"T\xean chi nh\xe1nh ng\xe2n h\xe0ng"),e.qZA(),e.TgZ(94,"cf-input-group",125),e._UZ(95,"input",126),e.YNc(96,xa,1,1,"cf-input-hint",127),e.qZA()()()(),e.YNc(97,ya,16,12,"div",83),e.TgZ(98,"div",80)(99,"div",65),e._UZ(100,"div",66),e.TgZ(101,"div",16),e._uU(102,"X\xe1c th\u1ef1c danh t\xednh"),e.qZA()(),e.YNc(103,ka,22,14,"div",84),e.YNc(104,Ba,37,31,"div",84),e.qZA(),e.YNc(105,Ra,7,2,"div",83),e.YNc(106,za,12,3,"div",83),e.qZA()}if(2&n){const t=e.oxw(3);e.xp6(12),e.hij(" ",t.agentDetailDisplay.identify," "),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("status",t.agentForm.controls.agentName.invalid&&(t.agentForm.controls.agentName.dirty||t.agentForm.controls.agentName.touched)?"error":"default")("status","default"),e.xp6(1),e.Q6J("formControl",t.agentForm.controls.agentName),e.xp6(1),e.Q6J("ngIf",t.agentForm.controls.agentName.hasError("required")&&(t.agentForm.controls.agentName.dirty||t.agentForm.controls.agentName.touched)),e.xp6(1),e.Q6J("ngIf",t.agentForm.controls.agentName.hasError("minlength")&&(t.agentForm.controls.agentName.dirty||t.agentForm.controls.agentName.touched)),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("status",t.agentForm.controls.representative.invalid&&(t.agentForm.controls.representative.dirty||t.agentForm.controls.representative.touched)?"error":"default"),e.xp6(1),e.Q6J("formControl",t.agentForm.controls.representative),e.xp6(1),e.Q6J("ngIf",t.agentForm.controls.representative.hasError("required")&&(t.agentForm.controls.representative.dirty||t.agentForm.controls.representative.touched)),e.xp6(1),e.Q6J("ngIf",t.agentForm.controls.representative.hasError("minlength")&&(t.agentForm.controls.representative.dirty||t.agentForm.controls.representative.touched)),e.xp6(5),e.hij(" ",t.agentDetailDisplay.dateCreated," "),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("status",t.agentForm.controls.email.invalid&&(t.agentForm.controls.email.dirty||t.agentForm.controls.email.touched)?"error":"default"),e.xp6(1),e.Q6J("formControl",t.agentForm.controls.email),e.xp6(1),e.Q6J("ngIf",t.agentForm.controls.email.hasError("required")&&(t.agentForm.controls.email.dirty||t.agentForm.controls.email.touched)),e.xp6(1),e.Q6J("ngIf",t.agentForm.controls.email.hasError("email")&&(t.agentForm.controls.email.dirty||t.agentForm.controls.email.touched)),e.xp6(3),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("status",t.agentForm.controls.phone.invalid&&(t.agentForm.controls.phone.dirty||t.agentForm.controls.phone.touched)?"error":"default")("data",t.optionsAreaCode)("formControl",t.agentForm.controls.phoneArea),e.xp6(2),e.Q6J("formControl",t.agentForm.controls.phone),e.xp6(1),e.Q6J("ngIf",(null==t.agentForm.controls.phone.errors?null:t.agentForm.controls.phone.errors.required)&&(t.agentForm.controls.phone.dirty||t.agentForm.controls.phone.touched)),e.xp6(1),e.Q6J("ngIf",t.agentForm.controls.phone.hasError("minlength")&&(t.agentForm.controls.phone.touched||t.agentForm.controls.phone.dirty)),e.xp6(1),e.Q6J("ngIf",t.agentForm.controls.phone.hasError("maxlength")&&(t.agentForm.controls.phone.touched||t.agentForm.controls.phone.dirty)),e.xp6(2),e.Q6J("status",t.agentForm.controls.belongSale.invalid&&(t.agentForm.controls.belongSale.dirty||t.agentForm.controls.belongSale.touched)?"error":"default")("data",t.belongSaleOption)("allowSearch",!1)("formControl",t.agentForm.controls.belongSale)("allowSearch",!0),e.xp6(7),e.Q6J("formControl",t.agentForm.controls.note),e.xp6(8),e.Q6J("ngIf",t.isExpand),e.xp6(1),e.Q6J("ngIf",!t.isExpand),e.xp6(1),e.Q6J("ngIf",t.isExpand),e.xp6(8),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("status",t.agentForm.controls.bankAccount.invalid&&(t.agentForm.controls.bankAccount.dirty||t.agentForm.controls.bankAccount.touched)?"error":"default"),e.xp6(1),e.Q6J("formControl",t.agentForm.controls.bankAccount),e.xp6(1),e.Q6J("ngIf",t.agentForm.controls.bankAccount.hasError("required")&&(t.agentForm.controls.bankAccount.dirty||t.agentForm.controls.bankAccount.touched)),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("status",t.agentForm.controls.bankName.invalid&&(t.agentForm.controls.bankName.dirty||t.agentForm.controls.bankName.touched)?"error":"default")("data",t.bankData)("formControl",t.agentForm.controls.bankName)("allowSearch",!0),e.xp6(1),e.Q6J("ngIf",t.agentForm.controls.bankName.hasError("required")&&t.agentForm.controls.bankName.touched),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("status",t.agentForm.controls.nameOwnAccount.invalid&&(t.agentForm.controls.nameOwnAccount.dirty||t.agentForm.controls.nameOwnAccount.touched)?"error":"default"),e.xp6(1),e.Q6J("formControl",t.agentForm.controls.nameOwnAccount),e.xp6(1),e.Q6J("ngIf",t.agentForm.controls.nameOwnAccount.hasError("required")&&(t.agentForm.controls.nameOwnAccount.dirty||t.agentForm.controls.nameOwnAccount.touched)),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("status",t.agentForm.controls.bankBranchName.invalid&&(t.agentForm.controls.bankBranchName.dirty||t.agentForm.controls.bankBranchName.touched)?"error":"default"),e.xp6(1),e.Q6J("formControl",t.agentForm.controls.bankBranchName),e.xp6(1),e.Q6J("ngIf",t.agentForm.controls.bankBranchName.hasError("required")&&(t.agentForm.controls.bankBranchName.dirty||t.agentForm.controls.bankBranchName.touched)),e.xp6(1),e.Q6J("ngIf",t.canCreateAgentUser_AGENT2),e.xp6(6),e.Q6J("ngIf",t.agentDetailDisplay.business),e.xp6(1),e.Q6J("ngIf",!t.agentDetailDisplay.business),e.xp6(1),e.Q6J("ngIf",t.isAgent1),e.xp6(1),e.Q6J("ngIf",t.isAgent1||t.isSaleLead)}}function Ka(n,a){1&n&&e._UZ(0,"div",122)}function ja(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"cf-switch",123),e._uU(2),e.qZA(),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("checked",!0)("disabled",!0),e.xp6(1),e.Oqu(t)}}function Va(n,a){if(1&n&&(e.TgZ(0,"div",117)(1,"div",118)(2,"div",119),e._uU(3," Quy\u1ec1n h\u1ea1n m\u1eb7c \u0111\u1ecbnh "),e.qZA(),e.TgZ(4,"div",120),e._uU(5," L\xe0 nh\u1eefng quy\u1ec1n h\u1ea1n \u0111\u01b0\u1ee3c c\u1ea5p cho role \u0111\xf3, kh\xf4ng \u0111\u01b0\u1ee3c ph\xe9p thay \u0111\u1ed5i. "),e.qZA()(),e.TgZ(6,"div",121),e.YNc(7,ja,3,3,"ng-container",109),e.qZA()()),2&n){const t=e.oxw(4);e.xp6(7),e.Q6J("ngForOf",t.allRolesDefault)}}function Ga(n,a){1&n&&e._UZ(0,"div",122)}function Xa(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"cf-switch",169),e.NdJ("checkedChange",function(){const r=e.CHM(t).$implicit,s=e.oxw(5);return e.KtG(s.onCheckRoleChange(r))}),e._uU(2),e.qZA(),e.BQk()}if(2&n){const t=a.$implicit,i=e.oxw(5);e.xp6(1),e.Q6J("checked",i.listRoleId.includes(t.id)),e.xp6(1),e.Oqu(t.name)}}function $a(n,a){if(1&n&&(e.TgZ(0,"div",117)(1,"div",118)(2,"div",119),e._uU(3," Quy\u1ec1n h\u1ea1n n\xe2ng cao "),e.qZA(),e.TgZ(4,"div",120),e._uU(5," L\xe0 nh\u1eefng quy\u1ec1n h\u1ea1n \u0111\u01b0\u1ee3c ch\u1ec9 \u0111\u1ecbnh c\u1ea5p th\xeam cho \u0111\u1ea1i l\xfd n\u1ebfu mu\u1ed1n. "),e.qZA()(),e.TgZ(6,"div",121),e.YNc(7,Xa,3,2,"ng-container",109),e.qZA()()),2&n){const t=e.oxw(4);e.xp6(7),e.Q6J("ngForOf",t.allRolesAdvance)}}const Wa=function(){return[]};function er(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",116)(2,"cf-select",165),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.agentDetail.titleId=o)})("selectedChange",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.getPermissionByRole(o))}),e.TgZ(3,"label",135)(4,"span",166),e._uU(5,"Ch\u1ee9c danh"),e.qZA()()(),e.YNc(6,Ka,1,0,"div",167),e.YNc(7,Va,8,1,"div",168),e.YNc(8,Ga,1,0,"div",167),e.YNc(9,$a,8,1,"div",168),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("status","default")("data",t.roleOtions||e.DdM(10,Wa))("ngModel",t.agentDetail.titleId)("allowSearch",!1)("allowSearch",!0),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("ngIf",t.allRolesDefault.length),e.xp6(1),e.Q6J("ngIf",t.allRolesDefault.length),e.xp6(1),e.Q6J("ngIf",t.allRolesAdvance.length),e.xp6(1),e.Q6J("ngIf",t.allRolesAdvance.length)}}function tr(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",60),e.YNc(2,ia,3,3,"div",61),e.YNc(3,oa,3,3,"div",61),e.qZA(),e.YNc(4,Ha,107,58,"div",1),e.YNc(5,er,10,11,"div",1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.isEditInfo),e.xp6(1),e.Q6J("ngIf",t.isEditPermission),e.xp6(1),e.Q6J("ngIf","BASIC_INFO"===t.viewMode),e.xp6(1),e.Q6J("ngIf","TITLE_ROLE"===t.viewMode)}}function nr(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div")(4,"button",5),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onBackToList())}),e._UZ(5,"cf-icon",6),e._uU(6," Quay l\u1ea1i "),e.qZA()(),e.YNc(7,Eo,10,5,"div",7),e.YNc(8,To,7,2,"div",7),e.qZA(),e.TgZ(9,"div",8)(10,"div",4)(11,"div",9)(12,"div",10),e._UZ(13,"img",11),e.YNc(14,Zo,2,0,"div",12),e.TgZ(15,"input",13,14),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.uploadAvatar(o))}),e.qZA()(),e.TgZ(17,"div",15)(18,"div",16),e._uU(19),e.qZA(),e.TgZ(20,"div",17),e._uU(21),e.qZA()()(),e.TgZ(22,"div",18)(23,"div",19)(24,"div",20),e._uU(25,"Ch\u1ee9c danh"),e.qZA(),e.TgZ(26,"cf-label",21),e._uU(27),e.qZA()(),e.TgZ(28,"div",19)(29,"div",20),e._uU(30,"Tr\u1ea1ng th\xe1i"),e.qZA(),e.YNc(31,Do,1,3,"cf-select",22),e.YNc(32,Io,4,3,"ng-template",null,23,e.W1O),e.qZA()()(),e.TgZ(34,"div",24)(35,"div",25)(36,"div",20),e._uU(37,"S\u1ed1 d\u01b0 c\xf4ng n\u1ee3"),e.qZA(),e.TgZ(38,"div",26),e._UZ(39,"span",27),e._uU(40),e.ALo(41,"replace"),e.ALo(42,"number"),e.TgZ(43,"span",28),e._uU(44,"\u0111"),e.qZA()()()()(),e.YNc(45,na,6,4,"div",1),e.YNc(46,tr,6,4,"div",1),e.qZA()()}if(2&n){const t=e.MAs(33),i=e.oxw();e.xp6(7),e.Q6J("ngIf",!i.isEdit),e.xp6(1),e.Q6J("ngIf",i.isEdit),e.xp6(5),e.Q6J("src",i.previewAvatar||"https://cheapflighttest.s3.ap-southeast-1.amazonaws.com/avarta-default.jpg",e.LSH),e.xp6(1),e.Q6J("ngIf",i.isEdit),e.xp6(5),e.Oqu(i.agentDetailDisplay.agentName),e.xp6(2),e.Oqu(i.agentDetailDisplay.identify),e.xp6(5),e.Q6J("color",i.titleColor),e.xp6(1),e.Oqu(i.agentDetailDisplay.titleName),e.xp6(4),e.Q6J("ngIf",i.canEditStatus&&i.isEdit&&"INACTIVE"!==i.agentDetailDisplay.state)("ngIfElse",t),e.xp6(9),e.hij("",e.Dn7(41,13,e.lcZ(42,17,i.agentDetailDisplay.balance||0),",",".")," "),e.xp6(5),e.Q6J("ngIf",!i.isEdit),e.xp6(1),e.Q6J("ngIf",i.isEdit)}}function ir(n,a){1&n&&e._UZ(0,"cf-spinner")}let or=(()=>{class n{constructor(t,i,o,r,s,d,m,f,A,E,T,D,F,P,J,S){this.calendar=t,this.activedRoute=o,this._modal=r,this._fb=s,this._userService=d,this._toastService=m,this._permissionService=f,this._route=A,this._phoneDataService=E,this._bankDataService=T,this._router=D,this._accountVerifyService=F,this._mobileDetectService=P,this._paymentService=J,this._bottomSheetService=S,this.isEdit=!1,this.identifyToggle=!1,this.isCccdFontDirty=!1,this.isCccdBackDirty=!1,this.isAvatarDirty=!1,this.TIME_VERIFY_PREFIX="time_verify_",this.errorMessage={agentName:"T\xean \u0111\u1ea1i l\xfd kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",representative:"T\xean ng\u01b0\u1eddi \u0111\u1ea1i di\u1ec7n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",email:"Email kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",emailFormat:"\u0110\u1ecbnh d\u1ea1ng kh\xf4ng h\u1ee3p l\u1ec7",phone:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",dateCreated:"Ng\xe0y \u0111\u0103ng k\xed kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",bankAccount:"T\xe0i kho\u1ea3n ng\xe2n h\xe0ng kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",bankName:"T\xean ng\xe2n h\xe0ng kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",nameOwnAccount:"H\u1ecd v\xe0 t\xean ch\u1ee7 t\xe0i kho\u1ea3n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",bankBranchName:"Chi nh\xe1nh ng\xe2n h\xe0ng kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",identifyId:"S\u1ed1 CCCD kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",identifyDateProvide:"Ng\xe0y c\u1ea5p kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",identifyPlaceProvide:"N\u01a1i c\u1ea5p kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",companyCode:"M\xe3 s\u1ed1 thu\u1ebf kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",companyName:"T\xean doanh nghi\u1ec7p kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",companyAddress:"\u0110\u1ecba ch\u1ec9 kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",minlength:"T\u1ed1i thi\u1ec3u 2 k\xed t\u1ef1",minlengthCCCD:"T\u1ed1i thi\u1ec3u 6 ch\u1eef s\u1ed1",maxlengthBookerID:"T\u1ed1i \u0111a 20 k\xed t\u1ef1",maxlength:"T\u1ed1i \u0111a 11 ch\u1eef s\u1ed1"},this.viewMode="BASIC_INFO",this.allRolesAdvance=[],this.allRolesDefault=[],this.statusOptions=[{code:"ACTIVE",name:"Ho\u1ea1t \u0111\u1ed9ng"},{code:"BLOCK",name:"Ng\u01b0ng ho\u1ea1t \u0111\u1ed9ng"}],this.roleOtions=[],this.bankData=[],this.listRoleId=[],this.paymentTypeOption=[{value:"PAYMENT_NOW",text:"Chi\u1ebft kh\u1ea5u tr\u1ea3 ngay"},{value:"PAYMENT_LATER",text:"Chi\u1ebft kh\u1ea5u tr\u1ea3 sau"}],this.isEditInfo=this._permissionService.hasPermission(C.or.UpdateAgentInfo)||this._permissionService.hasPermission(C.or.UpdateAgentInfoForSale),this.isEditPermission=this._permissionService.hasPermission(C.or.UpdateAgentPermission)||this._permissionService.hasPermission(C.or.UpdateAgentPermissionForSale),this.canDetele=this._permissionService.hasPermission(C.or.DeleteAgent),this.canCreateAgentUser_AGENT2=this._permissionService.hasPermission(C.or.CreateAgentUser_AGENT2),this.isTopUpVirtualBalance=this._permissionService.hasPermission(C.or.CanTopUpVirtualBalance)&&!this._mobileDetectService.isMobile(),this.canEditStatus=this._permissionService.hasPermission(C.or.CanEditAgentStatus),this.isOpen=!1,this.bottomCenter=[{originX:"start",originY:"bottom",overlayX:"center",overlayY:"top",offsetX:0,offsetY:0}],this.optionsAreaCode=[],this.isLoading=!1,this.isExpand=!1,this.isAgent1=!1,this.isSaleLead=!1,this.belongSaleOption=[],this.referralChannelData=[{code:"DIRECT",name:"Tr\u1ef1c ti\u1ebfp"},{code:"LANDING_PAGE",name:"Landing Page"},{code:"SOCIAL_MEDIA",name:"M\u1ea1ng x\xe3 h\u1ed9i"},{code:"MARKETING",name:"Ch\u01b0\u01a1ng tr\xecnh Marketing"}],this.virtualAccountInfo=[],this.virtualAccountInvalid=!0,this.createVirtualAccountInfo=this._permissionService.hasPermission(C.or.CreateVirtualAccountInfo),this.getAllVirtualAccountInfo=this._permissionService.hasPermission(C.or.GetAllVirtualAccountInfo),this.verifyCount=0,this.currentDate=t.getToday(),this.isAgent1=this._permissionService.isAgent1(),this.isSaleLead=this._permissionService.isSaleLead(),i.registerIcons([u.B2I,u.rks,u.PcQ,u.whL,u.Hge,u.P5K,u.KYu,u.Rq_,u.kTb,u.HTW,u.oFb,u.bLw,u.MwJ,u.UNF,u.BbA,u.hTA,u.$f3,u.S7Q,u.TM4,u.RxK,u.DcL,u.PcQ]),this.userId=o.snapshot.params.id,this.titleColor=history.state.titleColor,this.isEditPermission&&(this.viewMode="TITLE_ROLE"),this.isEditInfo&&(this.viewMode="BASIC_INFO")}ngOnInit(){this.optionsAreaCode=this._phoneDataService.optionsAreaCode,this.bankData=this._bankDataService.getBankOption(),this.initFormGroup(),this.loadBelongSale(),this.userId&&this.loadAgentDetail(),this.getVirtualAccountInfo()}initFormGroup(){this.agentForm=this._fb.group({avatar:[""],agentName:["",[c.kI.required,c.kI.minLength(2)]],representative:["",[c.kI.required,c.kI.minLength(2)]],email:["",[c.kI.required,c.kI.email]],phone:["",[c.kI.required,c.kI.minLength(7),c.kI.maxLength(11)]],phoneArea:["",c.kI.required],bankAccount:["",c.kI.required],nameOwnAccount:["",c.kI.required],bankName:["",c.kI.required],bankBranchName:["",c.kI.required],belongSale:[""],facebookContact:[""],referralChannel:[""],note:[""],domainKey:[""],identifyId:["",[c.kI.required,c.kI.minLength(6),c.kI.maxLength(12)]],identifyDateProvide:["",c.kI.required],identifyPlaceProvide:["",c.kI.required],frontImageIdentify:["",c.kI.required],backImageIdentify:["",c.kI.required],companyCode:["",c.kI.required],companyName:["",[c.kI.required,c.kI.minLength(2)]],companyAddress:["",[c.kI.required,c.kI.minLength(2)]],bookerId:["",[c.kI.maxLength(20)]]}),this.canCreateAgentUser_AGENT2&&(this.agentForm.addControl("maxNegative",this._fb.control(0,[c.kI.required])),this.agentForm.addControl("discountPaymentType",this._fb.control("",[c.kI.required])))}loadAgentDetail(){const t={userID:this.userId};this.isLoading=!0,this._userService.getAgentDetail(t).pipe((0,U.x)(()=>this.isLoading=!1)).subscribe({next:i=>{var o,r,s,d,m,f,A,E,T,D;if(i.success){this.titleId=i.data.titleId,this.agentDetail=i.data,this.agentDetail.titlesCanChange.push({id:i.data.titleId,name:i.data.titleName,defaultPermissions:i.data.defaultPermission,advanceRoles:i.data.advanceRole}),this.agentDetailDisplay=Object.assign(Object.assign({},i.data),{bankFullName:this._bankDataService.getBankName(i.data.bankName),dateCreated:i.data.dateCreated?R(1e3*i.data.dateCreated).format("DD/MM/YYYY"):"",identifyDateProvide:i.data.identifyDateProvide?R(1e3*i.data.identifyDateProvide).format("DD/MM/YYYY"):"",belongSale:i.data.belongSaleInfo?`${null===(o=i.data.belongSaleInfo)||void 0===o?void 0:o.userName} - ${null===(r=i.data.belongSaleInfo)||void 0===r?void 0:r.displayName} (${null===(s=i.data.belongSaleInfo)||void 0===s?void 0:s.titleName})`:"",referralChannelDisplay:this.getReferralChannel(i.data.referralChannel)}),this.listRoleId=i.data.roleIds||[],this.previewAvatar=`${i.data.avatarUrl}?${(new Date).getTime()}`;const F={avatar:this.agentDetailDisplay.avatar,agentName:this.agentDetailDisplay.agentName,representative:this.agentDetailDisplay.representative,email:this.agentDetailDisplay.email,phone:null===(d=this.agentDetailDisplay.phone)||void 0===d?void 0:d.trim(),phoneArea:this.agentDetailDisplay.phoneArea,bankAccount:null===(m=this.agentDetailDisplay.bankAccount)||void 0===m?void 0:m.trim(),nameOwnAccount:this.agentDetailDisplay.nameOwnAccount,bankName:this.agentDetailDisplay.bankName,bankBranchName:this.agentDetailDisplay.bankBranchName,discountPaymentType:(null===(f=this.agentDetailDisplay)||void 0===f?void 0:f.discountPaymentType)||"",maxNegative:(null===(A=this.agentDetailDisplay)||void 0===A?void 0:A.maxNegative)||0,identifyId:null===(E=i.data.identifyId)||void 0===E?void 0:E.trim(),identifyDateProvide:i.data.identifyDateProvide?new Date(1e3*i.data.identifyDateProvide):null,identifyPlaceProvide:i.data.identifyPlaceProvide,frontImageIdentify:i.data.frontImageIdentify,backImageIdentify:i.data.backImageIdentify,companyCode:this.agentDetailDisplay.companyCode,companyName:this.agentDetailDisplay.companyName,companyAddress:this.agentDetailDisplay.companyAddress,referralChannel:this.referralChannelData[0].code,note:i.data.note,domainKey:i.data.domainKey||"",belongSale:(null===(T=i.data.belongSaleInfo)||void 0===T?void 0:T.userId)||"",facebookContact:i.data.facebookContact||"",bookerId:i.data.bookerId||""};this.agentForm.patchValue(F),this.allRolesAdvance=i.data.advanceRole||[],this.allRolesDefault=i.data.defaultPermission||[],this.isTopUpVirtualBalance=this.isTopUpVirtualBalance&&"ACTIVE"===i.data.state,this.roleOtions=(null===(D=this.agentDetail.titlesCanChange)||void 0===D?void 0:D.map(P=>({id:P.id,name:P.name})))||[],this.clearValidators(this.agentForm,this.agentDetailDisplay.business?["identifyId","identifyDateProvide","identifyPlaceProvide","frontImageIdentify","backImageIdentify"]:["companyCode","companyName","companyAddress"]),this.countDownVerifyAccount()}}})}loadBelongSale(){this._userService.getBelongSale().subscribe(t=>{"OK"===t.status&&(this.belongSaleOption=t.data.map(i=>({code:i.id,name:`${i.userName} - ${i.displayName} (${i.titleName})`})))})}getReferralChannel(t){switch(t){case"DIRECT":return"Tr\u1ef1c ti\u1ebfp";case"LANDING_PAGE":return"Landing Page";case"SOCIAL_MEDIA":return"M\u1ea1ng x\xe3 h\u1ed9i";case"MARKETING":return"Ch\u01b0\u01a1ng tr\xecnh Marketing";default:return""}}onBanUser(){this._modal.open(k.V0,{title:"V\xf4 hi\u1ec7u h\xf3a t\xe0i kho\u1ea3n n\xe0y?",body:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n v\xf4 hi\u1ec7u ho\xe1 t\xe0i kho\u1ea3n n\xe0y? <br>\n      T\xe0i kho\u1ea3n s\u1ebd kh\xf4ng th\u1ec3 \u0111\u0103ng nh\u1eadp v\xe0 s\u1eed d\u1ee5ng h\u1ec7 th\u1ed1ng n\u1ebfu b\u1ecb v\xf4 hi\u1ec7u h\xf3a.",okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y b\u1ecf",isSecondary:!0}).afterClosed$.subscribe({next:i=>{i.data&&(this.isLoading=!0,this._userService.updateAccountStatus({userId:this.userId,status:"BLOCK"}).pipe((0,U.x)(()=>this.isLoading=!1)).subscribe({next:o=>{"OK"===o.status?(this._toastService.add({severity:"success",summary:"V\xf4 hi\u1ec7u h\xf3a th\xe0nh c\xf4ng",detail:"\u0110\u1ea1i l\xfd \u0111\xe3 b\u1ecb v\xf4 hi\u1ec7u h\xf3a v\xe0 kh\xf4ng th\u1ec3 \u0111\u0103ng nh\u1eadp s\u1eed d\u1ee5ng h\u1ec7 th\u1ed1ng.",sticky:!1}),this.loadAgentDetail()):this._toastService.add({severity:"success",summary:"C\xf3 l\u1ed7i x\u1ea3y ra",detail:"Kh\xf4ng th\u1ec3 v\xf4 hi\u1ec7u h\xf3a \u0111\u1ea1i l\xfd. Vui l\xf2ng th\u1eed l\u1ea1i.",sticky:!1})},error:()=>{this._toastService.add({severity:"success",summary:"C\xf3 l\u1ed7i x\u1ea3y ra",detail:"Kh\xf4ng th\u1ec3 v\xf4 hi\u1ec7u h\xf3a \u0111\u1ea1i l\xfd. Vui l\xf2ng th\u1eed l\u1ea1i.",sticky:!1})}}))}})}onActiveUser(){this._modal.open(k.V0,{title:"M\u1edf t\xe0i kho\u1ea3n n\xe0y?",body:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n cho ph\xe9p t\xe0i kho\u1ea3n n\xe0y ho\u1ea1t \u0111\u1ed9ng l\u1ea1i? <br>\n      T\xe0i kho\u1ea3n s\u1ebd \u0111\u01b0\u1ee3c \u0111\u0103ng nh\u1eadp v\xe0 s\u1eed d\u1ee5ng h\u1ec7 th\u1ed1ng n\u1ebfu \u0111\u01b0\u1ee3c cho ph\xe9p ho\u1ea1t \u0111\u1ed9ng l\u1ea1i.",okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y b\u1ecf",isSecondary:!0}).afterClosed$.subscribe({next:i=>{i.data&&(this.isLoading=!0,this._userService.updateAccountStatus({userId:this.userId,status:"ACTIVE"}).pipe((0,U.x)(()=>this.isLoading=!1)).subscribe({next:o=>{"OK"===o.status?(this._toastService.add({severity:"success",summary:"M\u1edf ho\u1ea1t \u0111\u1ed9ng th\xe0nh c\xf4ng",detail:"\u0110\u1ea1i l\xfd \u0111\xe3 \u0111\u01b0\u1ee3c cho ph\xe9p \u0111\u0103ng nh\u1eadp v\xe0 ho\u1ea1t \u0111\u1ed9ng tr\u1edf l\u1ea1i.",sticky:!1}),this.loadAgentDetail()):this._toastService.add({severity:"success",summary:"C\xf3 l\u1ed7i x\u1ea3y ra",detail:"Kh\xf4ng th\u1ec3 v\xf4 hi\u1ec7u h\xf3a \u0111\u1ea1i l\xfd. Vui l\xf2ng th\u1eed l\u1ea1i.",sticky:!1})},error:()=>{this._toastService.add({severity:"success",summary:"C\xf3 l\u1ed7i x\u1ea3y ra",detail:"Kh\xf4ng th\u1ec3 m\u1edf ho\u1ea1t \u0111\u1ed9ng \u0111\u1ea1i l\xfd. Vui l\xf2ng th\u1eed l\u1ea1i.",sticky:!1})}}))}})}onUpdate(){this.isEdit=!0,this.reloadIdentifyImage()}onDelete(){this._modal.open(k.V0,{title:"X\xf3a \u0111\u1ea1i l\xfd",body:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a t\xe0i kho\u1ea3n n\xe0y? Vi\u1ec7c n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c, vui l\xf2ng ki\u1ec3m tra k\u0129 tr\u01b0\u1edbc khi thao t\xe1c.",okText:"C\xf3, ti\u1ebfp t\u1ee5c",cancelText:"Kh\xf4ng, h\u1ee7y b\u1ecf"}).afterClosed$.subscribe({next:i=>{i.data&&this._userService.deleteAgentAccount(this.userId).subscribe({next:o=>{o.success?(this._toastService.add({severity:"success",summary:"Th\xe0nh c\xf4ng",detail:"X\xf3a \u0111\u1ea1i l\xfd th\xe0nh c\xf4ng",sticky:!1}),this._route.navigate(["admin/agent-manage"])):this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:"X\xf3a \u0111\u1ea1i l\xfd kh\xf4ng th\xe0nh c\xf4ng",sticky:!0})},error:()=>{this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:"X\xf3a \u0111\u1ea1i l\xfd kh\xf4ng th\xe0nh c\xf4ng",sticky:!0})}})}})}checkDirtyNumber(t){const i=this.agentForm.value;this.agentForm.controls[t].setErrors(i[t]||0===i[t]?null:{required:!0})}onSubmit(){var t,i,o,r;if(this.canCreateAgentUser_AGENT2&&this.checkDirtyNumber("maxNegative"),this.agentForm.markAllAsTouched(),this.isEditInfo&&this.agentForm.invalid)return;const s=this.agentForm.value,d={avatar:s.avatar,agentId:this.userId,agentName:s.agentName,bankAccount:null===(t=s.bankAccount)||void 0===t?void 0:t.trim(),bankBranchName:s.bankBranchName,bankName:s.bankName,email:null===(i=s.email)||void 0===i?void 0:i.trim(),nameOwnAccount:s.nameOwnAccount,phone:null===(o=s.phone)||void 0===o?void 0:o.trim(),phoneArea:s.phoneArea,representative:s.representative,roleIds:this.listRoleId||[],titleId:this.titleId,identifyId:null===(r=s.identifyId)||void 0===r?void 0:r.trim(),identifyDateProvide:s.identifyDateProvide?R(s.identifyDateProvide).format("DD/MM/YYYY"):"",identifyPlaceProvide:s.identifyPlaceProvide,frontImageIdentify:s.frontImageIdentify,backImageIdentify:s.backImageIdentify,companyAddress:s.companyAddress,companyCode:s.companyCode,companyName:s.companyName,discountPaymentType:(null==s?void 0:s.discountPaymentType)||"NO_DISCOUNT",maxNegative:(null==s?void 0:s.maxNegative)||0,belongSale:(null==s?void 0:s.belongSale)||"",facebookContact:(null==s?void 0:s.facebookContact)||"",referralChannel:(null==s?void 0:s.referralChannel)||"",note:(null==s?void 0:s.note)||"",domainKey:(null==s?void 0:s.domainKey)||"",bookerId:(null==s?void 0:s.bookerId)||""};let m=this._userService.updateAgentUserInfo(d);(this.isCccdFontDirty||this.isCccdBackDirty||this.isAvatarDirty)&&(m=this.createRequestUpdateAgentInfo(d));const f=this._userService.updateAccountStatus({userId:this.userId,status:this.agentDetailDisplay.state}),A=this._userService.updateAgentUserPermisson(d),E=[];this.isEditInfo&&E.push(m),this.isEditPermission&&E.push(A),this.canEditStatus&&E.push(f),this.isLoading=!0,(0,I.D)(E).pipe((0,U.x)(()=>this.isLoading=!1)).subscribe({next:T=>{if(T.every(F=>"OK"===F.status))this.isEdit=!1,this._toastService.add({severity:"success",summary:"C\u1eadp nh\u1eadt th\xe0nh c\xf4ng",detail:"C\u1eadp nh\u1eadt th\xf4ng tin v\xe0 quy\u1ec1n h\u1ea1n nh\xe2n vi\xean th\xe0nh c\xf4ng!",sticky:!1}),this.loadAgentDetail();else{const F=T.filter(P=>"OK"!==P.status).filter((P,J,S)=>S.findIndex(V=>V.id===P.id)===J);null==F||F.forEach(P=>{var J,S;const V=(null===(S=null===(J=P.objectError)||void 0===J?void 0:J.errorDescription)||void 0===S?void 0:S.vi)||"Kh\xf4ng th\u1ec3 c\u1eadp nh\u1eadt th\xf4ng tin v\xe0 quy\u1ec1n h\u1ea1n nh\xe2n vi\xean. Vui l\xf2ng th\u1eed l\u1ea1i!";this._toastService.add({severity:"error",summary:"C\xf3 l\u1ed7i x\u1ea3y ra",detail:V,sticky:!0})})}},error:()=>{this._toastService.add({severity:"error",summary:"C\xf3 l\u1ed7i x\u1ea3y ra",detail:"Kh\xf4ng th\u1ec3 c\u1eadp nh\u1eadt th\xf4ng tin v\xe0 quy\u1ec1n h\u1ea1n nh\xe2n vi\xean. Vui l\xf2ng th\u1eed l\u1ea1i!",sticky:!0})}})}createRequestUpdateAgentInfo(t){return this._userService.getUrlUploadImage({username:this.agentDetailDisplay.identify,avatarContentType:this.avatarFile?this.avatarFile.type:"",avatarExtension:this.getExtension(this.avatarFile?this.avatarFile.name:""),cccdFontContentType:this.cccdFontFile?this.cccdFontFile.type:"",cccdFontExtension:this.getExtension(this.cccdFontFile?this.cccdFontFile.name:""),cccdBackContentType:this.cccdBackFile?this.cccdBackFile.type:"",cccdBackExtension:this.getExtension(this.cccdBackFile?this.cccdBackFile.name:"")}).pipe((0,$.w)(i=>{this.isLoading=!0;const o=[];return this.isCccdFontDirty&&o.push(this.uploadAvatarToS3(i.data.cccdFontUploadUrl,this.cccdFontFile.type,this.cccdFontFile)),this.isCccdBackDirty&&o.push(this.uploadAvatarToS3(i.data.cccdBackUploadUrl,this.cccdBackFile.type,this.cccdBackFile)),this.isAvatarDirty&&o.push(this.uploadAvatarToS3(i.data.avatarUploadUrl,this.avatarFile.type,this.avatarFile)),(0,I.D)(o).pipe((0,U.x)(()=>this.isLoading=!1),(0,$.w)(r=>this._userService.updateAgentUserInfo(t)))}))}getExtension(t){return"."+t.split(".").pop()}uploadAvatarToS3(t,i,o){return this._userService.uploadfileAWSS3(t,i,o)}onCancel(){this._modal.open(k.V0,{title:"H\u1ee7y b\u1ecf thay \u0111\u1ed5i",body:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n h\u1ee7y b\u1ecf thay \u0111\u1ed5i v\xe0 d\u1eebng vi\u1ec7c ch\u1ec9nh s\u1eeda? H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c.",okText:"Kh\xf4ng, ti\u1ebfp t\u1ee5c",cancelText:"C\xf3, h\u1ee7y b\u1ecf"}).afterClosed$.subscribe({next:i=>{i.data||(this.isEdit=!1)}})}onChangeMode(t){this.viewMode=t}clearValidators(t,i){i.forEach(o=>{const r=t.get(o);r.clearValidators(),r.updateValueAndValidity()})}onCheckRoleChange(t){this.listRoleId.includes(t.id)?this.listRoleId=this.listRoleId.filter(i=>i!==t.id):this.listRoleId.push(t.id)}getPermissionByRole(t){var i;const o=this.agentDetail.titlesCanChange.find(r=>r.id===t.id);o&&(this.listRoleId=[],this.titleId=o.id,this.allRolesAdvance=(null===(i=o.advanceRoles)||void 0===i?void 0:i.map(r=>({code:r.id,name:r.name})))||[],this.allRolesDefault=o.defaultPermissions||[])}isUpdateStatus(t){return this._permissionService.hasPermission(C.or.CanEditAccountStatus+"_"+t)}onBackToList(){this._route.navigate(["admin/agent-manage"])}viewCCCD(){this.identifyToggle=!this.identifyToggle,this.identifyToggle&&this.reloadIdentifyImage()}openPopupCCCD(t){this.viewCCCD(),this.identifyModal=this._modal.open(t,{}),this.identifyModal.afterClosed$.subscribe(()=>this.viewCCCD())}closePopupCCCD(){this.identifyModal.close()}reloadIdentifyImage(){this._userService.getIdentifyUrl(this.userId).subscribe({next:t=>{this.cccdFontSrc=t.data.cccdFontUploadUrl,this.previewCCCDFont=t.data.cccdFontUploadUrl,this.cccdBackSrc=t.data.cccdBackUploadUrl,this.previewCCCDBack=t.data.cccdBackUploadUrl}})}uploadAvatar(t){const o=t.target.files[0];o.type.match("image-*")?o&&(this.isAvatarDirty=!0,this.avatarFile=t.target.files[0],this.getPreviewImage(t,"avatar"),this.agentForm.controls.avatar.setValue(this.avatarFile.name)):console.log("Ch\u1ec9 cho ph\xe9p ch\u1ecdn file \u1ea3nh")}uploadCCCDFont(t){this.isCccdFontDirty=!0,this.cccdFontFile=t.target.files[0],this.getPreviewImage(t,"cccdFont"),this.agentForm.controls.frontImageIdentify.setValue(this.cccdFontFile.name)}uploadCCCDBack(t){this.isCccdBackDirty=!0,this.cccdBackFile=t.target.files[0],this.getPreviewImage(t,"cccdBack"),this.agentForm.controls.backImageIdentify.setValue(this.cccdBackFile.name)}closeButtonCCCDFont(t){this.previewCCCDFont="",this.agentForm.controls.frontImageIdentify.setValue(""),t.stopPropagation()}closeButtonCCCDBack(t){this.previewCCCDBack="",this.agentForm.controls.backImageIdentify.setValue(""),t.stopPropagation()}getPreviewImage(t,i){if(t.target.files&&t.target.files[0]){const o=t.target.files[0],r=new FileReader;switch(i){case"avatar":r.onload=s=>this.previewAvatar=r.result;break;case"cccdFont":r.onload=s=>this.previewCCCDFont=r.result;break;case"cccdBack":r.onload=s=>this.previewCCCDBack=r.result}r.readAsDataURL(o)}}outsideClick(){this.isOpen=!1}onDepositSubAgent(){sessionStorage.setItem("idSubAgentDeposit",JSON.stringify(this.userId)),this._router.navigate(["admin/deposit-balance-agent"])}resendEmailVerify(){this.verifyCount>0||this._modal.open(k.V0,{title:"G\u1eedi email k\xedch ho\u1ea1t",body:`<div>B\u1ea1n c\xf3 mu\u1ed1n g\u1eedi email x\xe1c th\u1ef1c t\xe0i kho\u1ea3n \u0111\u1ebfn email <strong>${this.agentDetail.email}</strong> c\u1ee7a \u0111\u1ea1i l\xfd?</div>\n      <div>L\u01b0u \xfd: M\u1ed7i l\u1ea7n y\xeau c\u1ea7u g\u1eedi email s\u1ebd c\xe1ch nhau 5 ph\xfat.</div>`,okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y b\u1ecf"}).afterClosed$.subscribe({next:i=>{i.data&&this._accountVerifyService.agentResendEmailVerify(this.agentDetailDisplay.identify).subscribe({next:o=>{o.success?(this.processCountDown(1e3*o.data.resentCount),this._modal.open(k.z5,{title:"G\u1eedi email k\xedch ho\u1ea1t t\xe0i kho\u1ea3n th\xe0nh c\xf4ng",content:`\u0110\xe3 g\u1eedi email k\xedch ho\u1ea1t \u0111\u1ebfn <strong>${this.agentDetail.email}</strong>`,status:"success"})):this._modal.open(k.z5,{title:"G\u1eedi email k\xedch ho\u1ea1t t\xe0i kho\u1ea3n th\u1ea5t b\u1ea1i",content:`C\xf3 l\u1ed7i ph\xe1t sinh trong qu\xe1 tr\xecnh g\u1eedi email \u0111\u1ebfn <strong>${this.agentDetail.email}</strong>. \n                  Vui l\xf2ng th\u1eed l\u1ea1i sau!`,status:"error"}),this.loadAgentDetail()},error:()=>{this._modal.open(k.z5,{title:"G\u1eedi email k\xedch ho\u1ea1t t\xe0i kho\u1ea3n th\u1ea5t b\u1ea1i",content:`C\xf3 l\u1ed7i ph\xe1t sinh trong qu\xe1 tr\xecnh g\u1eedi email \u0111\u1ebfn <strong>${this.agentDetail.email}</strong>. \n                Vui l\xf2ng th\u1eed l\u1ea1i sau!`,status:"error"}),this.loadAgentDetail()}})}})}processCountDown(t){localStorage.setItem(`${this.TIME_VERIFY_PREFIX}${this.agentDetail.identify}`,`${+new Date+t}`),this.countDownVerifyAccount()}countDownVerifyAccount(){const t=localStorage.getItem(`${this.TIME_VERIFY_PREFIX}${this.agentDetail.identify}`);if(t&&+t-+new Date>0){const i=setInterval(()=>{const o=localStorage.getItem(`${this.TIME_VERIFY_PREFIX}${this.agentDetail.identify}`);if(o){const r=+o-+new Date;r>=0?this.verifyCount=Math.floor(r/1e3):clearInterval(i)}},100)}}getVirtualAccountInfo(){this._paymentService.getVirtualAccountInfo(this.userId).subscribe({next:t=>{"OK"===t.status&&(this.virtualAccountInfo=t.data.map(i=>({virtualAccountExplain:i.virtualAccountExplain,prefixCode:i.prefixCode,virtualAccount:i.prefixCode+i.virtualAccount,beneficiaryName:`${i.prefixCompany}-${i.virtualAccountExplain}`,providerCode:i.provider.code,providerName:i.provider.nameVN,status:i.registrationStatus})),this.virtualAccountInfo&&this.virtualAccountInfo.length&&(this.virtualAccountInvalid=!1))}})}updateVirtualAccount(t){}registerVirtualAccount(){const t=i=>{const o=Object.assign({userID:this.userId},i);this.isLoading=!0,this._paymentService.registerVirtualAccount(o).pipe((0,U.x)(()=>this.isLoading=!1)).subscribe({next:r=>{var s,d;if("OK"===r.status)this._mobileDetectService.isMobile()?this._bottomSheetService.open(W,{headerTitle:"T\u1ea1o t\xe0i kho\u1ea3n \u0111\u1ecbnh danh th\xe0nh c\xf4ng",rightButtonIcon:"",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",restoreFocus:!1,data:{body:`\n                        <div> S\u1ed1 t\xe0i kho\u1ea3n: ${r.data[0].prefixCode}${r.data[0].virtualAccount}</div>\n                        <div> T\xean ch\u1ee7 t\xe0i kho\u1ea3n: ${r.data[0].prefixCompany}-${r.data[0].virtualAccountExplain}</div>\n                        <div> Ng\xe2n h\xe0ng: ${r.data[0].provider.nameVN}</div>\n                        `}}):this._modal.open(W,{title:"T\u1ea1o t\xe0i kho\u1ea3n \u0111\u1ecbnh danh th\xe0nh c\xf4ng",body:`\n                        <div> S\u1ed1 t\xe0i kho\u1ea3n: ${r.data[0].prefixCode}${r.data[0].virtualAccount}</div>\n                        <div> T\xean ch\u1ee7 t\xe0i kho\u1ea3n: ${r.data[0].prefixCompany}-${r.data[0].virtualAccountExplain}</div>\n                        <div> Ng\xe2n h\xe0ng: ${r.data[0].provider.nameVN}</div>\n                        `}),this.virtualAccountInfo=r.data.map(m=>({virtualAccount:m.prefixCode+m.virtualAccount,beneficiaryName:`${m.prefixCompany}-${m.virtualAccountExplain}`,providerCode:m.provider.code,providerName:m.provider.nameVN,status:m.registrationStatus})),this.virtualAccountInfo&&this.virtualAccountInfo.length&&(this.virtualAccountInvalid=!1);else{const m=(null===(d=null===(s=r.objectError)||void 0===s?void 0:s.errorDescription)||void 0===d?void 0:d.vi)||"C\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i sau.";this._mobileDetectService.isMobile()?this._bottomSheetService.open(W,{headerTitle:"T\u1ea1o t\xe0i kho\u1ea3n \u0111\u1ecbnh danh th\u1ea5t b\u1ea1i.",rightButtonIcon:"",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",restoreFocus:!1,data:{body:m}}):this._modal.open(W,{title:"T\u1ea1o t\xe0i kho\u1ea3n \u0111\u1ecbnh danh th\u1ea5t b\u1ea1i.",body:m})}},error:()=>{this._mobileDetectService.isMobile()?this._bottomSheetService.open(W,{headerTitle:"T\u1ea1o t\xe0i kho\u1ea3n \u0111\u1ecbnh danh th\u1ea5t b\u1ea1i.",rightButtonIcon:"",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",restoreFocus:!1,data:{body:"C\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i sau."}}):this._modal.open(W,{title:"T\u1ea1o t\xe0i kho\u1ea3n \u0111\u1ecbnh danh th\u1ea5t b\u1ea1i.",body:"C\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i sau."})}})};if(this._mobileDetectService.isMobile()){const i=this._bottomSheetService.open(Ee,{headerTitle:"T\u1ea1o t\xe0i kho\u1ea3n \u0111\u1ecbnh danh",rightButtonIcon:"",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",restoreFocus:!1,data:{userId:this.userId}});i.containerInstance._leftButtonClick.subscribe(()=>{i.dismiss()}),i.afterDismissed().subscribe({next:o=>{o&&t(o)}})}else this._modal.open(Ee,{userId:this.userId}).afterClosed$.subscribe({next:o=>{o.data&&t(o.data)}})}editVirtualAccount(t){if(this._mobileDetectService.isMobile()){const i=this._bottomSheetService.open(Ae,{headerTitle:"Ch\u1ec9nh s\u1eeda t\xe0i kho\u1ea3n \u0111\u1ecbnh danh",rightButtonIcon:"",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",restoreFocus:!1,data:{virtualAccountData:t}});i.containerInstance._leftButtonClick.subscribe(()=>{i.dismiss()}),i.afterDismissed().subscribe({next:o=>{o&&this.updateVirtualAccount(o)}})}else this._modal.open(Ae,{virtualAccountData:t}).afterClosed$.subscribe({next:o=>{o.data&&this.updateVirtualAccount(o.data)}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.jH),e.Y36(u.KNP),e.Y36(x.gz),e.Y36(j.oE),e.Y36(c.qu),e.Y36(b.KD),e.Y36(y.BX),e.Y36(C.$A),e.Y36(x.F0),e.Y36(ce.l),e.Y36(_e.j),e.Y36(x.F0),e.Y36(lo.P),e.Y36(de.L),e.Y36(xe.t),e.Y36(O.a2))},n.\u0275cmp=e.Xpm({type:n,selectors:[["agent-detail-page"]],standalone:!0,features:[e.jDz],decls:2,vars:2,consts:[["class","py-8 flex justify-center",4,"ngIf"],[4,"ngIf"],[1,"py-8","flex","justify-center"],[1,"w-[764px]","max-w-[764]","flex","flex-col","gap-y-6"],[1,"flex","justify-between"],["cf-button","","size","medium","type","secondary",1,"bg-white",3,"click"],["icon","arrow_left","size","small",1,"mr-2.5","md:hidden"],["class","flex gap-x-3",4,"ngIf"],[1,"py-[20px]","px-6","bg-white","rounded","flex","flex-col","gap-y-3"],[1,"flex","items-center","gap-x-[20px]"],[1,"w-[64px]","h-[64px]","overflow-hidden","relative"],["alt","",1,"object-cover","h-full","w-full","rounded-full",3,"src"],["class","absolute bottom-0 right-0 w-[28px] h-[28px] rounded-full bg-[#505050] opacity-[.85] flex justify-center items-center cursor-pointer",4,"ngIf"],["accept","image/*","name","ufile","type","file",1,"hidden",3,"change"],["inputFile",""],[1,"flex","flex-col"],[1,"text-heading-md"],[1,"text-body-lg"],[1,"flex","gap-x-3"],[1,"flex","flex-col","gap-y-2","justify-between","items-center"],[1,"text-express-sm"],["type","inverted",3,"color"],["class","!max-w-none !w-[186px]","textField","name","valueField","code","size","small",3,"data","allowSearch","ngModel","ngModelChange",4,"ngIf","ngIfElse"],["contentTpl",""],[1,"flex","justify-between","border-t","border-neutral-gray-1","pt-3"],[1,"flex","flex-col","gap-y-1.5"],[1,"text-heading-lg"],[1,""],[1,"text-neutral-gray-4"],["class","md:hidden","cf-button","","size","medium",3,"click",4,"ngIf"],["cf-button","","size","medium",3,"click",4,"ngIf"],[1,"!w-9","!h-9"],["cdkOverlayOrigin",""],["trigger","","originOverlay","cdkOverlayOrigin"],["cf-button","","size","medium","type","secondary",1,"!w-9","!h-9","justify-center","bg-neutral-white",3,"click"],["icon","options_horizontal","size","small"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","overlayOutsideClick"],["cf-button","","size","medium",1,"md:hidden",3,"click"],["cf-button","","size","medium",3,"click"],["icon","edit_alt","size","small",1,"mr-2.5","md:hidden"],[1,"shadow-cf-lg","bg-neutral-white","min-w-[150px]","flex","flex-col","rounded-md"],["class","flex items-center py-2 px-3 text-body-md-short text-neutral-gray-6 hover:bg-neutral-gray-1 hover:cursor-pointer",3,"click",4,"ngIf"],["class","hidden md:flex items-center py-2 px-3 text-body-md-short text-neutral-gray-6 hover:bg-neutral-gray-1 hover:cursor-pointer",3,"click",4,"ngIf"],[1,"flex","items-center","py-2","px-3","text-body-md-short","text-neutral-gray-6","hover:bg-neutral-gray-1","hover:cursor-pointer",3,"click"],["class","text-neutral-gray-4",4,"ngIf"],[1,"hidden","md:flex","items-center","py-2","px-3","text-body-md-short","text-neutral-gray-6","hover:bg-neutral-gray-1","hover:cursor-pointer",3,"click"],["cf-button","","size","medium",3,"disabled","click",4,"ngIf","ngIfElse"],["elseTempSaveBtn",""],["icon","circle_error","size","small",1,"mr-2.5"],["cf-button","","size","medium",3,"disabled","click"],["icon","save","size","small",1,"mr-2.5"],[1,"absolute","bottom-0","right-0","w-[28px]","h-[28px]","rounded-full","bg-[#505050]","opacity-[.85]","flex","justify-center","items-center","cursor-pointer"],["icon","camera","size","small",1,"text-white",3,"click"],["textField","name","valueField","code","size","small",1,"!max-w-none","!w-[186px]",3,"data","allowSearch","ngModel","ngModelChange"],[1,"rounded","py-1","px-3","border","border-neutral-gray-2"],["class","text-body-md flex items-center",4,"ngIf"],[1,"text-body-md","flex","items-center"],["icon","circle_check","size","small",1,"text-secondary-1-4","mr-2.5"],["icon","circle_remove","size","small",1,"mr-2.5"],["icon","circle_warning",1,"text-secondary-7-3","mr-2"],[1,"flex","gap-x-3","mb-4"],["class","flex items-center gap-x-2.5 py-1.5 px-4 text-heading-xs rounded-full cursor-pointer bg-white border border-neutral-gray-3",3,"ngClass","click",4,"ngIf"],[1,"flex","items-center","gap-x-2.5","py-1.5","px-4","text-heading-xs","rounded-full","cursor-pointer","bg-white","border","border-neutral-gray-3",3,"ngClass","click"],["icon","circle_information","size","small"],["icon","user","size","small"],[1,"flex","gap-x-[20px]","mb-4"],[1,"w-1","bg-[#fcb40a]"],[1,"bg-neutral-white","rounded","p-6"],[1,"grid","grid-cols-2","gap-4"],[1,"w-full","h-10","py-2.5","px-3","text-body-md","text-neutral-gray-6","rounded","border","border-neutral-gray-3","bg-neutral-gray-1"],[1,"flex","flex-col","gap-y-1.5","mt-4"],[1,"border","border-neutral-gray-3","bg-neutral-gray-1","rounded","py-2.5","px-3","text-body-md",3,"disabled","value"],[1,"border","border-dashed","border-neutral-gray-3","rounded","mt-4"],[1,"flex","justify-between","items-center","gap-x-2","py-2.5","px-4",3,"click"],[1,"text-espressive-sm","text-black","flex-1","flex","items-center","gap-x-2"],["icon","document","size","small"],[1,"cursor-pointer"],["icon","remove","size","small",4,"ngIf"],["icon","plus","size","small",4,"ngIf"],["class","flex flex-col gap-y-2 border-t border-neutral-gray-1 py-2.5 px-4",4,"ngIf"],[1,"mt-8"],[1,"grid","grid-cols-2","gap-4","bg-neutral-white","rounded","p-6"],[1,"w-full","h-10","py-2.5","px-3","text-body-md","text-neutral-gray-6","rounded","border","border-neutral-gray-3","bg-neutral-gray-1","overflow-ellipsis","whitespace-nowrap","overflow-hidden"],["class","mt-8",4,"ngIf"],["class","flex flex-col gap-4 bg-neutral-white rounded p-6",4,"ngIf"],["class","grid grid-cols-2 gap-4 bg-neutral-white rounded p-6",4,"ngIf"],["icon","remove","size","small"],["icon","plus","size","small"],[1,"flex","flex-col","gap-y-2","border-t","border-neutral-gray-1","py-2.5","px-4"],[1,"w-full","h-10","py-2.5","px-3","text-body-md","text-neutral-gray-6","rounded","border","border-neutral-gray-3","bg-neutral-gray-1","truncate"],[1,"flex","flex-col","gap-4","bg-neutral-white","rounded","p-6"],[1,"flex","justify-between","gap-4"],[1,"w-full","flex","flex-col","gap-y-1.5"],[1,"h-10","py-2.5","px-3","text-body-md","text-neutral-gray-6","rounded","border","border-neutral-gray-3","bg-neutral-gray-1"],[1,"mt-[22px]"],["cf-button","","size","medium","type","secondary",3,"click",4,"ngIf"],["cccdPopup",""],["cf-button","","size","medium","type","secondary",3,"click"],["icon","eye","size","small",1,"mr-2.5"],["icon","eye_off","size","small",1,"mr-2.5"],[1,"col-start-1","col-end-3"],[1,"flex","flex-col","rounded-lg","bg-neutral-white"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-b-neutral-gray-1"],[1,"text-heading-xs","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"flex","items-center","gap-x-4","p-6","md:flex-col","md:gap-2"],["class","w-[476px] h-[280px] object-contain",3,"src",4,"ngIf"],[1,"w-[476px]","h-[280px]","object-contain",3,"src"],["class","text-express-sm",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"w-full","flex","flex-col","gap-y-3"],[1,"flex","justify-between","items-center"],[1,"flex","items-center","gap-x-2"],["class","px-2 py-1 bg-secondary-3-1 text-body-sm text-secondary-3-4 rounded flex gap-x-1 items-center",4,"ngIf"],[1,"w-full","py-2.5","px-3","text-body-md","text-neutral-gray-6","rounded","border","border-neutral-gray-3","bg-neutral-gray-1"],[1,"px-2","py-1","bg-secondary-3-1","text-body-sm","text-secondary-3-4","rounded","flex","gap-x-1","items-center"],[1,"p-6","bg-neutral-white","rounded","shadow-cf-md","flex","flex-col","gap-y-6"],[1,"flex","gap-x-8"],[1,"flex","flex-col","gap-y-2","w-[260px]"],[1,"text-heading-sm"],[1,"text-body-lg","text-neutral-gray-4"],[1,"flex","flex-col","flex-1","gap-y-4"],[1,"w-full","border-t","border-neutral-gray-1"],[3,"checked","disabled"],[1,"text-express-sm",3,"CfRequired"],[1,"grow-[400]","!w-full",3,"status"],["cf-input","","size","medium","placeholder","Nh\u1eadp",3,"formControl"],["cfHint","",3,"hint",4,"ngIf"],[1,"text-espressive-md","text-neutral-gray-5","mb-1.5","empty:!m-0"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5",3,"CfRequired"],["textField","name","valueField","code","size","small","placeholder","Nh\u1eadp m\xe3",1,"!w-full","!max-w-full",3,"status","data","formControl"],["cfSuffix","",1,"w-[65%]","px-3","text-body-md","flex","gap-x-2","items-center","border-l","border-neutral-gray-2"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i","CfNumberic","",3,"formControl"],[1,"mt-4"],["textField","name","valueField","code","placeholder","Ch\u1ecdn ng\u01b0\u1eddi gi\u1edbi thi\u1ec7u",1,"!max-w-none","w-full",3,"status","data","allowSearch","formControl"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5"],["cf-input","","placeholder","Ghi ch\xfa m\xf4 t\u1ea3 chi ti\u1ebft v\u1ec1 \u0111\u1ea1i l\xfd n\xe0y",1,"border","border-neutral-gray-3","rounded","px-3","text-body-md","w-full","outline-none","placeholder-neutral-gray-4","py-2",3,"formControl"],["cf-input","","CfNumberic","","size","medium","placeholder","Nh\u1eadp",3,"formControl"],["textField","name","valueField","code","placeholder","Ch\u1ecdn ng\xe2n h\xe0ng",1,"!w-full","!max-w-full",3,"status","data","formControl","allowSearch"],["cfHint","",3,"hint"],["cf-input","","size","medium","placeholder","Nh\u1eadp trang facebook c\u1ee7a \u0111\u1ea1i l\xfd",1,"truncate",3,"formControl"],["textField","name","valueField","code","placeholder","Ch\u1ecdn k\xeanh gi\u1edbi thi\u1ec7u",1,"!max-w-none","w-full","bg-neutral-white",3,"status","data","allowSearch","formControl"],[1,"p-6","bg-neutral-white","rounded-lg","shadow-cf-md"],[1,"flex","flex-nowrap","gap-x-4"],["textField","text","valueField","value","placeholder","Ch\u1ecdn chi\u1ebft kh\u1ea5u",1,"!w-full","!max-w-none",3,"status","data","allowSearch","formControl"],[1,"!w-full",3,"status"],["size","medium",3,"placeholder","negative","formControl","ngModelChange"],["cf-input","","size","medium","placeholder","Nh\u1eadp s\u1ed1 CCCD","CfNumberic","",3,"formControl"],["cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Ch\u1ecdn ng\xe0y c\u1ea5p CCCD",1,"py-[7px]",3,"displayMonths","maxDate","formControl","input","dateSelect"],["dateFrom","cfDatepicker"],["cf-input","","size","medium","placeholder","Nh\u1eadp n\u01a1i c\u1ea5p",3,"formControl"],[1,"text-espressive-sm"],[1,"h-[140px]","w-[140px]","bg-no-repeat","bg-center","bg-cover","rounded","border","border-neutral-gray-2","flex","items-center","justify-center","cursor-pointer","relative",3,"click"],["class","text-express-sm text-center px-6 flex flex-col justify-center items-center gap-y-3",4,"ngIf"],["class","rounded-full bg-neutral-gray-4 absolute flex items-center justify-between right-0 top-0 p-1 translate-x-1/2 -translate-y-1/2",3,"click",4,"ngIf"],["type","file",1,"hidden",3,"change"],["fileUploadCCCDFont",""],["fileUploadCCCDBack",""],[1,"text-express-sm","text-center","px-6","flex","flex-col","justify-center","items-center","gap-y-3"],["icon","cloud_upload","size","medium"],[1,"rounded-full","bg-neutral-gray-4","absolute","flex","items-center","justify-between","right-0","top-0","p-1","translate-x-1/2","-translate-y-1/2",3,"click"],["icon","close","size","small",1,"text-neutral-white"],[1,"grow-[400]","!w-full"],["cf-input","","size","medium","placeholder","Nh\u1eadp s\u1ed1 doamin key",3,"formControl"],["CfAlphanumeric","","cf-input","","size","medium","placeholder","BKVN077751",3,"formControl"],["textField","name","valueField","code","placeholder","Ch\u1ecdn vai tr\xf2",1,"!w-full","!max-w-none",3,"status","data","ngModel","allowSearch","ngModelChange","selectedChange"],[3,"CfRequired"],["class","w-full border-t border-neutral-gray-1",4,"ngIf"],["class","flex gap-x-8",4,"ngIf"],[3,"checked","checkedChange"]],template:function(t,i){1&t&&(e.YNc(0,nr,47,19,"div",0),e.YNc(1,ir,1,0,"cf-spinner",1)),2&t&&(e.Q6J("ngIf",i.agentDetailDisplay),e.xp6(1),e.Q6J("ngIf",i.isLoading))},dependencies:[h.ez,h.mk,h.sg,h.O5,h.JJ,c.u5,c.Fj,c.JJ,c.On,c.UX,c.oH,u.AxE,u.Sm8,v.N8,v.Xq,X.C,l.j$,l.ND,l.BN,l.v2,l.lt,H.Cs,ae.I,N.q,ne.b,k.OR,Ce.AS,re.z,ge.f,oe.pI,oe.xu,oo.j],encapsulation:2}),n})()},76331:(te,L,p)=>{p.d(L,{I:()=>K});var h=p(36895),c=p(94650),l=p(24006);function g(x,b){if(1&x&&(c.ynx(0),c._uU(1),c.BQk()),2&x){const w=c.oxw(2);c.xp6(1),c.hij(" ",w.checkedChildren," ")}}function v(x,b){if(1&x&&c._uU(0),2&x){const w=c.oxw(2);c.hij(" ",w.unCheckedChildren," ")}}function y(x,b){if(1&x&&(c.ynx(0),c.YNc(1,g,2,1,"ng-container",2),c.YNc(2,v,1,1,"ng-template",null,3,c.W1O),c.BQk()),2&x){const w=c.MAs(3),q=c.oxw();c.xp6(1),c.Q6J("ngIf",q.checked)("ngIfElse",w)}}function I(x,b){1&x&&(c.ynx(0),c.Hsn(1,0,["class","text-body-lg text-neutral-gray-6"]),c.BQk())}const N=function(x,b){return{"checked !pl-2 !pr-[28px] !text-neutral-white":x,"opacity-50 pointer-events-none cursor-default":b}},e=["*"];let K=(()=>{class x{constructor(){this.size="medium",this.disabled=!1,this.checked=!1,this.checkedChildren="",this.unCheckedChildren="",this.type="label",this.checkedChange=new c.vpe,this.color="#fcb40a",this.statusColor=""}ngOnChanges(w){(w.checked||w.color)&&this.statusColorChange()}onToggleSwitch(){this.disabled||(this.checked=!this.checked,this.checkedChange.emit(this.checked),this.statusColorChange())}statusColorChange(){this.statusColor=this.checked?this.color:"#ccc"}}return x.\u0275fac=function(w){return new(w||x)},x.\u0275cmp=c.Xpm({type:x,selectors:[["cf-switch"]],hostAttrs:[1,"flex","gap-x-3","items-center","inline-flex"],inputs:{size:"size",disabled:"disabled",checked:"checked",checkedChildren:"checkedChildren",unCheckedChildren:"unCheckedChildren",type:"type",color:"color"},outputs:{checkedChange:"checkedChange"},standalone:!0,features:[c.TTD,c.jDz],ngContentSelectors:e,decls:3,vars:8,consts:[["type","button","id","switch-toggle",1,"cursor-pointer","min-w-[44px]","h-[24px]","pl-[28px]","pr-2","text-express-md","text-neutral-gray-6","bg-[#ccc]","block","rounded-full","relative","after:bg-neutral-white",3,"ngClass","click"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["uncheckTemplate",""]],template:function(w,q){1&w&&(c.F$t(),c.TgZ(0,"button",0),c.NdJ("click",function(){return q.onToggleSwitch()}),c.YNc(1,y,4,2,"ng-container",1),c.qZA(),c.YNc(2,I,2,0,"ng-container",1)),2&w&&(c.Udp("background-color",q.statusColor),c.Q6J("ngClass",c.WLB(5,N,q.checked,q.disabled)),c.xp6(1),c.Q6J("ngIf","inside"===q.type),c.xp6(1),c.Q6J("ngIf","label"===q.type))},dependencies:[h.ez,h.mk,h.O5,l.u5],styles:['#switch-toggle[_ngcontent-%COMP%]:after{content:"";position:absolute;top:2px;left:3px;width:20px;height:20px;border-radius:20px;transition:.3s}#switch-toggle.checked[_ngcontent-%COMP%]:after{left:calc(100% - 5px);transform:translate(-90%)}#switch-toggle[_ngcontent-%COMP%]:active:after{width:20px}']}),x})()}}]);