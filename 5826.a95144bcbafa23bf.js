"use strict";(self.webpackChunkcheapflightclient=self.webpackChunkcheapflightclient||[]).push([[5826],{82908:(ge,z,u)=>{u.d(z,{P3:()=>fe,Io:()=>ue});var M=u(80529),t=u(88001),x=u(50494),S=u(54004),K=u(99251),e=u(97582),n=u(87067),f=u(43429);class m{}(0,e.gn)([(0,n.C)()],m.prototype,"status",void 0),(0,e.gn)([(0,f.D)(()=>X),(0,n.C)()],m.prototype,"data",void 0),(0,e.gn)([(0,n.C)()],m.prototype,"objectError",void 0),(0,e.gn)([(0,n.C)()],m.prototype,"success",void 0);class X{}(0,e.gn)([(0,f.D)(()=>W),(0,n.C)()],X.prototype,"bookingContact",void 0);class W{}(0,e.gn)([(0,n.C)()],W.prototype,"email",void 0),(0,e.gn)([(0,n.C)()],W.prototype,"name",void 0),(0,e.gn)([(0,n.C)()],W.prototype,"phone",void 0);class b{}(0,e.gn)([(0,n.C)()],b.prototype,"status",void 0),(0,e.gn)([(0,f.D)(()=>L),(0,n.C)()],b.prototype,"data",void 0),(0,e.gn)([(0,n.C)()],b.prototype,"objectError",void 0);class L{}(0,e.gn)([(0,n.C)()],L.prototype,"airline",void 0),(0,e.gn)([(0,n.C)()],L.prototype,"bookingCode",void 0),(0,e.gn)([(0,f.D)(()=>F),(0,n.C)()],L.prototype,"cancelCharge",void 0),(0,e.gn)([(0,f.D)(()=>q),(0,n.C)()],L.prototype,"totalCharge",void 0),(0,e.gn)([(0,f.D)(()=>te),(0,n.C)()],L.prototype,"cancelJourney",void 0),(0,e.gn)([(0,f.D)(()=>q),(0,n.C)()],L.prototype,"nonRefund",void 0),(0,e.gn)([(0,f.D)(()=>q),(0,n.C)()],L.prototype,"refund",void 0);class F{}(0,e.gn)([(0,n.C)()],F.prototype,"base",void 0),(0,e.gn)([(0,n.C)()],F.prototype,"applied",void 0),(0,e.gn)([(0,n.C)()],F.prototype,"surCharge",void 0),(0,e.gn)([(0,n.C)()],F.prototype,"tax",void 0),(0,e.gn)([(0,n.C)()],F.prototype,"total",void 0),(0,e.gn)([(0,n.C)()],F.prototype,"discount",void 0),(0,e.gn)([(0,f.D)(()=>N),(0,n.C)()],F.prototype,"currency",void 0);class N{}(0,e.gn)([(0,n.C)()],N.prototype,"baseCurrency",void 0),(0,e.gn)([(0,n.C)()],N.prototype,"code",void 0),(0,e.gn)([(0,n.C)()],N.prototype,"description",void 0),(0,e.gn)([(0,n.C)()],N.prototype,"exchangeRate",void 0);class q{}(0,e.gn)([(0,n.C)()],q.prototype,"base",void 0),(0,e.gn)([(0,n.C)()],q.prototype,"applied",void 0),(0,e.gn)([(0,n.C)()],q.prototype,"surCharge",void 0),(0,e.gn)([(0,n.C)()],q.prototype,"tax",void 0),(0,e.gn)([(0,n.C)()],q.prototype,"total",void 0),(0,e.gn)([(0,n.C)()],q.prototype,"discount",void 0),(0,e.gn)([(0,f.D)(()=>N),(0,n.C)()],q.prototype,"currency",void 0);class te{}(0,e.gn)([(0,f.D)(()=>ce),(0,n.C)()],te.prototype,"journeyInfo",void 0),(0,e.gn)([(0,f.D)(()=>Q),(0,n.C)()],te.prototype,"charge",void 0);class ce{}(0,e.gn)([(0,n.C)()],ce.prototype,"key",void 0);class Q{}(0,e.gn)([(0,n.C)()],Q.prototype,"base",void 0),(0,e.gn)([(0,n.C)()],Q.prototype,"applied",void 0),(0,e.gn)([(0,n.C)()],Q.prototype,"surCharge",void 0),(0,e.gn)([(0,n.C)()],Q.prototype,"tax",void 0),(0,e.gn)([(0,n.C)()],Q.prototype,"total",void 0),(0,e.gn)([(0,n.C)()],Q.prototype,"discount",void 0),(0,e.gn)([(0,f.D)(()=>N),(0,n.C)()],Q.prototype,"currency",void 0);class ie{}(0,e.gn)([(0,n.C)()],ie.prototype,"status",void 0),(0,e.gn)([(0,f.D)(()=>V),(0,n.C)()],ie.prototype,"data",void 0),(0,e.gn)([(0,n.C)()],ie.prototype,"objectError",void 0);class V{}(0,e.gn)([(0,n.C)()],V.prototype,"airline",void 0),(0,e.gn)([(0,n.C)()],V.prototype,"pnr",void 0),(0,e.gn)([(0,f.D)(()=>$),(0,n.C)()],V.prototype,"charge",void 0),(0,e.gn)([(0,n.C)()],V.prototype,"makePayment",void 0),(0,e.gn)([(0,f.D)(()=>v),(0,n.C)()],V.prototype,"cancelJourney",void 0),(0,e.gn)([(0,f.D)(()=>J),(0,n.C)()],V.prototype,"paymentInfo",void 0);class ${}(0,e.gn)([(0,n.C)()],$.prototype,"key",void 0),(0,e.gn)([(0,f.D)(()=>Y),(0,n.C)()],$.prototype,"chargeType",void 0),(0,e.gn)([(0,f.D)(()=>G),(0,n.C)()],$.prototype,"charge",void 0),(0,e.gn)([(0,n.C)()],$.prototype,"description",void 0),(0,e.gn)([(0,n.C)()],$.prototype,"extra",void 0);class Y{}(0,e.gn)([(0,n.C)()],Y.prototype,"code",void 0),(0,e.gn)([(0,n.C)()],Y.prototype,"type",void 0),(0,e.gn)([(0,f.D)(()=>k),(0,n.C)()],Y.prototype,"description",void 0);class k{}(0,e.gn)([(0,n.C)()],k.prototype,"en",void 0),(0,e.gn)([(0,n.C)()],k.prototype,"vi",void 0);class G{}(0,e.gn)([(0,n.C)()],G.prototype,"base",void 0),(0,e.gn)([(0,n.C)()],G.prototype,"applied",void 0),(0,e.gn)([(0,n.C)()],G.prototype,"surCharge",void 0),(0,e.gn)([(0,n.C)()],G.prototype,"tax",void 0),(0,e.gn)([(0,n.C)()],G.prototype,"total",void 0),(0,e.gn)([(0,n.C)()],G.prototype,"discount",void 0),(0,e.gn)([(0,f.D)(()=>h),(0,n.C)()],G.prototype,"currency",void 0);class h{}(0,e.gn)([(0,n.C)()],h.prototype,"baseCurrency",void 0),(0,e.gn)([(0,n.C)()],h.prototype,"code",void 0),(0,e.gn)([(0,n.C)()],h.prototype,"description",void 0),(0,e.gn)([(0,n.C)()],h.prototype,"exchangeRate",void 0);class v{}(0,e.gn)([(0,n.C)()],v.prototype,"airline",void 0),(0,e.gn)([(0,n.C)()],v.prototype,"airlineName",void 0),(0,e.gn)([(0,n.C)()],v.prototype,"duration",void 0),(0,e.gn)([(0,n.C)()],v.prototype,"delay",void 0),(0,e.gn)([(0,n.C)()],v.prototype,"stopOvernight",void 0),(0,e.gn)([(0,n.C)()],v.prototype,"fareOptions",void 0),(0,e.gn)([(0,n.C)()],v.prototype,"key",void 0),(0,e.gn)([(0,n.C)()],v.prototype,"leg",void 0),(0,e.gn)([(0,n.C)()],v.prototype,"numOfStops",void 0),(0,e.gn)([(0,n.C)()],v.prototype,"operating",void 0),(0,e.gn)([(0,n.C)()],v.prototype,"operatingName",void 0),(0,e.gn)([(0,f.D)(()=>l),(0,n.C)()],v.prototype,"segments",void 0),(0,e.gn)([(0,f.D)(()=>A),(0,n.C)()],v.prototype,"departure",void 0),(0,e.gn)([(0,f.D)(()=>re),(0,n.C)()],v.prototype,"arrival",void 0),(0,e.gn)([(0,n.C)()],v.prototype,"expireTime",void 0),(0,e.gn)([(0,n.C)()],v.prototype,"fareClass",void 0),(0,e.gn)([(0,n.C)()],v.prototype,"fareClassCode",void 0);class l{}(0,e.gn)([(0,n.C)()],l.prototype,"key",void 0),(0,e.gn)([(0,n.C)()],l.prototype,"id",void 0),(0,e.gn)([(0,n.C)()],l.prototype,"index",void 0),(0,e.gn)([(0,n.C)()],l.prototype,"airline",void 0),(0,e.gn)([(0,n.C)()],l.prototype,"airlineName",void 0),(0,e.gn)([(0,n.C)()],l.prototype,"duration",void 0),(0,e.gn)([(0,n.C)()],l.prototype,"delay",void 0),(0,e.gn)([(0,n.C)()],l.prototype,"flightNumber",void 0),(0,e.gn)([(0,n.C)()],l.prototype,"operating",void 0),(0,e.gn)([(0,n.C)()],l.prototype,"operatingName",void 0),(0,e.gn)([(0,n.C)()],l.prototype,"stopPoint",void 0),(0,e.gn)([(0,f.D)(()=>A),(0,n.C)()],l.prototype,"departure",void 0),(0,e.gn)([(0,f.D)(()=>re),(0,n.C)()],l.prototype,"arrival",void 0),(0,e.gn)([(0,n.C)()],l.prototype,"bookingClassArr",void 0),(0,e.gn)([(0,f.D)(()=>oe),(0,n.C)()],l.prototype,"bookedInfo",void 0),(0,e.gn)([(0,n.C)()],l.prototype,"fareType",void 0),(0,e.gn)([(0,n.C)()],l.prototype,"modelAirplane",void 0),(0,e.gn)([(0,n.C)()],l.prototype,"modelAirplaneName",void 0),(0,e.gn)([(0,n.C)()],l.prototype,"codeAirline",void 0);class A{}(0,e.gn)([(0,f.D)(()=>w),(0,n.C)()],A.prototype,"airport",void 0),(0,e.gn)([(0,n.C)()],A.prototype,"localTime",void 0),(0,e.gn)([(0,n.C)()],A.prototype,"scheduleTime",void 0);class w{}(0,e.gn)([(0,n.C)()],w.prototype,"code",void 0),(0,e.gn)([(0,n.C)()],w.prototype,"name",void 0),(0,e.gn)([(0,f.D)(()=>ae),(0,n.C)()],w.prototype,"utcOffset",void 0);class ae{}(0,e.gn)([(0,n.C)()],ae.prototype,"zone",void 0),(0,e.gn)([(0,n.C)()],ae.prototype,"iso",void 0);class re{}(0,e.gn)([(0,f.D)(()=>w),(0,n.C)()],re.prototype,"airport",void 0),(0,e.gn)([(0,n.C)()],re.prototype,"localTime",void 0),(0,e.gn)([(0,n.C)()],re.prototype,"scheduleTime",void 0);class oe{}(0,e.gn)([(0,n.C)()],oe.prototype,"fareClass",void 0),(0,e.gn)([(0,n.C)()],oe.prototype,"status",void 0),(0,e.gn)([(0,n.C)()],oe.prototype,"fareType",void 0),(0,e.gn)([(0,n.C)()],oe.prototype,"fareBasic",void 0);class J{}(0,e.gn)([(0,n.C)()],J.prototype,"passengerKey",void 0),(0,e.gn)([(0,n.C)()],J.prototype,"passengerType",void 0),(0,e.gn)([(0,n.C)()],J.prototype,"passengerFirstName",void 0),(0,e.gn)([(0,n.C)()],J.prototype,"passengerGender",void 0),(0,e.gn)([(0,n.C)()],J.prototype,"passengerNamePrefix",void 0),(0,e.gn)([(0,n.C)()],J.prototype,"passengerLastName",void 0),(0,e.gn)([(0,n.C)()],J.prototype,"ticket",void 0),(0,e.gn)([(0,n.C)()],J.prototype,"type",void 0),(0,e.gn)([(0,n.C)()],J.prototype,"currencyCode",void 0),(0,e.gn)([(0,n.C)()],J.prototype,"description",void 0),(0,e.gn)([(0,n.C)()],J.prototype,"paymentMethod",void 0),(0,e.gn)([(0,n.C)()],J.prototype,"paymentTime",void 0),(0,e.gn)([(0,n.C)()],J.prototype,"paymentTimeZone",void 0),(0,e.gn)([(0,n.C)()],J.prototype,"paymentRef",void 0),(0,e.gn)([(0,n.C)()],J.prototype,"amount",void 0);class ne{}(0,e.gn)([(0,n.C)()],ne.prototype,"status",void 0),(0,e.gn)([(0,f.D)(()=>pe),(0,n.C)()],ne.prototype,"data",void 0),(0,e.gn)([(0,n.C)()],ne.prototype,"objectError",void 0),(0,e.gn)([(0,n.C)()],ne.prototype,"success",void 0);class pe{}(0,e.gn)([(0,f.D)(()=>K.eG),(0,n.C)()],pe.prototype,"bookingData",void 0),(0,e.gn)([(0,f.D)(()=>de),(0,n.C)()],pe.prototype,"rebookInfo",void 0);class de{}(0,e.gn)([(0,n.C)()],de.prototype,"mode",void 0),(0,e.gn)([(0,n.C)()],de.prototype,"rebookFrom",void 0),(0,e.gn)([(0,n.C)()],de.prototype,"phone",void 0);var he=u(94650);const ee={headers:new M.WM({"Content-Type":"application/json"})};let fe=(()=>{class y{constructor(U,H){this.http=U,this.appConfig=H}getBookingDetail(U,H,ve=!1){return this.http.post(this.appConfig.apiUrl+"flight/booking-retriver",JSON.stringify({airline:H,bookingCode:U,refresh:ve}),ee).pipe((0,S.U)(_e=>(0,x.yE)(K.JG,_e,{excludeExtraneousValues:!0})))}quotationCancelJourney(U){return this.http.post(this.appConfig.apiUrl+"ticket/quotation-journey-cancel",JSON.stringify(U),ee).pipe((0,S.U)(H=>(0,x.yE)(b,H,{excludeExtraneousValues:!0})))}cancelJourney(U){return this.http.post(this.appConfig.apiUrl+"ticket/cancel-journey-reservation",JSON.stringify(U),ee).pipe((0,S.U)(H=>(0,x.yE)(ie,H,{excludeExtraneousValues:!0})))}getBookingInfo(U){return this.http.post(this.appConfig.apiUrl+"flight/get-pnr-info",JSON.stringify(U),ee).pipe((0,S.U)(H=>(0,x.yE)(m,H,{excludeExtraneousValues:!0})))}getRebookPnrSnapshot(U){return this.http.post(this.appConfig.apiUrl+"flight/get-rebook-pnr-snapshot",JSON.stringify(U),ee)}rebookPnr(U){return this.http.post(this.appConfig.apiUrl+"flight/rebook-pnr",JSON.stringify(U),ee).pipe((0,S.U)(H=>(0,x.yE)(ne,H,{excludeExtraneousValues:!0})))}}return y.\u0275fac=function(U){return new(U||y)(he.LFG(M.eN),he.LFG(t.qB))},y.\u0275prov=he.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();var ue=(()=>{return(y=ue||(ue={})).UPDATE_JOURNEY="UPDATE_JOURNEY",y.ADD_JOURNEY="ADD_JOURNEY",y.NONE="NONE",ue;var y})()},27849:(ge,z,u)=>{u.d(z,{h:()=>t});var M=u(94650);let t=(()=>{class x{constructor(){}getBookingDetailReroutingData(){return JSON.parse(sessionStorage.getItem("bookingDetailReroutingData"))}setBookingDetailReroutingData(K){sessionStorage.setItem("bookingDetailReroutingData",JSON.stringify(K)),this.bookingDetailReroutingData=K}}return x.\u0275fac=function(K){return new(K||x)},x.\u0275prov=M.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})()},51716:(ge,z,u)=>{u.d(z,{M:()=>W});var M=u(80529),t=u(88001),x=u(50494),S=u(54004),K=u(40105),e=u(97582),n=u(87067);let f=(()=>{class b{}return(0,e.gn)([(0,n.C)()],b.prototype,"status",void 0),(0,e.gn)([(0,n.C)()],b.prototype,"data",void 0),(0,e.gn)([(0,n.C)()],b.prototype,"objectError",void 0),(0,e.gn)([(0,n.C)()],b.prototype,"success",void 0),b})();var m=u(94650);const X={headers:new M.WM({"Content-Type":"application/json"})};let W=(()=>{class b{constructor(F,N){this.http=F,this.appConfig=N}getListJourneyUpdate(F){return this.http.post(this.appConfig.apiUrl+"flight/get-list-update-journey",JSON.stringify(F),X).pipe((0,S.U)(N=>(0,x.yE)(K.sH,N,{excludeExtraneousValues:!0})))}quotationJourneyUpdate(F){return this.http.post(this.appConfig.apiUrl+"ticket/quotation-update-journey",JSON.stringify(F),X)}updateJourney(F){return this.http.post(this.appConfig.apiUrl+"ticket/update-journey-reservation",JSON.stringify(F),X).pipe((0,S.U)(N=>(0,x.yE)(f,N,{excludeExtraneousValues:!0})))}}return b.\u0275fac=function(F){return new(F||b)(m.LFG(M.eN),m.LFG(t.qB))},b.\u0275prov=m.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})()},67411:(ge,z,u)=>{u.d(z,{r:()=>we});var M=u(36895),t=u(94650),x=u(24006),S=u(72506),K=u(2982),e=u(44890),n=u(27361),f=u(40899),m=u(15439),W=u(77296),b=u(61135),L=u(77579),F=u(82722),N=u(28746),q=u(46590),te=u(54004),ce=u(39646),Q=u(17489),V=u(67534),$=u(83700),Y=u(82908),k=u(88001),G=u(4688),h=u(51948),v=u(97579),l=u(51716),A=u(27849),w=u(9381),ae=u(10908),re=u(62733),oe=u(28490),J=u(3401),ne=u(40105),pe=u(21174);function de(d,T){if(1&d){const i=t.EpF();t.TgZ(0,"button",41),t.NdJ("click",function(){t.CHM(i);const o=t.oxw(2);return t.KtG(o.onQuotation())}),t._UZ(1,"cf-icon",42),t.TgZ(2,"span"),t._uU(3,"B\xe1o gi\xe1"),t.qZA()()}}function he(d,T){1&d&&(t.TgZ(0,"div")(1,"div",43),t._UZ(2,"img",44),t.TgZ(3,"div",45),t._uU(4,"Kh\xf4ng c\xf3 chuy\u1ebfn bay n\xe0o"),t.qZA(),t.TgZ(5,"div",46),t._uU(6," Vui l\xf2ng s\u1eeda \u0111\u1ed5i b\u1ed9 l\u1ecdc ho\u1eb7c thay \u0111\u1ed5i t\xecm ki\u1ebfm c\u1ee7a b\u1ea1n. "),t.qZA()()())}function ee(d,T){if(1&d){const i=t.EpF();t.TgZ(0,"app-ticket-item",51),t.NdJ("ticketSelected",function(o){t.CHM(i);const r=t.oxw(6);return t.KtG(r.chooseTicket(o))}),t.qZA()}if(2&d){const i=t.oxw().$implicit,a=t.oxw(5);t.Q6J("ticket",i)("listFareRule",a.listFareRule)("listFareRuleClasses",a.listFareRuleClasses)("hiddenCharge",a.hiddenCharge)}}function fe(d,T){if(1&d&&(t.ynx(0),t.YNc(1,ee,1,4,"app-ticket-item",50),t.BQk()),2&d){const i=T.$implicit,a=T.index,o=t.oxw(5);t.xp6(1),t.Q6J("ngIf",a<o.ticketInfiniteScrollCount&&i.seatRemain>0)}}function ue(d,T){if(1&d){const i=t.EpF();t.TgZ(0,"div",48),t.NdJ("scrolled",function(){t.CHM(i);const o=t.oxw(4);return t.KtG(o.onScrollDown())}),t.YNc(1,fe,2,1,"ng-container",49),t.qZA()}if(2&d){const i=t.oxw(4);t.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",300)("infiniteScrollContainer",".main-scroll-bar")("scrollWindow",!1)("fromRoot",!0)("alwaysCallback",!0),t.xp6(1),t.Q6J("ngForOf",i.listTicketDisplay)("ngForTrackBy",i.ticketTrackByFn)}}function y(d,T){if(1&d&&(t.TgZ(0,"div"),t.YNc(1,ue,2,8,"div",47),t.qZA()),2&d){const i=t.oxw(3);t.xp6(1),t.Q6J("ngIf",i.listTicketDisplay.length)}}function me(d,T){if(1&d){const i=t.EpF();t.TgZ(0,"agent-ticket-item",51),t.NdJ("ticketSelected",function(o){t.CHM(i);const r=t.oxw(6);return t.KtG(r.chooseAgentTicket(o))}),t.qZA()}if(2&d){const i=t.oxw().$implicit,a=t.oxw(5);t.Q6J("ticket",i)("listFareRule",a.listFareRule)("listFareRuleClasses",a.listFareRuleClasses)("hiddenCharge",a.hiddenCharge)}}function U(d,T){if(1&d&&(t.ynx(0),t.YNc(1,me,1,4,"agent-ticket-item",50),t.BQk()),2&d){const i=T.index,a=t.oxw(5);t.xp6(1),t.Q6J("ngIf",i<a.ticketInfiniteScrollCount)}}function H(d,T){if(1&d){const i=t.EpF();t.TgZ(0,"div",48),t.NdJ("scrolled",function(){t.CHM(i);const o=t.oxw(4);return t.KtG(o.onScrollDown())}),t.YNc(1,U,2,1,"ng-container",52),t.qZA()}if(2&d){const i=t.oxw(4);t.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",300)("infiniteScrollContainer",".main-scroll-bar")("scrollWindow",!1)("fromRoot",!0)("alwaysCallback",!0),t.xp6(1),t.Q6J("ngForOf",i.listTicketAgentDisplay)}}function ve(d,T){if(1&d&&(t.TgZ(0,"div"),t.YNc(1,H,2,7,"div",47),t.qZA()),2&d){const i=t.oxw(3);t.xp6(1),t.Q6J("ngIf",i.listTicketAgentDisplay.length)}}function _e(d,T){if(1&d&&(t.YNc(0,y,2,1,"div",22),t.YNc(1,ve,2,1,"div",22)),2&d){const i=t.oxw(2);t.Q6J("ngIf","retail"===i.currentMode),t.xp6(1),t.Q6J("ngIf","agency"===i.currentMode)}}function Te(d,T){if(1&d){const i=t.EpF();t.TgZ(0,"cf-icon",53),t.NdJ("click",function(){t.CHM(i);const o=t.oxw(2);return t.KtG(o.onShare())}),t.qZA()}}function Ce(d,T){if(1&d&&(t.TgZ(0,"div",36)(1,"div",37),t._uU(2,"T\u1ed5ng chi ph\xed:"),t.qZA(),t.TgZ(3,"div",54),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&d){const i=t.oxw(2);t.xp6(4),t.hij(" ",t.Dn7(5,1,t.lcZ(6,5,i.totalPrice||0),",",".")," \u0111 ")}}function De(d,T){if(1&d){const i=t.EpF();t.TgZ(0,"div",24)(1,"div",25)(2,"filter-flight",26),t.NdJ("ticketFilterChange",function(o){t.CHM(i);const r=t.oxw();return t.KtG(r.filterChange(o))})("ticketDisplayChange",function(o){t.CHM(i);const r=t.oxw();return t.KtG(r.displayChange(o))}),t.qZA()(),t.TgZ(3,"div",13)(4,"div",27)(5,"app-switch-mode",28),t.NdJ("modeChange",function(o){t.CHM(i);const r=t.oxw();return t.KtG(r.modeChange(o))}),t.qZA(),t.TgZ(6,"div",29),t.YNc(7,de,4,0,"button",30),t.TgZ(8,"app-sort-flight",31),t.NdJ("sortChange",function(o){t.CHM(i);const r=t.oxw();return t.KtG(r.onSortChange(o))}),t.qZA()()(),t.YNc(9,he,7,0,"div",32),t.YNc(10,_e,2,2,"ng-template",null,33,t.W1O),t.qZA(),t.TgZ(12,"div",34)(13,"div",35)(14,"div",36)(15,"div",37),t._uU(16,"Chuy\u1ebfn bay c\u1ee7a b\u1ea1n"),t.qZA(),t.YNc(17,Te,1,0,"cf-icon",38),t.qZA(),t.TgZ(18,"div")(19,"ticket-selected",39),t.NdJ("showDetail",function(o){t.CHM(i);const r=t.oxw();return t.KtG(r.onShowDetailInfo(o))})("reselect",function(o){t.CHM(i);const r=t.oxw();return t.KtG(r.onReselected(o))}),t.qZA()(),t.YNc(20,Ce,7,7,"div",40),t.qZA()()()}if(2&d){const i=t.MAs(11),a=t.oxw();t.xp6(2),t.Q6J("currentMode",a.currentMode)("airlineList",a.airlineList)("ticketFilter",a.ticketFilterState.value)("ticketDisplay",a.ticketDisplayState.value)("fareclassList",a.fareclassList)("planeModelList",a.planModelList)("selectedFare",a.selectedFare)("departureTimeList",a.departureTimeList)("arrivalTimeList",a.arrivalTimeList)("durationFilter",a.durationFilter)("minDuration",a.minDuration)("maxDuration",a.maxDuration)("departTimeComboList",a.departTimeComboList)("arriveTimeComboList",a.arriveTimeComboList)("minFareClss",a.minFareClss)("priceFilter",a.priceFilter)("minPrice",a.minPrice)("maxPrice",a.maxPrice)("bookingSystemList",a.bookingSystemList)("hiddenCharge",a.hiddenCharge)("priceFilter",a.priceFilter),t.xp6(3),t.Q6J("modeView",a.currentMode)("disableAgencyMode",!1)("disableRetailMode",a.isHiddenRetail),t.xp6(2),t.Q6J("ngIf",a.showQuotation&&"retail"===a.currentMode),t.xp6(1),t.Q6J("sortDefault",a.sortDefault)("hiddenCharge",a.hiddenCharge),t.xp6(1),t.Q6J("ngIf",a.isSearchEmpty)("ngIfElse",i),t.xp6(8),t.Q6J("ngIf",a.listTicketSelected.length),t.xp6(2),t.Q6J("ticketsSelected",a.listTicketSelected),t.xp6(1),t.Q6J("ngIf",!a.isHiddenTotalCharge&&!a.hiddenCharge)}}function xe(d,T){1&d&&(t.TgZ(0,"div")(1,"div",43),t._UZ(2,"img",44),t.TgZ(3,"div",45),t._uU(4,"Kh\xf4ng c\xf3 chuy\u1ebfn bay n\xe0o"),t.qZA(),t.TgZ(5,"div",46),t._uU(6," Vui l\xf2ng s\u1eeda \u0111\u1ed5i b\u1ed9 l\u1ecdc ho\u1eb7c thay \u0111\u1ed5i t\xecm ki\u1ebfm c\u1ee7a b\u1ea1n. "),t.qZA()()())}function Ae(d,T){if(1&d){const i=t.EpF();t.TgZ(0,"app-ticket-item",51),t.NdJ("ticketSelected",function(o){t.CHM(i);const r=t.oxw(6);return t.KtG(r.chooseTicket(o))}),t.qZA()}if(2&d){const i=t.oxw().$implicit,a=t.oxw(5);t.Q6J("ticket",i)("listFareRule",a.listFareRule)("listFareRuleClasses",a.listFareRuleClasses)("hiddenCharge",a.hiddenCharge)}}function Se(d,T){if(1&d&&(t.ynx(0),t.YNc(1,Ae,1,4,"app-ticket-item",50),t.BQk()),2&d){const i=T.$implicit,a=T.index,o=t.oxw(5);t.xp6(1),t.Q6J("ngIf",a<o.ticketInfiniteScrollCount&&i.seatRemain>0)}}function Fe(d,T){if(1&d){const i=t.EpF();t.TgZ(0,"div",48),t.NdJ("scrolled",function(){t.CHM(i);const o=t.oxw(4);return t.KtG(o.onScrollDown())}),t.YNc(1,Se,2,1,"ng-container",49),t.qZA()}if(2&d){const i=t.oxw(4);t.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",300)("infiniteScrollContainer",".main-scroll-bar")("scrollWindow",!1)("fromRoot",!0)("alwaysCallback",!0),t.xp6(1),t.Q6J("ngForOf",i.listTicketDisplay)("ngForTrackBy",i.ticketTrackByFn)}}function Ee(d,T){if(1&d&&(t.TgZ(0,"div"),t.YNc(1,Fe,2,8,"div",47),t.qZA()),2&d){const i=t.oxw(3);t.xp6(1),t.Q6J("ngIf",i.listTicketDisplay.length)}}function be(d,T){if(1&d){const i=t.EpF();t.TgZ(0,"agent-ticket-item",73),t.NdJ("ticketSelected",function(o){t.CHM(i);const r=t.oxw(6);return t.KtG(r.chooseAgentTicket(o))}),t.qZA()}if(2&d){const i=t.oxw().$implicit,a=t.oxw(5);t.Q6J("ticket",i)("listFareRule",a.listFareRule)("listFareRuleClasses",a.listFareRuleClasses)}}function Ze(d,T){if(1&d&&(t.ynx(0),t.YNc(1,be,1,3,"agent-ticket-item",72),t.BQk()),2&d){const i=T.index,a=t.oxw(5);t.xp6(1),t.Q6J("ngIf",i<a.ticketInfiniteScrollCount)}}function Me(d,T){if(1&d){const i=t.EpF();t.TgZ(0,"div",48),t.NdJ("scrolled",function(){t.CHM(i);const o=t.oxw(4);return t.KtG(o.onScrollDown())}),t.YNc(1,Ze,2,1,"ng-container",52),t.qZA()}if(2&d){const i=t.oxw(4);t.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",300)("infiniteScrollContainer",".main-scroll-bar")("scrollWindow",!1)("fromRoot",!0)("alwaysCallback",!0),t.xp6(1),t.Q6J("ngForOf",i.listTicketAgentDisplay)}}function Pe(d,T){if(1&d&&(t.TgZ(0,"div"),t.YNc(1,Me,2,7,"div",47),t.qZA()),2&d){const i=t.oxw(3);t.xp6(1),t.Q6J("ngIf",i.listTicketAgentDisplay.length)}}function ke(d,T){if(1&d&&(t.YNc(0,Ee,2,1,"div",22),t.YNc(1,Pe,2,1,"div",22)),2&d){const i=t.oxw(2);t.Q6J("ngIf","retail"===i.currentMode),t.xp6(1),t.Q6J("ngIf","agency"===i.currentMode)}}function Je(d,T){if(1&d){const i=t.EpF();t.TgZ(0,"div",55)(1,"div",56)(2,"div",57)(3,"div",58)(4,"div",59),t.NdJ("click",function(){t.CHM(i);const o=t.oxw(),r=t.MAs(32);return t.KtG(o.openSearchInputBottomSheet(r))}),t.TgZ(5,"div",60)(6,"div",61),t._uU(7),t.qZA(),t._UZ(8,"cf-icon",62),t.TgZ(9,"div",61),t._uU(10),t.qZA(),t.TgZ(11,"cf-label",63),t._uU(12," Thay \u0111\u1ed5i "),t._UZ(13,"cf-icon",64),t.qZA()(),t.TgZ(14,"div",65)(15,"div",66),t._uU(16),t.ALo(17,"date"),t.qZA(),t._UZ(18,"div",67),t.TgZ(19,"div",66)(20,"div"),t._uU(21,"M\u1ed9t chi\u1ec1u"),t.qZA()()()(),t._UZ(22,"div"),t.qZA()(),t.TgZ(23,"div",68)(24,"div",69)(25,"filter-flight",70),t.NdJ("ticketFilterChange",function(o){t.CHM(i);const r=t.oxw();return t.KtG(r.filterChange(o))})("ticketDisplayChange",function(o){t.CHM(i);const r=t.oxw();return t.KtG(r.displayChange(o))}),t.qZA(),t.TgZ(26,"app-switch-mode",71),t.NdJ("modeChange",function(o){t.CHM(i);const r=t.oxw();return t.KtG(r.modeChange(o))}),t.qZA()()()(),t.YNc(27,xe,7,0,"div",32),t.YNc(28,ke,2,2,"ng-template",null,33,t.W1O),t.qZA()}if(2&d){const i=t.MAs(29),a=t.oxw();t.xp6(7),t.hij(" ",a.searchFormGroup.value.startPoint,""),t.xp6(3),t.hij(" ",a.searchFormGroup.value.endPoint,""),t.xp6(1),t.Q6J("color","red")("size","small"),t.xp6(5),t.hij(" ",t.xi3(17,29,a.searchFormGroup.value.departDate,"dd/MM/yyyy")," "),t.xp6(9),t.Q6J("currentMode",a.currentMode)("airlineList",a.airlineList)("ticketFilter",a.ticketFilterState.value)("ticketDisplay",a.ticketDisplayState.value)("fareclassList",a.fareclassList)("planeModelList",a.planModelList)("selectedFare",a.selectedFare)("departureTimeList",a.departureTimeList)("arrivalTimeList",a.arrivalTimeList)("durationFilter",a.durationFilter)("minDuration",a.minDuration)("maxDuration",a.maxDuration)("departTimeComboList",a.departTimeComboList)("arriveTimeComboList",a.arriveTimeComboList)("minFareClss",a.minFareClss)("priceFilter",a.priceFilter)("minPrice",a.minPrice)("maxPrice",a.maxPrice)("bookingSystemList",a.bookingSystemList)("priceFilter",a.priceFilter),t.xp6(1),t.Q6J("modeView",a.currentMode)("disableAgencyMode",!1),t.xp6(1),t.Q6J("ngIf",a.isSearchEmpty)("ngIfElse",i)}}function Ne(d,T){if(1&d){const i=t.EpF();t.TgZ(0,"div",74),t._UZ(1,"cf-search-flight-input",75),t.TgZ(2,"button",76),t.NdJ("click",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.onResearchFlight())}),t._UZ(3,"cf-icon",16),t._uU(4," T\xecm chuy\u1ebfn bay "),t.qZA()()}if(2&d){const i=t.oxw();t.xp6(1),t.Q6J("formArray",i.searchInputForm)}}function Ue(d,T){1&d&&t._UZ(0,"cf-spinner")}function Ie(d,T){if(1&d){const i=t.EpF();t.TgZ(0,"div",77)(1,"div",78),t._UZ(2,"div",79)(3,"div",80),t.qZA(),t.TgZ(4,"div",81),t._UZ(5,"cf-search-flight-input",75),t.qZA(),t._UZ(6,"div",82),t.TgZ(7,"div",83)(8,"div",84),t._UZ(9,"div",85),t.qZA(),t.TgZ(10,"button",86),t.NdJ("click",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.onResearchFlight())}),t._UZ(11,"cf-icon",16),t._uU(12," T\xecm chuy\u1ebfn bay "),t.qZA()()()}if(2&d){const i=t.oxw();t.xp6(5),t.Q6J("formArray",i.searchInputForm)}}let we=(()=>{class d{constructor(i,a,o,r,p,c,s,D,P,E,g,R,O){var C;this._fb=a,this._modal=o,this._reroutingService=r,this._permissionService=p,this._detectMobileService=c,this._bottomSheetService=s,this._flightDataService=D,this._locationDataService=P,this._searchInputService=E,this._requestReroutingService=g,this._searchFlightService=R,this._generalService=O,this.hiddenCharge=!1,this.searchType=Y.Io.UPDATE_JOURNEY,this.valueChange=new t.vpe,this.ticketSelected=new t.vpe,this.searchJourneyModifyType=Y.Io,this.totalPrice=0,this.isLoading=!1,this.TICKET_INFINITE_SCROLL_DEFAULT=10,this.TICKET_INFINITE_OFSET_INCREASE=10,this.ticketInfiniteScrollCount=this.TICKET_INFINITE_SCROLL_DEFAULT,this.sortDefault="min_price",this.sortState="min_price",this.currentMode="retail",this.isHiddenTotalCharge=!1,this.numberOfPassenger={adult:1,child:0,infant:0},this.filterStateInit={showAirline:[],direct:this._searchInputService.isDirectFlight,oneRoute:!1,moreRoute:!1,departTime:[],arriveTime:[],timeTypeFilter:"DEPART",fareclass:[],bookingSystem:[],plane:[],comboTime:{departStartTime:{from:0,to:1440},arriveStartTime:{from:0,to:1440},departEndTime:{from:0,to:1440},arriveEndTime:{from:0,to:1440}},comboDuration:{from:0,to:100},comboPrice:{from:void 0,to:void 0},lccFare:!1,ndcFare:!1,privateFare:!1},this.listTicketSelected=[],this.airlineList=[],this.ticketDisplayState=new b.X({showNetPrice:!1,showSalePrice:!1,hideFareClass:!1,showDuration:!0,showDiscountFare:!1,showTotalComboPrice:!1,showSurchargeFare:!1}),this.fareclassList=[],this.planModelList=[],this.selectedFare={value:""},this.departureTimeList=[],this.arrivalTimeList=[],this.durationFilter=[0,50],this.minDuration=0,this.maxDuration=50,this.departTimeComboList=[],this.arriveTimeComboList=[],this.minFareClss="",this.priceFilter=[0,0],this.minPrice=0,this.maxPrice=0,this.bookingSystemList=[],this.listTicket=[],this.listTicketDisplay=[],this.listTicketAgent=[],this.listTicketAgentDisplay=[],this.canEditHeader=this._permissionService.hasPermission(f.or.EditShareFlightSelectedHeader),this.showQuotation=this._permissionService.hasPermission(f.or.CreateFlightTicketQuote),this.showSharedFlight=this._permissionService.hasPermission(f.or.CanShareFlightSelected),this.destroy$=new L.x,this.isFirstTake=!0,this.isSearchEmpty=!1,this.searchMinFaresResult=[],this.listDateSearchMinFares=[],this.isHiddenRetail=!1,this.surchargeConfigs=[],i.registerIcons([S.TOh,S._hx]),this.onSurchargeSearch=(null===(C=this._generalService.getAgentConfig())||void 0===C?void 0:C.onSurchargeSearch)||!1,this.searchType===Y.Io.ADD_JOURNEY&&(this.initMinFareOption(),this.initDateSearchMinFare()),this.bookingDetailReroutingData=this._requestReroutingService.getBookingDetailReroutingData(),this.bookingDetailReroutingData&&this.bookingDetailReroutingData.provider===k.QK.VN&&this.searchType===Y.Io.UPDATE_JOURNEY&&(this.currentMode="agency",this.isHiddenRetail=!0),this.numberOfPassenger={adult:this.bookingDetailReroutingData.passengers.filter(Z=>"ADULT"===Z.type).length,child:this.bookingDetailReroutingData.passengers.filter(Z=>"CHILD"===Z.type).length,infant:this.bookingDetailReroutingData.passengers.filter(Z=>"INFANT"===Z.type).length},E.flightType="ONE_WAY",this.createInstanceSearchForm(),this.getSurchargeFeeConfig(),this.ticketDisplayState.next(Object.assign(Object.assign({},this.ticketDisplayState.value),{showSurchargeFare:this.onSurchargeSearch}))}ngOnChanges(i){this.reroutingJourneySeleceted&&this.searchType===Y.Io.UPDATE_JOURNEY&&(this.searchInputForm.at(0).patchValue({startPoint:this.reroutingJourneySeleceted.startPointCode,endPoint:this.reroutingJourneySeleceted.endPointCode,departDate:new Date(this.reroutingJourneySeleceted.startTime)}),this.onResearchFlight())}ngOnInit(){this.ticketFilterState=new b.X(this.filterStateInit),this.ticketFilterState.pipe((0,F.R)(this.destroy$)).subscribe({next:()=>{this.loadTicketFilter()}}),this.ticketDisplayState.pipe((0,F.R)(this.destroy$)).subscribe({next:()=>this.loadTicketDisplay()})}initMinFareOption(){this.minFareOptionConfig={minPrice:new Map,airlineMinPrice:[{airline:k.QK.VJ,airlineName:"Vietjet Air",color:"#E03C31",selected:!0},{airline:k.QK.VN,airlineName:"Vietnam Airlines",color:"#2E5EAA",selected:!0},{airline:k.QK.VU,airlineName:"Vietravel Airlines",color:"#FCB40A",selected:!0},{airline:k.QK.QH,airlineName:"Bamboo Airways",color:"#07A35D",selected:!0}],isRangeMinFare:!1,showMinPrice:!0,showLunarDate:!0}}initDateSearchMinFare(i=new Date){this.listDateSearchMinFares=[];const a=m(i).format("YYYY-MM-DD"),o=m(i).add(1,"month").startOf("month").format("YYYY-MM-DD");this.listDateSearchMinFares.push(a),this.listDateSearchMinFares.push(o)}createInstanceSearchForm(){this.searchInputForm=this._fb.array([this._fb.group({startPoint:["",x.kI.required],endPoint:["",x.kI.required],departDate:["",x.kI.required]})]),this.searchFormGroup=this.searchInputForm.at(0)}getSurchargeFeeConfig(){this._generalService.getSurchargeFeeConfig().subscribe({next:i=>{i.success&&i.data&&((0,h.t)(i.data,this.surchargeConfigs)||(localStorage.setItem("surchargeConfigs",JSON.stringify(i.data)),this.surchargeConfigs=i.data))}})}onResearchFlight(){var i;this.bottomSheetRef&&this.bottomSheetRef.dismiss(),this.listTicketSelected=[],this.valueChange.emit(this.listTicketSelected),this.totalPrice=0;const a=this.searchInputForm.value[0],o={provider:this.bookingDetailReroutingData.provider,supplier:this.bookingDetailReroutingData.supplier||null,airline:this.bookingDetailReroutingData.airline,bookingCode:this.bookingDetailReroutingData.bookingCode,journeyKey:this.searchType===this.searchJourneyModifyType.UPDATE_JOURNEY&&(null===(i=this.currentJourneySeleceted)||void 0===i?void 0:i.journeyKey)||"",typeModifyJourney:this.searchType,flightUpdate:{departDate:a.departDate?m(a.departDate).format("YYYY-MM-DD"):"",startPoint:(null==a?void 0:a.startPoint)||"",endPoint:(null==a?void 0:a.endPoint)||""},passengers:{adult:this.bookingDetailReroutingData.passengers.filter(r=>"ADULT"===r.type).length,child:this.bookingDetailReroutingData.passengers.filter(r=>"CHILD"===r.type).length,infant:this.bookingDetailReroutingData.passengers.filter(r=>"INFANT"===r.type).length}};this.isLoading=!0,this.isFirstTake=!1,this._reroutingService.getListJourneyUpdate(o).pipe((0,N.x)(()=>this.isLoading=!1)).subscribe({next:r=>{var p,c;console.log(r),this.searchFlightData=r.data,this.listFareRule=null===(p=r.data)||void 0===p?void 0:p.fareRules,this.listFareRuleClasses=null===(c=r.data)||void 0===c?void 0:c.fareRuleClasses,this.convertTicket(),this.convertAgentTicket(),this.initFilterAirline()},error:()=>{this.isSearchEmpty=!0}})}initFilterAirline(){var i,a,o;let r=[{name:"Early Morning",code:"early_morning",start:"00:00",end:"06:00",isActive:!1,disable:!1,startTime:0,endTime:360,totalAvailable:0},{name:"Morning",code:"morning",start:"06:00",end:"12:00",isActive:!1,disable:!1,startTime:360,endTime:720,totalAvailable:0},{name:"Afternoon",code:"afternoon",start:"12:00",end:"18:00",isActive:!1,disable:!1,startTime:720,endTime:1080,totalAvailable:0},{name:"Evening",code:"evening",start:"18:00",end:"24:00",isActive:!1,disable:!1,startTime:1080,endTime:1440,totalAvailable:0},{name:"T\xf9y ch\u1ecdn",code:"custom",start:"00:00",end:"23:59",isActive:!1,disable:!1,startTime:0,endTime:1439,totalAvailable:0}],p=[{name:"Early Morning",code:"early_morning",start:"00:00",end:"06:00",isActive:!1,disable:!1,startTime:0,endTime:360,totalAvailable:0},{name:"Morning",code:"morning",start:"06:00",end:"12:00",isActive:!1,disable:!1,startTime:360,endTime:720,totalAvailable:0},{name:"Afternoon",code:"afternoon",start:"12:00",end:"18:00",isActive:!1,disable:!1,startTime:720,endTime:1080,totalAvailable:0},{name:"Evening",code:"evening",start:"18:00",end:"24:00",isActive:!1,disable:!1,startTime:1080,endTime:1440,totalAvailable:0},{name:"T\xf9y ch\u1ecdn",code:"custom",start:"00:00",end:"23:59",isActive:!1,disable:!1,startTime:0,endTime:1439,totalAvailable:0}],c=[];this.searchFlightData.flightOptions.length&&"COMBO"!==this.searchFlightData.flightOptions[0].type&&(c=this.searchFlightData.flightOptions.flatMap(g=>g.journeys).map(g=>({airline:g.airline,airlineName:g.airlineName})).filter((g,R,O)=>O.findIndex(C=>C.airline===g.airline)===R));let s=new Map,D=Number.MAX_SAFE_INTEGER,P=new Set,E=new Map;this.searchFlightData.flightOptions.length&&"COMBO"!==this.searchFlightData.flightOptions[0].type&&this.searchFlightData.flightOptions.forEach(g=>{P.add(g.provider),g.journeys.forEach(R=>R.fareOptions.forEach(O=>{O.fareInfos.forEach(C=>{var Z,I,_,j,B,le,se;O.getTotalAmount()<D&&(D=O.getTotalAmount(),C.cabin&&!(null===(Z=C.cabin)||void 0===Z)&&Z.name&&(this.minFareClss=C.cabin.name.toUpperCase())),s.set(null===(_=null===(I=C.cabin)||void 0===I?void 0:I.name)||void 0===_?void 0:_.toUpperCase(),Object.assign(Object.assign({},C.cabin),{description:null===(B=null===(j=C.cabin)||void 0===j?void 0:j.description)||void 0===B?void 0:B.toUpperCase(),name:null===(se=null===(le=C.cabin)||void 0===le?void 0:le.name)||void 0===se?void 0:se.toUpperCase(),isActive:!1,isDisable:!1}))}),R.segments.forEach(C=>{E.set(C.modelAirplane,{code:C.modelAirplane,name:C.modelAirplaneName,isActive:!1,isDisable:!1})}),r.forEach(C=>{const Z=m(R.departure.localTime).toDate(),I=60*Z.getHours()+Z.getMinutes();I>=C.startTime&&I<=C.endTime&&(C.totalAvailable=++C.totalAvailable)}),p.forEach(C=>{const Z=m(R.arrival.localTime).toDate(),I=60*Z.getHours()+Z.getMinutes();I>=C.startTime&&I<=C.endTime&&(C.totalAvailable=++C.totalAvailable)})}))}),this.fareclassList=[...s.values()].filter(g=>g.name).map(g=>g),this.selectedFare.value=(null===(i=this.fareclassList.find(g=>g.isActive))||void 0===i?void 0:i.name)||"",this.planModelList=[...E.values()],this.departureTimeList=[[...r.map(g=>(0===g.totalAvailable&&(g.disable=!0),g))]],this.arrivalTimeList=[[...p.map(g=>(0===g.totalAvailable&&(g.disable=!0),g))]],this.departTimeComboList=[{departCode:`${this.searchInputForm.value[0].startPoint} (${this._locationDataService.getCityNameByCode(this.searchInputForm.value[0].startPoint)})`,departTime:(null===(a=this.reroutingJourneySeleceted)||void 0===a?void 0:a.startTime)||new Date}],this.arriveTimeComboList=[{departCode:`${this.searchInputForm.value[0].endPoint} (${this._locationDataService.getCityNameByCode(this.searchInputForm.value[0].endPoint)})`,departTime:(null===(o=this.reroutingJourneySeleceted)||void 0===o?void 0:o.startTime)||new Date}],this.airlineList=c.map(g=>({code:g.airline,name:g.airlineName,actived:!1})),this.airlineList.filter(g=>g.actived).length===this.airlineList.length?this.airlineList.forEach(g=>g.actived=!1):0!==this.airlineList.filter(g=>g.actived).length&&this.ticketFilterState.next(Object.assign(Object.assign({},this.ticketFilterState.value),{showAirline:this.airlineList.filter(g=>g.actived).map(g=>g.code)}))}syncDelayPoint(i){for(let a=0;a<i.length-1;a++)i[a+1].delay=i[a].delay,i[a].delay=0;return i}convertTicket(){let i=0;this.listTicket=this.searchFlightData.flightOptions.flatMap(a=>a.journeys.flatMap(o=>{if(!o.fareOptions)return[];["VN"].includes(null==a?void 0:a.provider)&&"VN"===o.airline&&(o.segments=this.syncDelayPoint(o.segments));const r=o.fareOptions.map(s=>{var D,P,E,g,R,O,C;i++;const Z=this.getFareRuleClass(o.airline,s.fareInfos[0].fareClass,null===(D=s.fareInfos[0].fareType)||void 0===D?void 0:D.code);let I=0;return this.surchargeConfigs&&this.surchargeConfigs.length&&(I=[k.QK.BSP,k.QK.AIR_1G,k.QK.BZT,k.QK.ST,k.QK.HG].includes(null==a?void 0:a.provider)?(null===(P=this.surchargeConfigs.find(_=>"GDS"===_.airline))||void 0===P?void 0:P.amount)||0:(null===(E=this.surchargeConfigs.find(_=>_.airline===(null==a?void 0:a.provider)))||void 0===E?void 0:E.amount)||0),{indexForTracking:i,sessionKey:this.searchFlightData.session,provider:a.provider,airline:o.airline,airlineLogo:this._flightDataService.getAirlineLogoByCode(o.airline),mobileAirlineLogo:["VJ","VN","QH"].includes(o.airline)?"assets/airline-logo/"+o.airline+"_small.png":"assets/airline-logo/"+o.airline+".png",airlineName:o.airlineName,flightNumber:`${o.airline} ${o.segments[0].flightNumber}`,operating:o.operating,operatingName:o.operatingName,stopStatus:o.numOfStops,duration:o.duration,durationStr:o.getDurationString(),startPoint:o.departure.airport.code,endPoint:o.arrival.airport.code,startTime:m(o.departure.localTime).toDate(),endTime:m(o.arrival.localTime).toDate(),startTerminal:o.segments[0].departure.airport.terminal?`T${o.segments[0].departure.airport.terminal}`:"",endTerminal:(()=>{var _;const j=1===o.segments.length?o.segments[0].arrival.airport.terminal:null===(_=o.segments[o.segments.length-1])||void 0===_?void 0:_.arrival.airport.terminal;return j?`T${j}`:""})(),expireTime:o.expireTime,surCharge:I,totalPrice:s.getTotalAmount(),totalDiscountFarePrice:0,netPrice:s.getNetAmount(this.numberOfPassenger.adult,this.numberOfPassenger.child),serviceFee:s.getServiceFee(),promotionalPrice:0!==s.getDiscount()?s.getTotalAmount()+s.getDiscount():void 0,currency:s.currency?s.currency.code:"VN\u0110",fareClass:s.fareInfos[0].fareClass,fareType:null===(g=s.fareInfos[0].fareType)||void 0===g?void 0:g.code,journeyFareClass:s.journeyFareClass,handBag:Z.handBag,checkedBag:Z.checkedBag,seatRemain:s.fareInfos[0].seatRemain,cabin:null===(R=s.fareInfos[0].cabin)||void 0===R?void 0:R.description,cabinName:(null===(O=s.fareInfos[0].cabin)||void 0===O?void 0:O.name)||(null===(C=s.fareInfos[0].cabin)||void 0===C?void 0:C.code)||"",isLowestFare:!1,isLowestFareAvailable:!1,leg:o.leg,departure:{scheduleTime:m(1e3*o.departure.scheduleTime).toDate(),airport:o.departure.airport.code,localTime:m(o.departure.localTime).toDate()},arrival:{scheduleTime:m(1e3*o.arrival.scheduleTime).toDate(),airport:o.arrival.airport.code,localTime:m(o.arrival.localTime).toDate()},journeyKey:o.key,fareOptionKey:s.key,segments:o.segments.map((_,j)=>{var B,le,se;const ye=_.getDelayString();return{segmentKey:_.key,fareClass:s.fareInfos[j].fareClass,fareType:(null===(B=s.fareInfos[j].fareType)||void 0===B?void 0:B.description)||"",airline:_.airline,airlineName:_.airlineName,mobileAirlineLogo:["VJ","VN","QH"].includes(_.airline)?"assets/airline-logo/"+_.airline+"_small.png":"assets/airline-logo/"+_.airline+".png",operating:_.operating,operatingName:_.operatingName,airlineLogo:this._flightDataService.getAirlineLogoByCode(_.operating),jetCode:"N/A",startCode:_.departure.airport.code,endCode:_.arrival.airport.code,startPoint:this._locationDataService.getCityNameByCode(_.departure.airport.code),endPoint:this._locationDataService.getCityNameByCode(_.arrival.airport.code),departDate:m(_.departure.localTime).toDate(),arrivalDate:m(_.arrival.localTime).toDate(),startTerminal:_.departure.airport.terminal?`T${_.departure.airport.terminal}`:"",endTerminal:_.arrival.airport.terminal?`T${_.arrival.airport.terminal}`:"",flightNumber:_.flightNumber,duration:_.getDurationString(),modelAirplane:_.modelAirplane,modelAirplaneName:_.modelAirplaneName,delay:_.getDelayString(),stopPoint:ye?`D\u1eebng t\u1ea1i: ${this._locationDataService.getAirportNameByCode(_.departure.airport.code)} (${_.departure.airport.code}). Th\u1eddi gian d\u1eebng: ${ye}`:"",handBag:(null===(le=s.fareInfos[j])||void 0===le?void 0:le.carryOnBags)||"",checkedBag:(null===(se=s.fareInfos[j])||void 0===se?void 0:se.checkedBags)||""}}),showSalePrice:this.ticketDisplayState.value.showSalePrice,showNetPrice:this.ticketDisplayState.value.showNetPrice,showSurchargeFare:this.ticketDisplayState.value.showSurchargeFare,hideFareClass:this.ticketDisplayState.value.hideFareClass,showDuration:this.ticketDisplayState.value.showDuration,hasDiscountFare:!1,showDiscountFare:this.ticketDisplayState.value.showDiscountFare,ticketDetail:this.getTicketDetail(s,o.airline),lccFare:s.lccFare,ndcFare:s.ndcFare,privateFare:s.privateFare,refundableFare:s.refundableFare,vfrFare:s.vfrFare,vfrFareLaborVisa:s.vfrFareLaborVisa,vfrFareWithRelations:s.vfrFareWithRelations,ndcTimeLimit$:s.ndcTimeLimitCountDown$(),isDisabledTicket$:s.ndcFare?s.ndcTimeLimitCountDown$().pipe((0,q.d)(0),(0,te.U)(_=>_<6e4)):(0,ce.of)(!1),paxType:"",food:!1}}),p=Q.groupBy(r,"cabinName");for(const s of Object.keys(p)){const P=Math.min(...p[s].map(E=>E.totalPrice));r.filter(E=>E.cabinName===s).forEach(E=>{E.isLowestFare=E.totalPrice===P})}const c=Math.min(...r.filter(s=>s.seatRemain).map(s=>s.totalPrice));return r.forEach(s=>{s.isLowestFareAvailable=s.totalPrice===c}),r})).sort((a,o)=>a.totalPrice-o.totalPrice).sort((a,o)=>a.stopStatus-o.stopStatus),this.listTicketDisplay=this.listTicket,this.isSearchEmpty=!this.listTicket.length}convertAgentTicket(i=""){this.listTicketAgent=this.searchFlightData.flightOptions.flatMap((a,o)=>a.journeys.flatMap((r,p)=>({indexForTracking:`${r.airline}_${o}_${p}`,sessionKey:this.searchFlightData.session,provider:a.provider,airline:r.airline,airlineName:this._flightDataService.getAirlineNameByCode(r.airline),airlineLogo:this._flightDataService.getAirlineLogoByCode(r.airline),mobileAirlineLogo:["VJ","VN","QH"].includes(r.airline)?"assets/airline-logo/"+r.airline+"_small.png":"assets/airline-logo/"+r.airline+".png",operating:r.operating,operatingName:r.operatingName,flightNumber:`${r.airline} ${r.segments[0].flightNumber}`,departure:{scheduleTime:m(1e3*r.departure.scheduleTime).toDate(),airport:r.departure.airport.code,localTime:m(r.departure.localTime).toDate()},arrival:{scheduleTime:m(1e3*r.arrival.scheduleTime).toDate(),airport:r.arrival.airport.code,localTime:m(r.arrival.localTime).toDate()},startPoint:r.departure.airport.code,endPoint:r.arrival.airport.code,duration:r.duration,expireTime:r.expireTime,durationStr:r.getDurationString(),numOfStop:r.numOfStops,numberOfSegment:r.segments.length,leg:r.leg,journeyKey:r.key,lookupSeatReamin:"VN"===r.airline,fareRule:this.listFareRule.find(c=>c.airline===r.airline)||null,segmentDetails:r.segments.map((c,s,D)=>{const P=c.getDelayString();return{segmentKey:c.key,airline:c.airline,airlineName:this._flightDataService.getAirlineNameByCode(c.airline),airlineLogo:this._flightDataService.getAirlineLogoByCode(r.airline),mobileAirlineLogo:["VJ","VN","QH"].includes(c.airline)?"assets/airline-logo/"+c.airline+"_small.png":"assets/airline-logo/"+c.airline+".png",jetCode:"N/A",startCode:c.departure.airport.code,endCode:c.arrival.airport.code,startPoint:this._locationDataService.getCityNameByCode(c.departure.airport.code),endPoint:this._locationDataService.getCityNameByCode(c.arrival.airport.code),departDate:m(c.departure.localTime).toDate(),arrivalDate:m(c.arrival.localTime).toDate(),startTerminal:c.departure.airport.terminal?`T${c.departure.airport.terminal}`:"",endTerminal:c.arrival.airport.terminal?`T${c.arrival.airport.terminal}`:"",flightNumber:c.flightNumber,duration:c.duration,durationStr:c.getDurationString(),modelAirplane:c.modelAirplane,modelAirplaneName:c.modelAirplaneName,operating:c.operating,operatingName:c.operatingName,handBag:"",checkedBag:"",stopPoint:P?`D\u1eebng t\u1ea1i: ${this._locationDataService.getAirportNameByCode(c.departure.airport.code)} (${c.departure.airport.code}). Th\u1eddi gian d\u1eebng: ${P}`:""}}),segmentsDisplay:r.segments.map(c=>({airline:c.airline,airlineLogo:this._flightDataService.getAirlineLogoByCode(r.airline),flightNumber:`${c.airline} ${c.flightNumber}`,jetCode:"N/A",operating:c.operating,startPoint:c.departure.airport.code,endPoint:c.arrival.airport.code,segmentKey:c.key,fareClasses:r.fareOptions.map(s=>({totalPrice:s.getTotalAmount(),isExistPrice:!0,currency:s.currency?s.currency.code:"VN\u0110",segmentIndex:0,fareType:s.fareInfos[0].fareType.description,seatRemain:s.fareInfos[0].seatRemain,fareClass:s.fareInfos[0].fareClass,isSelected:!1,fareOptionKey:s.key,ticketPriceDetail:this.getTicketDetail(s,r.airline)})),departure:{scheduleTime:m(1e3*c.departure.scheduleTime).toDate(),airport:c.departure.airport.code,localTime:m(c.departure.localTime).toDate()},arrival:{scheduleTime:m(1e3*c.arrival.scheduleTime).toDate(),airport:c.arrival.airport.code,localTime:m(c.arrival.localTime).toDate()}}))}))),this.listTicketAgentDisplay=this.listTicketAgent,this.isSearchEmpty=!this.listTicketAgent.length}filterChange(i){this.ticketFilterState.next(Object.assign(Object.assign({},this.ticketFilterState.value),i))}displayChange(i){this.ticketDisplayState.next(Object.assign(Object.assign({},this.ticketDisplayState.value),i))}modeChange(i){this.currentMode=i}onQuotation(){const i=this.searchInputForm.value[0],a={startPoint:i.startPoint,startPointName:this._locationDataService.getCityNameByCode(i.startPoint),endPoint:i.endPoint,endPointName:this._locationDataService.getCityNameByCode(i.endPoint),departDate:(0,M.p6)(new Date(i.departDate),"EEEE, dd/MM/yyyy","vi-VN"),departDateQuotation:i.departDate,mobileDepartDate:(0,M.p6)(new Date(i.departDate),"EEEE, dd/MM/yyyy","vi-VN"),leg:0,active:!0};this._modal.open(K.QuotationModalComponent,{isHiddenNetPrice:this.ticketDisplayState.value.showNetPrice,isHiddenCabin:this.ticketDisplayState.value.hideFareClass,listTicketDisplay:this.listTicketDisplay.filter(o=>o.seatRemain>0),journey:a,currentLeg:0,canEditHeader:this._permissionService.hasPermission(f.or.EditFlightTicketQuoteHeader),hiddenCharge:this.hiddenCharge})}onSortChange(i){this.sortState=i,this.processSort(),this.ticketInfiniteScrollCount=this.TICKET_INFINITE_SCROLL_DEFAULT}processSort(){var i,a;switch(this.sortState){case"min_price":this.listTicketDisplay.sort(this.ticketDisplayState.value.showNetPrice?(o,r)=>o.netPrice-r.netPrice:(o,r)=>o.totalPrice-r.totalPrice);break;case"max_price":this.listTicketDisplay.sort(this.ticketDisplayState.value.showNetPrice?(o,r)=>r.netPrice-o.netPrice:(o,r)=>r.totalPrice-o.totalPrice);break;case"min_flight":this.listTicketDisplay.sort((o,r)=>o.duration-r.duration),this.listTicketAgentDisplay.sort((o,r)=>o.duration-r.duration);break;case"max_flight":this.listTicketDisplay.sort((o,r)=>r.duration-o.duration),this.listTicketAgentDisplay.sort((o,r)=>r.duration-o.duration);break;case"earliest_departure":this.listTicketDisplay.sort((o,r)=>o.departure.localTime.getTime()-r.departure.localTime.getTime()),this.listTicketAgentDisplay.sort((o,r)=>o.departure.localTime.getTime()-r.departure.localTime.getTime());break;case"late_departure":this.listTicketDisplay.sort((o,r)=>r.departure.localTime.getTime()-o.departure.localTime.getTime()),this.listTicketAgentDisplay.sort((o,r)=>r.departure.localTime.getTime()-o.departure.localTime.getTime());break;case"earliest_arrival":this.listTicketDisplay.sort((o,r)=>o.arrival.localTime.getTime()-r.arrival.localTime.getTime()),this.listTicketAgentDisplay.sort((o,r)=>o.arrival.localTime.getTime()-r.arrival.localTime.getTime());break;case"late_arrival":this.listTicketDisplay.sort((o,r)=>r.arrival.localTime.getTime()-o.arrival.localTime.getTime()),this.listTicketAgentDisplay.sort((o,r)=>r.arrival.localTime.getTime()-o.arrival.localTime.getTime())}null===(i=this.listTicketDisplay)||void 0===i||i.sort((o,r)=>Number(0===o.seatRemain)-Number(0===r.seatRemain)),null===(a=this.listTicketAgentDisplay)||void 0===a||a.sort((o,r)=>{const p=o.segmentsDisplay.some(s=>s.fareClasses.every(D=>!D.seatRemain))?0:1;return(r.segmentsDisplay.some(s=>s.fareClasses.every(D=>!D.seatRemain))?0:1)-p})}onShare(){this._modal.open(e.eP,{ticketsSelected:this.listTicketSelected,canEditHeader:this.canEditHeader,totalPrice:this.totalPrice,isHiddenTotalCharge:this.isHiddenTotalCharge})}onShowDetailInfo(i){const a=this.listTicketSelected[i],o={airline:a.airline,airlineName:a.airlineName,airlineLogo:a.airlineLogo,provider:a.provider,journeyKey:a.journeyKey,operating:a.operating,operatingName:a.operatingName,flightNumber:a.flight,journeyName:`Chuy\u1ebfn bay: ${a.startPoint} - ${a.endPoint}`,numOfStop:a.numOfStop,departureDate:m(a.startTime).format("HH:mm DD/MM/YYYY"),startPoint:a.startCode,startPointName:a.startPoint,endPoint:a.endCode,endPointName:a.endPoint,startTerminal:a.startTerminal,endTerminal:a.endTerminal,price:a.totalPrice,showSurchargeFare:a.showSurchargeFare,surcharge:a.surcharge,handBag:"Kh\xf4ng",segments:a.segments.map((r,p)=>({airline:r.airline,airlineSystem:r.airline,airlineName:r.airlineName,airlineLogo:r.airlineLogo,operating:r.operating,operatingName:r.operatingName,mobileAirlineLogo:["VJ","VN","QH"].includes(r.airline)?"assets/airline-logo/"+r.airline+"_small.png":"assets/airline-logo/"+r.airline+".png",flightNumber:r.airline+r.flightNumber,startTime:m(r.departDate).format("HH:mm"),startDate:m(r.departDate).format("DD/MM/YYYY"),startPoint:r.startCode,startPointName:r.startPoint,startAirport:this._locationDataService.getAirportNameByCode(r.startPoint),endTime:m(r.arrivalDate).format("HH:mm"),endDate:m(r.arrivalDate).format("DD/MM/YYYY"),endPoint:r.endCode,endPointName:r.endPoint,startTerminal:r.startTerminal,endTerminal:r.endTerminal,endAirport:this._locationDataService.getAirportNameByCode(r.endPoint),stopPoint:r.stopPoint,modelAirplane:r.modelAirplane,rules:[{name:"Th\u1eddi gian bay",value:r.duration},{name:"Lo\u1ea1i m\xe1y bay",value:r.modelAirplane},{name:"H\u1ea1ng ch\u1ed7",value:(r.fareType||"")+(r.fareClass?`(${r.fareClass})`:"N/A")},{name:"H\xe0nh l\xfd k\xfd g\u1eedi",value:a.checkedBag||"N/A"},{name:"H\xe0nh l\xfd x\xe1ch tay",value:a.handBag||"N/A"}]})),ticketPrice:a.ticketPrice,fareRule:a.fareRule};this._detectMobileService.isMobile()?this._bottomSheetService.open(e._8,{containerFullHeigh:!0,headerTitle:"Th\xf4ng tin chuy\u1ebfn bay",leftButtonIcon:"arrow_left",rightButtonIcon:""}):this._modal.open(e.Zk,{flightInfo:o})}onReselected(i){this.listTicketSelected=[],this.totalPrice=0,this.valueChange.emit(this.listTicketSelected)}ticketTrackByFn(i,a){return a.indexForTracking}onScrollDown(){this.ticketInfiniteScrollCount+=this.TICKET_INFINITE_OFSET_INCREASE}chooseTicket(i){const a=this.getFareRuleClass(i.airline,i.fareClass,i.fareType);this.listTicketSelected=[{startPoint:this._locationDataService.getCityNameByCode(i.startPoint),endPoint:this._locationDataService.getCityNameByCode(i.endPoint),departDate:(0,M.p6)(i.startTime,"EEEE, dd/MM/yyyy","vi-VN"),startCode:i.startPoint,endCode:i.endPoint,airlineLogo:i.airlineLogo,provider:i.provider,airline:i.airline,airlineName:i.airlineName,operating:i.operating,operatingName:i.operatingName,flight:i.flightNumber,startTime:i.startTime,endTime:i.endTime,startTerminal:i.startTerminal||"",endTerminal:i.endTerminal||"",expireTime:i.expireTime,duration:i.durationStr,highlight:!0,selected:!0,actived:!0,numOfStop:i.stopStatus,totalPrice:i.ticketDetail.totalCharge,totalDiscountFarePrice:i.ticketDetail.totallDiscountFareCharge,hasDiscountFare:!1,showDiscountFare:!1,journeyKey:i.journeyKey,journeyFareClass:i.journeyFareClass,fareOptionKey:i.fareOptionKey,lccFare:!1,sessionId:"",sessionKey:i.sessionKey,segments:i.segments,bookingType:"b2c",leg:i.leg,isHiddenTotalCharge:0===i.ticketDetail.totalCharge&&"VN"===i.airline&&"agency"===this.currentMode,bagCharge:0,seatCharge:0,showSurchargeFare:i.showSurchargeFare,surcharge:i.surcharge,comboRefs:[],ticketPrice:i.ticketDetail,fareRule:this.listFareRule.find(o=>{var r,p;return o.airline===i.airline&&(null===(r=o.fareClass)||void 0===r?void 0:r.toLowerCase())===(null===(p=i.fareType)||void 0===p?void 0:p.toLowerCase())})||null,handBag:a.handBag,checkedBag:a.checkedBag}],this.totalPrice=i.ticketDetail.totalCharge,this.moveToNextJourney()}moveToNextJourney(){if(this._detectMobileService.isMobile()){const i=this._bottomSheetService.open(e.GM,{headerTitle:"X\xe1c nh\u1eadn chuy\u1ebfn bay \u0111\xe3 ch\u1ecdn",rightButtonIcon:"close",containerFullHeigh:!0,rightButtonIconClass:"text-neutral-gray-4",data:{ticketsSelected:this.listTicketSelected,totalPrice:this.totalPrice,hiddenCharge:this.hiddenCharge}});i.containerInstance._rightButtonClick.subscribe(a=>{this.listTicketSelected=[],this.totalPrice=0,this.valueChange.emit(this.listTicketSelected),this.ticketSelected.emit(this.listTicketSelected)}),i.afterDismissed().subscribe({next:a=>{a||(this.listTicketSelected=[],this.totalPrice=0,this.valueChange.emit(this.listTicketSelected)),this.ticketSelected.emit(this.listTicketSelected)}})}else this._modal.open(e.u9,{ticketsSelected:this.listTicketSelected,totalPrice:this.totalPrice,totalPriceCombo:0,enabledBooking:[f.or.CanBookingFlightTicket,f.or.CanIssuedFlightTicket].some(a=>this._permissionService.hasPermission(a)),showSharedFlight:this.showSharedFlight,hiddenCharge:this.hiddenCharge}).afterClosed$.subscribe({next:a=>{a.data||(this.listTicketSelected=[],this.totalPrice=0),this.ticketSelected.emit(this.listTicketSelected)}})}chooseAgentTicket(i){var a,o,r;const p=this.getFareRuleClass(i.airline,"",i.fareRule.fareClass);this.listTicketSelected=[{startPoint:i.startPoint,endPoint:i.endPoint,departDate:"",startCode:i.startPoint,endCode:i.endPoint,airlineLogo:i.airlineLogo,provider:i.provider,airline:i.airline,airlineName:i.airlineName,operating:i.operating,operatingName:i.operatingName,flight:i.segmentsDisplay[0].flightNumber,startTime:i.departure.localTime,endTime:i.arrival.localTime,startTerminal:i.segmentDetails[0].startTerminal||"",endTerminal:1===i.segmentDetails.length?i.segmentDetails[0].endTerminal:null===(a=i.segmentDetails[i.segmentDetails.length-1])||void 0===a?void 0:a.endTerminal,expireTime:i.expireTime,duration:i.durationStr,highlight:!0,leg:i.leg,sessionId:"",sessionKey:i.sessionKey,actived:!0,numOfStop:i.numOfStop,ticketPrice:i.ticketDetail,hasDiscountFare:!1,showDiscountFare:!1,selected:!0,bookingType:"b2b",fareRule:void 0,journeyFareClass:(null===(o=null==i?void 0:i.fareRule)||void 0===o?void 0:o.fareClass)||"",totalPrice:0,totalDiscountFarePrice:0,journeyKey:i.journeyKey,showSurchargeFare:!1,surcharge:0,fareOptionKey:null===(r=i.segmentsDisplay[0].fareClasses.find(s=>s.isSelected))||void 0===r?void 0:r.fareOptionKey,lccFare:!1,segments:i.segmentDetails.map((s,D)=>{var P,E,g,R,O,C,Z,I;const _="VJ"===i.airline||"QH"===i.airline?(null===(E=null===(P=i.segmentsDisplay[0].fareClasses)||void 0===P?void 0:P.find(B=>B.isSelected))||void 0===E?void 0:E.fareClass)||"":(null===(R=null===(g=i.segmentsDisplay[D].fareClasses)||void 0===g?void 0:g.find(B=>B.isSelected))||void 0===R?void 0:R.fareClass)||"",j="VJ"===i.airline||"QH"===i.airline?(null===(C=null===(O=i.segmentsDisplay[0].fareClasses)||void 0===O?void 0:O.find(B=>B.isSelected))||void 0===C?void 0:C.fareType)||"":(null===(I=null===(Z=i.segmentsDisplay[D].fareClasses)||void 0===Z?void 0:Z.find(B=>B.isSelected))||void 0===I?void 0:I.fareType)||"";return{segmentKey:s.segmentKey,fareClass:_,fareType:j,airline:s.airline,airlineName:s.airlineName,airlineLogo:this._flightDataService.getAirlineLogoByCode(s.airline),operating:s.operating,operatingName:s.operatingName,jetCode:s.jetCode,startCode:s.startCode,endCode:s.endCode,startPoint:s.startPoint,endPoint:s.endPoint,departDate:s.departDate,arrivalDate:s.arrivalDate,startTerminal:s.startTerminal,endTerminal:s.endTerminal,flightNumber:s.flightNumber,modelAirplane:s.modelAirplane,modelAirplaneName:s.modelAirplaneName,stopPoint:s.stopPoint,duration:s.durationStr,handBag:"",checkedBag:""}}),bagCharge:0,seatCharge:0,handBag:p.handBag,checkedBag:p.checkedBag}];const c=i.segmentsDisplay.flatMap(s=>{const D=s.fareClasses.find(P=>P.isSelected);return D?(this.listTicketSelected[0].ticketPrice=D.ticketPriceDetail,D.totalPrice):0}).reduce((s,D)=>s+D,0);this.totalPrice=c,this.listTicketSelected[0].totalPrice=c,this.moveToNextJourney()}getFareRuleClass(i,a,o){const r=this.listFareRuleClasses.find(s=>{var D;return i===s.airline&&(null==o?void 0:o.toLocaleUpperCase())===(null===(D=s.fareClass)||void 0===D?void 0:D.toLocaleUpperCase())})||null,p=(null==r?void 0:r.rules.find(s=>"HAND_BAGGAGE"===s.cate))||null,c=(null==r?void 0:r.rules.find(s=>"CHECKED_BAGGAGE"===s.cate))||null;return{handBag:null==p?void 0:p.value,checkedBag:null==c?void 0:c.value}}getTicketDetail(i,a,o=0){const r=[];if(this.numberOfPassenger.adult){const c={type:"Ng\u01b0\u1eddi l\u1edbn (ADT)",quantity:this.numberOfPassenger.adult,baseFare:i.getBaseFare("ADULT",a),taxFee:i.getTaxFee("ADULT"),surCharge:o,discountAmount:i.getDiscountByBaseFare("ADULT",a,0,0),totalFare:i.getTotalAmountByType("ADULT")*this.numberOfPassenger.adult,get totalDiscountFare(){return this.totalFare-(this.discountAmount||0)}};r.push(c)}if(this.numberOfPassenger.child){const c={type:"Tr\u1ebb em (CHD)",quantity:this.numberOfPassenger.child,baseFare:i.getBaseFare("CHILD",a),taxFee:i.getTaxFee("CHILD"),surCharge:o,discountAmount:i.getDiscountByBaseFare("CHILD",a,0,0),totalFare:i.getTotalAmountByType("CHILD")*this.numberOfPassenger.child,get totalDiscountFare(){return this.totalFare-(this.discountAmount||0)}};r.push(c)}if(this.numberOfPassenger.infant){const c={type:"Em b\xe9 (INF)",quantity:this.numberOfPassenger.infant,baseFare:i.getBaseFare("INFANT",a),taxFee:i.getTaxFee("INFANT"),surCharge:o,discountAmount:i.getDiscountByBaseFare("INFANT",a,0,0),totalFare:i.getTotalAmountByType("INFANT")*this.numberOfPassenger.infant,get totalDiscountFare(){return this.totalFare-(this.discountAmount||0)}};r.push(c)}return{totalCharge:r.reduce((c,s)=>c+s.totalFare,0),totallDiscountFareCharge:r.reduce((c,s)=>c+s.totalDiscountFare,0),details:r}}loadTicketFilter(){this.listTicketDisplay=this.listTicket.filter(i=>0===this.ticketFilterState.value.showAirline.length||this.ticketFilterState.value.showAirline.includes(i.airline)).filter(i=>!!(!this.ticketFilterState.value.direct&&!this.ticketFilterState.value.oneRoute&&!this.ticketFilterState.value.moreRoute||this.ticketFilterState.value.direct&&0===i.stopStatus||this.ticketFilterState.value.oneRoute&&1===i.stopStatus||this.ticketFilterState.value.moreRoute&&i.stopStatus>1)).filter(i=>{var a,o;if("DEPART"===this.ticketFilterState.value.timeTypeFilter){if(null===(a=this.ticketFilterState.value.departTime[0])||void 0===a||!a.length)return!0;if(this.ticketFilterState.value.departTime[0].every(p=>{const c=60*i.departure.localTime.getHours()+i.departure.localTime.getMinutes();return c<p.from||c>p.to}))return!1}if("ARRIVE"===this.ticketFilterState.value.timeTypeFilter){if(null===(o=this.ticketFilterState.value.arriveTime[0])||void 0===o||!o.length)return!0;if(this.ticketFilterState.value.arriveTime[0].every(p=>{const c=60*i.arrival.localTime.getHours()+i.arrival.localTime.getMinutes();return c<p.from||c>p.to}))return!1}return!0}).filter(i=>{var a,o;return this.ticketFilterState.value.fareclass.length>0&&"GDS"!==i.provider?this.ticketFilterState.value.fareclass.indexOf(null===(a=i.cabinName)||void 0===a?void 0:a.toUpperCase())>=0&&i.isLowestFare:null!==(o=this.ticketFilterState.value.fareclass)&&void 0!==o&&o.length||"GDS"===i.provider?i.isLowestFare:i.isLowestFareAvailable}).filter(i=>!(this.ticketFilterState.value.plane.length>0)||i.segments.map(a=>this.ticketFilterState.value.plane.indexOf(a.modelAirplane.toUpperCase())>=0).reduce((a,o)=>a||o,!1)).filter(i=>!(this.ticketFilterState.value.bookingSystem.length>0)||this.ticketFilterState.value.bookingSystem.map(a=>"GDS"===a?a===i.provider:"DOMESTIC"===a&&("VN"===i.provider||"VJ"===i.provider||"QH"===i.provider)).reduce((a,o)=>a||o,!1)).map(i=>Object.assign(Object.assign({},i),{showSalePrice:this.ticketDisplayState.value.showSalePrice,showNetPrice:this.ticketDisplayState.value.showNetPrice,showSurchargeFare:this.ticketDisplayState.value.showSurchargeFare,hideFareClass:this.ticketDisplayState.value.hideFareClass,showDuration:this.ticketDisplayState.value.showDuration})),this.listTicketAgentDisplay=this.listTicketAgent.filter(i=>{const a=this.airlineList.map(o=>o.code.toLocaleLowerCase());return 0===a.length||a.includes(i.airline.toLowerCase())}).filter(i=>0===this.ticketFilterState.value.showAirline.length||this.ticketFilterState.value.showAirline.includes(i.airline)).filter(i=>!!(!this.ticketFilterState.value.direct&&!this.ticketFilterState.value.oneRoute&&!this.ticketFilterState.value.moreRoute||this.ticketFilterState.value.direct&&0===i.numOfStop||this.ticketFilterState.value.oneRoute&&1===i.numOfStop||this.ticketFilterState.value.moreRoute&&i.numOfStop>1)).filter(i=>{var a,o;if("DEPART"===this.ticketFilterState.value.timeTypeFilter){if(null===(a=this.ticketFilterState.value.departTime[0])||void 0===a||!a.length)return!0;if(this.ticketFilterState.value.departTime[0].every(p=>{const c=60*i.departure.localTime.getHours()+i.departure.localTime.getMinutes();return c<p.from||c>p.to}))return!1}if("ARRIVE"===this.ticketFilterState.value.timeTypeFilter){if(null===(o=this.ticketFilterState.value.arriveTime[0])||void 0===o||!o.length)return!0;if(this.ticketFilterState.value.arriveTime[0].every(p=>{const c=60*i.arrival.localTime.getHours()+i.arrival.localTime.getMinutes();return c<p.from||c>p.to}))return!1}return!0}).filter(i=>{if(!this.ticketFilterState.value.plane.length)return!0;const a=i.segmentDetails.map(r=>r.modelAirplane);return!!this.ticketFilterState.value.plane.some(r=>a.includes(r))}),this.listTicketAgentDisplay=[...this.listTicketAgentDisplay],this.processSort(),this.ticketInfiniteScrollCount=this.TICKET_INFINITE_SCROLL_DEFAULT,this.isSearchEmpty=!this.listTicketDisplay.length&&!this.listTicketAgentDisplay.length}loadTicketDisplay(){this.loadClientTicketDisplay()}loadClientTicketDisplay(){this.listTicketDisplay=(this.listTicketDisplay?this.listTicketDisplay:this.listTicket).map(i=>Object.assign(Object.assign({},i),{showSalePrice:this.ticketDisplayState.value.showSalePrice,showNetPrice:this.ticketDisplayState.value.showNetPrice,showSurchargeFare:this.ticketDisplayState.value.showSurchargeFare,hideFareClass:this.ticketDisplayState.value.hideFareClass,showDuration:this.ticketDisplayState.value.showDuration}))}openSearchInputBottomSheet(i){this.bottomSheetRef=this._bottomSheetService.open(i,{headerTitle:"T\xecm ki\u1ebfm",leftButtonIcon:"close",rightButtonIcon:"",leftButtonIconClass:"text-neutral-gray-4",containerFullHeigh:!0}),this.bottomSheetRef.containerInstance._leftButtonClick.subscribe(a=>this.bottomSheetRef.dismiss())}onToggleAirline(i){this.searchType===Y.Io.ADD_JOURNEY&&i&&this.mappingMinFares()}onNavigateDatepicker(i){this.listDateSearchMinFares.includes(i)||(this.listDateSearchMinFares.push(i),this.searchMinFaresApi([i]))}generateRangeDateSearchMinFare(i,a=""){const o=m(a||new Date),r=m(i),p=[];p.push(o.format("YYYY-MM-DD"));const c=o.clone().add(1,"month").startOf("month");for(;c.isBefore(r)||c.isSame(r,"month");)p.push(c.format("YYYY-MM-DD")),c.add(1,"month");return p}searchInputChange(i){}updateDateSearchMinFare(i){var a;"AIRPORT"===i&&(this.minFareOptionConfig.minPrice=new Map,this.minFareOptionConfig=Object.assign({},this.minFareOptionConfig),this.listDateSearchMinFares=[]);let r=[],p=new Date;if(p=null===(a=this._searchInputService.searchInputForm.value[0])||void 0===a?void 0:a.departDate,!p&&!this.minFareOptionConfig.minPrice.size&&(this.initDateSearchMinFare(),r=this.listDateSearchMinFares),p){const c=m(new Date(p.getFullYear(),p.getMonth())).format("YYYY-MM-DD");((c,s)=>{const D=c.getFullYear(),P=s.getFullYear(),E=c.getMonth();return 12*(P-D)+(s.getMonth()-E)})(new Date,p)>2?r.push(c):this.generateRangeDateSearchMinFare(c).forEach(D=>{this.listDateSearchMinFares.includes(D)||r.push(D)})}r&&r.length&&this.searchMinFaresApi(r)}searchMinFaresApi(i){if(this.searchType===Y.Io.ADD_JOURNEY){const a=this.searchInputForm.value[0];if(a.startPoint&&a.endPoint){let o=[];o=i.map(r=>({departDate:m(new Date(r)).format("YYYY-MM-DD"),endPoint:a.endPoint,leg:0,providers:`${k.QK.VJ},${k.QK.VN}`,startPoint:a.startPoint})),this._searchFlightService.searchMinFare(o).subscribe({next:r=>{"OK"===r.status&&r.data.length&&(this.searchMinFaresResult=r.data,this.searchMinFaresCurrentLegResult=this.searchMinFaresResult.find(p=>p.leg===o[0].leg),this.mappingMinFares())}})}}}mappingMinFares(){if(this.searchMinFaresCurrentLegResult){this.minFareOptionConfig.minPrice=new Map;const i=this.minFareOptionConfig.airlineMinPrice.filter(a=>a.selected).map(a=>a.airline);Object.entries(this.searchMinFaresCurrentLegResult.data).forEach(a=>{const o=a[1].filter(c=>i.includes(c.key)),r=o.length?o.reduce((c,s)=>s.value<c.value?s:c):null,p=r?this.minFareOptionConfig.airlineMinPrice.find(c=>c.airline===r.key):null;this.minFareOptionConfig.minPrice.set(a[0],r?{price:Math.ceil((r.value+(r.serviceFee||0))/1e3),serviceFee:(null==r?void 0:r.serviceFee)||0,originPrice:(null==r?void 0:r.value)||0,airline:(null==p?void 0:p.airline)||r.key,airlineName:(null==p?void 0:p.airlineName)||r.key,color:(null==p?void 0:p.color)||""}:null)}),this.minFareOptionConfig=Object.assign({},this.minFareOptionConfig)}}}return d.\u0275fac=function(i){return new(i||d)(t.Y36(S.KNP),t.Y36(x.qu),t.Y36(v.oE),t.Y36(l.M),t.Y36(f.$A),t.Y36(w.L),t.Y36(ae.a2),t.Y36(re.G),t.Y36(oe._),t.Y36(J.vQ),t.Y36(A.h),t.Y36(ne.t7),t.Y36(pe.m))},d.\u0275cmp=t.Xpm({type:d,selectors:[["search-journey-modify"]],inputs:{hiddenCharge:"hiddenCharge",reroutingJourneySeleceted:"reroutingJourneySeleceted",currentJourneySeleceted:"currentJourneySeleceted",searchType:"searchType"},outputs:{valueChange:"valueChange",ticketSelected:"ticketSelected"},standalone:!0,features:[t.TTD,t.jDz],decls:33,vars:9,consts:[[1,"flex","flex-col","gap-y-6","h-full","md:hidden"],[1,"bg-neutral-white","px-6","py-4","rounded"],[1,"flex","flex-col","gap-y-5"],[1,"flex","justify-between","items-center"],[1,"flex","gap-x-2","items-center"],["icon","plane","size","small"],[1,"text-heading-xs"],[1,"flex","justify-end","gap-x-2"],[1,"flex","items-center","gap-x-2","px-3","py-2"],["icon","users","size","small",1,"text-neutral-gray-6"],[1,"text-button-md","text-neutral-gray-6"],["icon","grid","size","small",1,"text-neutral-gray-6"],[1,"flex","gap-x-2"],[1,"flex-1"],[3,"formArray","minFareOptionConfig","dataChange","toggleAirline","navigateDatepicker"],["cf-button","","size","medium","type","secondary",1,"w-[168px]","!py-[7px]","!h-auto","!max-h-14",3,"click"],["icon","search","size","small",1,"mr-2.5"],[1,"whitespace-nowrap"],["class","flex-1 flex gap-x-4",4,"ngIf"],[1,"hidden","md:block"],["class","flex flex-col gap-y-4",4,"ngIf","ngIfElse"],["inputSearchTemp",""],[4,"ngIf"],["searchInputBottomSheet",""],[1,"flex-1","flex","gap-x-4"],[1,"w-[252px]","flex-shrink-0"],[3,"currentMode","airlineList","ticketFilter","ticketDisplay","fareclassList","planeModelList","selectedFare","departureTimeList","arrivalTimeList","durationFilter","minDuration","maxDuration","departTimeComboList","arriveTimeComboList","minFareClss","priceFilter","minPrice","maxPrice","bookingSystemList","hiddenCharge","ticketFilterChange","ticketDisplayChange"],[1,"mb-4","flex","justify-between","items-center"],[3,"modeView","disableAgencyMode","disableRetailMode","modeChange"],[1,"flex","gap-x-3"],["cf-button","","size","medium","type","secondary","class","bg-white flex gap-x-2",3,"click",4,"ngIf"],[1,"md:hidden",3,"sortDefault","hiddenCharge","sortChange"],[4,"ngIf","ngIfElse"],["searchResultTemp",""],[1,"mt-[56px]","w-[302px]","flex-shrink-0","rounded","h-fit","md:hidden","sticky","top-0"],[1,"bg-neutral-white"],[1,"flex","justify-between","items-center","py-3","px-4"],[1,"text-espressive-sm","text-neutral-black"],["class","cursor-pointer","icon","share","size","small",3,"click",4,"ngIf"],[3,"ticketsSelected","showDetail","reselect"],["class","flex justify-between items-center py-3 px-4",4,"ngIf"],["cf-button","","size","medium","type","secondary",1,"bg-white","flex","gap-x-2",3,"click"],["icon","document","size","small",1,"text-heading-xs","text-neutral-black","mr-1.5"],[1,"empty","flex","items-center","mt-20","flex-col"],["src","assets/images/empty_result.png","alt","empty",1,"w-[160px]","h-160px","object-contain"],[1,"text-heading-md","mt-[30px]"],[1,"text-body-md","mt-2"],["class","flex flex-col gap-y-3","infinite-scroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","scrollWindow","fromRoot","alwaysCallback","scrolled",4,"ngIf"],["infinite-scroll","",1,"flex","flex-col","gap-y-3",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","scrollWindow","fromRoot","alwaysCallback","scrolled"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"ticket","listFareRule","listFareRuleClasses","hiddenCharge","ticketSelected",4,"ngIf"],[3,"ticket","listFareRule","listFareRuleClasses","hiddenCharge","ticketSelected"],[4,"ngFor","ngForOf"],["icon","share","size","small",1,"cursor-pointer",3,"click"],[1,"text-heading-md","text-neutral-black"],[1,"flex","flex-col","gap-y-4"],[1,"flex-col","w-full","flex","sticky","top-0","z-[5]"],[1,"px-4","pt-3","pb-2","bg-white"],[1,"flex","items-center","justify-between","w-full"],[1,"flex","flex-col","grow-1","gap-y-1",3,"click"],[1,"flex","items-center","gap-x-1"],[1,"text-espressive-sm","text-neutral-gray-6"],["icon","arrow_right","size","small",1,"text-secondary-7-5"],["type","inverted",3,"color","size"],["icon","edit","size","small",1,"text-secondary-6-4","ml-2.5"],[1,"flex","items-center"],[1,"text-body-sm","text-neutral-gray-5"],[1,"w-0","border-r","border-r-secondary-7-2","mx-1","h-4"],[1,"pl-4","pt-0","hidden","md:block","bg-white","shadow-cf-md"],[1,"flex","items-center","gap-x-2","overflow-y-auto","pr-4","pb-3"],[3,"currentMode","airlineList","ticketFilter","ticketDisplay","fareclassList","planeModelList","selectedFare","departureTimeList","arrivalTimeList","durationFilter","minDuration","maxDuration","departTimeComboList","arriveTimeComboList","minFareClss","priceFilter","minPrice","maxPrice","bookingSystemList","ticketFilterChange","ticketDisplayChange"],[3,"modeView","disableAgencyMode","modeChange"],[3,"ticket","listFareRule","listFareRuleClasses","ticketSelected",4,"ngIf"],[3,"ticket","listFareRule","listFareRuleClasses","ticketSelected"],[1,"bg-neutral-white","p-4","rounded-lg","flex","flex-col","gap-y-4"],[3,"formArray"],["cf-button","","size","medium","color","primary-1","type","solid",1,"w-full","justify-center",3,"click"],[1,"bg-neutral-white","p-6","rounded-lg","w-full","shadow-cf-md","md:p-4"],[1,"flex","items-center","justify-between","mb-5"],[1,"md:w-full"],[1,"flex","items-center","justify-end","gap-x-4","md:hidden"],[1,"mb-[20px]","md:mb-4"],[1,"h-0","border-b","border-b-neutral-gray-2","my-4","hidden","md:block"],[1,"flex","justify-between","items-center","md:flex-col","md:items-start","md:gap-y-4"],[1,"flex","justify-start","gap-x-[34px]"],[1,"flex","items-center","gap-3"],["cf-button","","size","medium","color","primary-1","type","solid",1,"md:w-full","md:justify-center",3,"click"]],template:function(i,a){if(1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"div",4),t._UZ(6,"cf-icon",5),t.TgZ(7,"div",6),t._uU(8,"Ch\u1ecdn h\xe0nh tr\xecnh m\u1edbi"),t.qZA()()(),t.TgZ(9,"div",7)(10,"div",8),t._UZ(11,"cf-icon",9),t.TgZ(12,"div",10),t._uU(13),t.qZA()(),t.TgZ(14,"div",8),t._UZ(15,"cf-icon",11),t.TgZ(16,"div",10),t._uU(17),t.qZA()()()(),t.TgZ(18,"div",12)(19,"div",13)(20,"cf-search-flight-input",14),t.NdJ("dataChange",function(r){return a.searchInputChange(r)})("toggleAirline",function(r){return a.onToggleAirline(r)})("navigateDatepicker",function(r){return a.onNavigateDatepicker(r)}),t.qZA()(),t.TgZ(21,"button",15),t.NdJ("click",function(){return a.onResearchFlight()}),t._UZ(22,"cf-icon",16),t.TgZ(23,"div",17),t._uU(24," T\xecm chuy\u1ebfn bay "),t.qZA()()()()(),t.YNc(25,De,21,32,"div",18),t.qZA(),t.TgZ(26,"div",19),t.YNc(27,Je,30,32,"div",20),t.YNc(28,Ne,5,1,"ng-template",null,21,t.W1O),t.qZA(),t.YNc(30,Ue,1,0,"cf-spinner",22),t.YNc(31,Ie,13,1,"ng-template",null,23,t.W1O)),2&i){const o=t.MAs(29);t.xp6(13),t.hij("",a.numberOfPassenger.adult+a.numberOfPassenger.child," kh\xe1ch "),t.xp6(4),t.AsE("",a.bookingDetailReroutingData.airlineName," (",a.bookingDetailReroutingData.airline,")"),t.xp6(3),t.Q6J("formArray",a.searchInputForm)("minFareOptionConfig",a.minFareOptionConfig),t.xp6(5),t.Q6J("ngIf",!a.isFirstTake||!a.searchJourneyModifyType.ADD_JOURNEY),t.xp6(2),t.Q6J("ngIf",!a.isFirstTake||!a.searchJourneyModifyType.ADD_JOURNEY)("ngIfElse",o),t.xp6(3),t.Q6J("ngIf",a.isLoading)}},dependencies:[M.ez,M.sg,M.O5,M.JJ,M.uU,S.AxE,S.Sm8,$.N8,$.Xq,n.t3,e.a7,e.kx,e.ZZ,e.Vz,e.bM,e.qx,W.Rq,W.Ry,e.AS,V.OR,x.u5,x.UX,G.b],encapsulation:2}),d})()},58276:(ge,z,u)=>{u.d(z,{G:()=>G});var M=u(36895),t=u(10908),x=u(83700),S=u(72506),K=u(44890),e=u(94650),n=u(97579);function f(h,v){if(1&h&&(e.TgZ(0,"div",51),e._UZ(1,"cf-icon",52),e.TgZ(2,"span",53),e._uU(3),e.qZA()()),2&h){const l=e.oxw().$implicit;e.xp6(3),e.hij(" ",l.stopPoint," ")}}function m(h,v){1&h&&e._UZ(0,"div",54)}function X(h,v){if(1&h&&(e.TgZ(0,"div",55)(1,"div",30),e._uU(2),e.qZA(),e.TgZ(3,"div",56),e._uU(4),e.qZA()()),2&h){const l=v.$implicit;e.xp6(2),e.hij("",l.name,":\xa0"),e.xp6(2),e.Oqu(l.value)}}const W=function(){return[]};function b(h,v){if(1&h&&(e.ynx(0),e.YNc(1,f,4,1,"div",21),e.TgZ(2,"div",22)(3,"div",23),e.YNc(4,m,1,0,"div",24),e.qZA(),e.TgZ(5,"div",25)(6,"div",26)(7,"div"),e._UZ(8,"img",27),e.qZA(),e.TgZ(9,"div",28)(10,"div",29),e._uU(11),e.qZA(),e.TgZ(12,"div",30),e._uU(13),e.qZA()(),e.TgZ(14,"div",31),e._uU(15),e.qZA()(),e.TgZ(16,"div",32)(17,"div",16)(18,"div",33)(19,"div",34),e._UZ(20,"cf-icon",35),e.TgZ(21,"div"),e._uU(22),e.qZA()(),e.TgZ(23,"div",36),e._UZ(24,"div",37)(25,"div",38)(26,"cf-icon",39),e.qZA()(),e.TgZ(27,"div",40),e._UZ(28,"cf-icon",41),e.TgZ(29,"div",42),e._uU(30),e.qZA()(),e.TgZ(31,"div",43),e._UZ(32,"cf-icon",44),e.TgZ(33,"div",45)(34,"span",46),e._uU(35),e.qZA(),e.TgZ(36,"span",47),e._uU(37),e.qZA()()()(),e.TgZ(38,"div")(39,"div",48),e._UZ(40,"cf-icon",35),e.TgZ(41,"div"),e._uU(42),e.qZA()(),e.TgZ(43,"div",40),e._UZ(44,"cf-icon",41),e.TgZ(45,"div",42),e._uU(46),e.qZA()(),e.TgZ(47,"div",43),e._UZ(48,"cf-icon",44),e.TgZ(49,"div",45)(50,"span",46),e._uU(51),e.qZA(),e.TgZ(52,"span",47),e._uU(53),e.qZA()()()()()(),e.TgZ(54,"div",49),e.YNc(55,X,5,2,"div",50),e.qZA()(),e.BQk()),2&h){const l=v.$implicit;e.xp6(1),e.Q6J("ngIf",l.stopPoint),e.xp6(3),e.Q6J("ngForOf",e.DdM(15,W).constructor(6)),e.xp6(4),e.Q6J("src","assets/airline-logo/"+l.operating+".png",e.LSH),e.xp6(3),e.hij("",l.operating," - "),e.xp6(2),e.hij("\xa0",l.operatingName,""),e.xp6(2),e.hij(" ",l.flightNumber," "),e.xp6(7),e.Oqu(l.startTime),e.xp6(8),e.Oqu(l.startDate),e.xp6(5),e.hij("",l.startPoint," - "),e.xp6(2),e.Oqu(l.startPointName),e.xp6(5),e.hij(" ",l.endTime," "),e.xp6(4),e.Oqu(l.endDate),e.xp6(5),e.hij("",l.endPoint," - "),e.xp6(2),e.Oqu(l.endPointName),e.xp6(2),e.Q6J("ngForOf",null==l?null:l.rules)}}function L(h,v){if(1&h&&(e.TgZ(0,"tr")(1,"td",64),e._uU(2),e.qZA(),e.TgZ(3,"td",64),e._uU(4),e.qZA(),e.TgZ(5,"td",64),e._uU(6),e.ALo(7,"number"),e.qZA(),e.TgZ(8,"td",64),e._uU(9),e.ALo(10,"number"),e.qZA(),e.TgZ(11,"td",65),e._uU(12),e.ALo(13,"number"),e.qZA()()),2&h){const l=v.$implicit;e.xp6(2),e.Oqu(l.name),e.xp6(2),e.Oqu(l.typeDisplay),e.xp6(2),e.Oqu(e.lcZ(7,5,l.baseFare)),e.xp6(3),e.Oqu(e.lcZ(10,7,l.taxFee)),e.xp6(3),e.Oqu(e.lcZ(13,9,l.totalPrice))}}function F(h,v){if(1&h&&(e.TgZ(0,"div")(1,"div",17),e._UZ(2,"cf-icon",57),e.TgZ(3,"span",3),e._uU(4,"Gi\xe1 v\xe9 g\u1ed1c"),e.qZA()(),e.TgZ(5,"table",58)(6,"thead")(7,"tr",59)(8,"th",60),e._uU(9,"H\xe0nh kh\xe1ch"),e.qZA(),e.TgZ(10,"th",60),e._uU(11,"Lo\u1ea1i"),e.qZA(),e.TgZ(12,"th",60),e._uU(13,"Gi\xe1 v\xe9"),e.qZA(),e.TgZ(14,"th",60),e._uU(15,"Thu\u1ebf ph\xed"),e.qZA(),e.TgZ(16,"th",61),e._uU(17,"T\u1ed5ng gi\xe1"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,L,14,11,"tr",19),e.qZA()(),e.TgZ(20,"div",62)(21,"div",29),e._uU(22,"T\u1ed5ng gi\xe1 v\xe9"),e.qZA(),e.TgZ(23,"div",63),e._uU(24),e.ALo(25,"number"),e.qZA()()()),2&h){const l=e.oxw(2);e.xp6(19),e.Q6J("ngForOf",l.passengers||e.DdM(4,W)),e.xp6(5),e.hij("",e.lcZ(25,2,l.flightInfo.ticketPrice.totalCharge)," \u0111")}}function N(h,v){if(1&h&&(e.TgZ(0,"div",15)(1,"div",16)(2,"div",17),e._UZ(3,"cf-icon",18),e.TgZ(4,"span",3),e._uU(5),e.qZA()(),e.YNc(6,b,56,16,"ng-container",19),e.qZA(),e.YNc(7,F,26,5,"div",20),e.qZA()),2&h){const l=e.oxw();e.xp6(5),e.lnq(" Th\xf4ng tin chuy\u1ebfn bay ",l.flightInfo.startPoint," - ",l.flightInfo.endPoint,", ",l.flightInfo.departureDate," "),e.xp6(1),e.Q6J("ngForOf",l.flightInfo.segments),e.xp6(1),e.Q6J("ngIf",l.flightInfo.ticketPrice)}}function q(h,v){if(1&h&&(e.TgZ(0,"div",66)(1,"div",67)(2,"div",68),e._UZ(3,"img",27),e.qZA(),e.TgZ(4,"div",69),e._uU(5,"H\xe0nh tr\xecnh hi\u1ec7n t\u1ea1i"),e.qZA(),e.TgZ(6,"div",70),e._uU(7,"H\xe0nh tr\xecnh m\u1edbi"),e.qZA()(),e.TgZ(8,"div",67)(9,"div",71),e._uU(10,"H\xe0nh tr\xecnh"),e.qZA(),e.TgZ(11,"div",68)(12,"div",72)(13,"span"),e._uU(14),e.qZA(),e._UZ(15,"cf-icon",73),e.TgZ(16,"span"),e._uU(17),e.qZA()()(),e.TgZ(18,"div",68)(19,"div",72)(20,"span"),e._uU(21),e.qZA(),e._UZ(22,"cf-icon",73),e.TgZ(23,"span"),e._uU(24),e.qZA()()()(),e.TgZ(25,"div",74)(26,"div",71),e._uU(27,"Gi\u1edd bay"),e.qZA(),e.TgZ(28,"div",75),e._uU(29),e.qZA(),e.TgZ(30,"div",75),e._uU(31),e.qZA()(),e.TgZ(32,"div",67)(33,"div",71),e._uU(34,"Ch\u1eb7ng bay"),e.qZA(),e.TgZ(35,"div",75),e._uU(36),e.qZA(),e.TgZ(37,"div",75),e._uU(38),e.qZA()(),e.TgZ(39,"div",74)(40,"div",71),e._uU(41,"Gi\xe1 v\xe9"),e.qZA(),e.TgZ(42,"div",75),e._uU(43),e.ALo(44,"number"),e.qZA(),e.TgZ(45,"div",75),e._uU(46),e.ALo(47,"number"),e.qZA()(),e.TgZ(48,"div",67)(49,"div",71),e._uU(50,"Ch\xeanh l\u1ec7ch"),e.qZA(),e.TgZ(51,"div",75),e._uU(52),e.ALo(53,"number"),e.qZA(),e.TgZ(54,"div",76),e._uU(55),e.ALo(56,"number"),e.qZA()()()),2&h){const l=e.oxw();e.xp6(3),e.Q6J("src","assets/airline-logo/"+l.flightInfo.airline+".png",e.LSH),e.xp6(11),e.hij(" ",l.compareJourneyData.oldJourney.startPoint,""),e.xp6(3),e.hij(" ",l.compareJourneyData.oldJourney.endPoint," "),e.xp6(4),e.hij(" ",l.compareJourneyData.newJourney.startPoint," "),e.xp6(3),e.hij(" ",l.compareJourneyData.newJourney.endPoint," "),e.xp6(5),e.hij("",l.compareJourneyData.oldJourney.startTime," "),e.xp6(2),e.hij("",l.compareJourneyData.newJourney.startTime," "),e.xp6(5),e.hij(" ",l.compareJourneyData.oldJourney.redirectType,""),e.xp6(2),e.hij(" ",l.compareJourneyData.newJourney.redirectType,""),e.xp6(5),e.hij(" ",e.lcZ(44,13,l.compareJourneyData.oldJourney.totalBaseFare)," \u0111"),e.xp6(3),e.hij(" ",e.lcZ(47,15,l.compareJourneyData.newJourney.totalBaseFare)," \u0111"),e.xp6(6),e.Oqu(l.compareJourneyData.oldJourney.gapCharge?e.lcZ(53,17,l.compareJourneyData.oldJourney.gapCharge)+" \u0111":""),e.xp6(3),e.hij("T\u0103ng ",e.lcZ(56,19,l.compareJourneyData.newJourney.gapCharge)," \u0111")}}function te(h,v){if(1&h&&(e.TgZ(0,"div",94),e._UZ(1,"cf-icon",52),e.TgZ(2,"span",53),e._uU(3),e.qZA()()),2&h){const l=e.oxw().$implicit;e.xp6(3),e.hij(" ",l.stopPoint," ")}}function ce(h,v){if(1&h&&(e.TgZ(0,"div",55)(1,"div",30),e._uU(2),e.qZA(),e.TgZ(3,"div",95),e._uU(4),e.qZA()()),2&h){const l=v.$implicit;e.xp6(2),e.hij("",l.name,":\xa0"),e.xp6(2),e.Oqu(l.value)}}function Q(h,v){if(1&h&&(e.ynx(0),e.YNc(1,te,4,1,"div",78),e.TgZ(2,"div",79)(3,"div",80)(4,"div",43),e._UZ(5,"img",81),e.TgZ(6,"div",82)(7,"div",83),e._uU(8),e.qZA(),e.TgZ(9,"div",84),e._uU(10),e.qZA()()()(),e.TgZ(11,"div",85)(12,"div",86)(13,"div",87)(14,"div",83),e._uU(15),e.qZA(),e.TgZ(16,"div",84),e._uU(17),e.qZA()(),e.TgZ(18,"div",87)(19,"div",83),e._uU(20),e.qZA(),e.TgZ(21,"div",84),e._uU(22),e.qZA()()(),e.TgZ(23,"div",88),e._UZ(24,"div",89)(25,"div",90)(26,"cf-icon",91),e.qZA(),e.TgZ(27,"div",86)(28,"div",82)(29,"div",83),e._uU(30),e.qZA(),e.TgZ(31,"div",84),e._uU(32),e.qZA()(),e.TgZ(33,"div",82)(34,"div",83),e._uU(35),e.qZA(),e.TgZ(36,"div",84),e._uU(37),e.qZA()()()(),e._UZ(38,"div",92),e.TgZ(39,"div",93),e.YNc(40,ce,5,2,"div",50),e.qZA()(),e.BQk()),2&h){const l=v.$implicit;e.xp6(1),e.Q6J("ngIf",l.stopPoint),e.xp6(4),e.Q6J("src",l.mobileAirlineLogo,e.LSH),e.xp6(3),e.Oqu(l.flightNumber),e.xp6(2),e.Oqu(l.airlineName),e.xp6(5),e.Oqu(l.startTime),e.xp6(2),e.Oqu(l.startDate),e.xp6(3),e.Oqu(l.endTime),e.xp6(2),e.Oqu(l.endDate),e.xp6(8),e.AsE("",l.startPointName," - ",l.startPoint," "),e.xp6(2),e.Oqu(l.startAirport),e.xp6(3),e.AsE("",l.endPointName," - ",l.endPoint," "),e.xp6(2),e.Oqu(l.endAirport),e.xp6(3),e.Q6J("ngForOf",l.rules)}}function ie(h,v){if(1&h&&(e.TgZ(0,"div",97)(1,"div",101)(2,"div",102),e._uU(3,"H\xe0nh kh\xe1ch"),e.qZA(),e.TgZ(4,"div",100),e._uU(5),e.qZA()(),e.TgZ(6,"div",101)(7,"div",102),e._uU(8,"Lo\u1ea1i h\xe0nh kh\xe1ch"),e.qZA(),e.TgZ(9,"div",100),e._uU(10),e.qZA()(),e.TgZ(11,"div",101)(12,"div",102),e._uU(13,"Gi\xe1 v\xe9"),e.qZA(),e.TgZ(14,"div",100),e._uU(15),e.ALo(16,"replace"),e.ALo(17,"number"),e.qZA()(),e.TgZ(18,"div",101)(19,"div",102),e._uU(20,"Thu\u1ebf ph\xed"),e.qZA(),e.TgZ(21,"div",100),e._uU(22),e.ALo(23,"replace"),e.ALo(24,"number"),e.qZA()(),e.TgZ(25,"div",101)(26,"div",102),e._uU(27,"T\u1ed5ng gi\xe1"),e.qZA(),e.TgZ(28,"div",100),e._uU(29),e.ALo(30,"replace"),e.ALo(31,"number"),e.qZA()()()),2&h){const l=v.$implicit;e.xp6(5),e.Oqu(l.name),e.xp6(5),e.Oqu(l.typeDisplay),e.xp6(5),e.hij("",e.Dn7(16,5,e.lcZ(17,9,l.baseFare),",","."),"\u0111 "),e.xp6(7),e.hij("",e.Dn7(23,11,e.lcZ(24,15,l.taxFee||0),",","."),"\u0111 "),e.xp6(7),e.hij("",e.Dn7(30,17,e.lcZ(31,21,l.totalPrice),",","."),"\u0111 ")}}function V(h,v){if(1&h&&(e.TgZ(0,"div")(1,"div",56),e._uU(2,"Gi\xe1 v\xe9 g\u1ed1c"),e.qZA(),e.TgZ(3,"div",94),e._UZ(4,"cf-icon",52),e.TgZ(5,"span",53),e._uU(6," Ch\u01b0a bao g\u1ed3m ph\xed d\u1ecbch v\u1ee5 v\xe0 chi ph\xed d\u1ecbch v\u1ee5 c\u1ed9ng th\xeam "),e.qZA()(),e.YNc(7,ie,32,23,"div",96),e.TgZ(8,"div",97)(9,"div",98)(10,"div",99),e._uU(11,"T\u1ed5ng gi\xe1 v\xe9"),e.qZA(),e.TgZ(12,"div",100),e._uU(13),e.ALo(14,"replace"),e.ALo(15,"number"),e.qZA()()()()),2&h){const l=e.oxw(2);e.xp6(7),e.Q6J("ngForOf",l.passengers),e.xp6(6),e.hij(" ",e.Dn7(14,2,e.lcZ(15,6,(null==l.flightInfo.ticketPrice?null:l.flightInfo.ticketPrice.totalCharge)||0),",",".")," \u0111")}}function $(h,v){if(1&h&&(e.TgZ(0,"div",77)(1,"div",56),e._uU(2),e.qZA(),e.YNc(3,Q,41,15,"ng-container",19),e.YNc(4,V,16,8,"div",20),e.qZA()),2&h){const l=e.oxw();e.xp6(2),e.lnq(" Th\xf4ng tin chuy\u1ebfn bay ",l.flightInfo.startPoint," - ",l.flightInfo.endPoint,", ",l.flightInfo.departureDate," "),e.xp6(1),e.Q6J("ngForOf",l.flightInfo.segments),e.xp6(1),e.Q6J("ngIf",l.flightInfo.ticketPrice)}}function Y(h,v){if(1&h&&(e.TgZ(0,"div",103)(1,"div",104)(2,"div",105),e._uU(3,"H\xe0nh tr\xecnh"),e.qZA(),e.TgZ(4,"div",106)(5,"div",107),e._uU(6,"H\xe0nh tr\xecnh hi\u1ec7n t\u1ea1i"),e.qZA(),e.TgZ(7,"div",72)(8,"span"),e._uU(9),e.qZA(),e._UZ(10,"cf-icon",73),e.TgZ(11,"span"),e._uU(12),e.qZA()()(),e.TgZ(13,"div",108)(14,"div",107),e._uU(15,"H\xe0nh tr\xecnh m\u1edbi"),e.qZA(),e.TgZ(16,"div",72)(17,"span"),e._uU(18),e.qZA(),e._UZ(19,"cf-icon",73),e.TgZ(20,"span"),e._uU(21),e.qZA()()()(),e.TgZ(22,"div",104)(23,"div",105),e._uU(24,"Gi\u1edd bay"),e.qZA(),e.TgZ(25,"div",106)(26,"div",107),e._uU(27,"H\xe0nh tr\xecnh hi\u1ec7n t\u1ea1i"),e.qZA(),e.TgZ(28,"div",53),e._uU(29),e.qZA()(),e.TgZ(30,"div",108)(31,"div",107),e._uU(32,"H\xe0nh tr\xecnh m\u1edbi"),e.qZA(),e.TgZ(33,"div",109),e._uU(34),e.qZA()()(),e.TgZ(35,"div",104)(36,"div",105),e._uU(37,"Ch\u1eb7ng bay"),e.qZA(),e.TgZ(38,"div",106)(39,"div",107),e._uU(40,"H\xe0nh tr\xecnh hi\u1ec7n t\u1ea1i"),e.qZA(),e.TgZ(41,"div",53),e._uU(42),e.qZA()(),e.TgZ(43,"div",108)(44,"div",107),e._uU(45,"H\xe0nh tr\xecnh m\u1edbi"),e.qZA(),e.TgZ(46,"div",109),e._uU(47),e.qZA()()(),e.TgZ(48,"div",104)(49,"div",105),e._uU(50,"Gi\xe1 v\xe9"),e.qZA(),e.TgZ(51,"div",106)(52,"div",107),e._uU(53,"H\xe0nh tr\xecnh hi\u1ec7n t\u1ea1i"),e.qZA(),e.TgZ(54,"div",53),e._uU(55),e.ALo(56,"number"),e.qZA()(),e.TgZ(57,"div",108)(58,"div",107),e._uU(59,"H\xe0nh tr\xecnh m\u1edbi"),e.qZA(),e.TgZ(60,"div",109),e._uU(61),e.ALo(62,"number"),e.qZA()()(),e.TgZ(63,"div",110)(64,"div",105),e._uU(65,"Ch\xeanh l\u1ec7ch"),e.qZA(),e.TgZ(66,"div",111),e._uU(67),e.ALo(68,"number"),e.qZA()()()),2&h){const l=e.oxw();e.xp6(9),e.hij(" ",l.compareJourneyData.oldJourney.startPoint,""),e.xp6(3),e.hij(" ",l.compareJourneyData.oldJourney.endPoint," "),e.xp6(6),e.hij(" ",l.compareJourneyData.newJourney.startPoint," "),e.xp6(3),e.hij(" ",l.compareJourneyData.newJourney.endPoint," "),e.xp6(8),e.hij(" ",l.compareJourneyData.oldJourney.startTime," "),e.xp6(5),e.hij(" ",l.compareJourneyData.newJourney.startTime," "),e.xp6(8),e.hij(" ",l.compareJourneyData.oldJourney.redirectType," "),e.xp6(5),e.hij(" ",l.compareJourneyData.newJourney.redirectType," "),e.xp6(8),e.hij(" ",e.lcZ(56,11,l.compareJourneyData.oldJourney.totalBaseFare)," \u0111 "),e.xp6(6),e.hij(" ",e.lcZ(62,13,l.compareJourneyData.newJourney.totalBaseFare)," \u0111 "),e.xp6(6),e.hij("",e.lcZ(68,15,l.compareJourneyData.newJourney.gapCharge)," \u0111")}}function k(h,v){1&h&&(e.TgZ(0,"td",99),e._uU(1,"N/A"),e.qZA())}let G=(()=>{class h{constructor(l,A,w,ae){this.ref=A,this.bottomSheetData=w,this.bottomSheetRef=ae,this.currentIndex="JOURNEY_DETAIL",l.registerIcons([S.UNF,S.Ffn,S.o1t]),A&&(this.currentIndex=A.data.type,this.compareJourneyData=A.data.compareJourneyData,this.flightInfo=A.data.flightInfo,this.passengers=A.data.passengers),w&&(this.currentIndex=w.type,this.compareJourneyData=w.compareJourneyData,this.flightInfo=w.flightInfo,this.passengers=w.passengers)}onClose(){this.ref&&this.ref.close(),this.bottomSheetRef&&this.bottomSheetRef.dismiss(!1)}}return h.\u0275fac=function(l){return new(l||h)(e.Y36(S.KNP),e.Y36(n.gb,8),e.Y36(t.Rr,8),e.Y36(t.Zu,8))},h.\u0275cmp=e.Xpm({type:h,selectors:[["journey-modify-detail-modal"]],hostAttrs:[1,"md:w-full"],standalone:!0,features:[e.jDz],decls:18,vars:4,consts:[[1,"w-[800px]","h-[600px]","rounded-lg","bg-neutral-white","overflow-hidden","md:hidden"],[1,"w-full","h-full","max-h-[600px]","flex","flex-col"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-neutral-gray-1"],[1,"text-heading-sm","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"overflow-auto"],["class","flow-auto w-ful h-full overflow-auto py-4 px-6 flex flex-col gap-y-6",4,"ngIf"],["class","flex flex-col",4,"ngIf"],[1,"p-6","flex","justify-end","gap-x-4"],["cf-button","","size","medium",1,"min-w-[100px]","justify-center",3,"click"],[1,"hidden","md:flex","h-full","w-full","flex-col"],[1,"h-full"],["class","p-4 bg-neutral-gray-1 w-full h-full overflow-y-scroll gap-3 flex flex-col",4,"ngIf"],["class","flex flex-col gap-y-3 bg-neutral-gray-1 p-4 h-full",4,"ngIf"],["NATemplate",""],[1,"flow-auto","w-ful","h-full","overflow-auto","py-4","px-6","flex","flex-col","gap-y-6"],[1,""],[1,"mb-4","flex","items-center","gap-x-2"],["icon","circle_information","size","small",1,"cf-icon-small"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","w-full bg-[#F0EAF4] rounded flex items-center gap-x-2 py-1.5 px-3 my-3",4,"ngIf"],[1,"flex","justify-between","items-center","border","border-neutral-gray-2","rounded","shadow-cf-journey-booking-success","relative"],[1,"absolute","-translate-x-[18%]","top-0","h-full","flex","flex-col","justify-between","py-3.5"],["class","w-1.5 h-3 border border-l-0 bg-neutral-white border-neutral-gray-2 rounded-r-full",4,"ngFor","ngForOf"],[1,"px-8","pt-6","pb-8","flex","flex-1","justify-between","gap-x-9"],[1,"flex","flex-col","items-center","justify-center"],[1,"w-[120px]","h-[60px]","object-contain",3,"src"],[1,"flex","items-center","mt-1.5"],[1,"text-espressive-sm"],[1,"text-body-sm"],[1,"py-[2px]","px-2","bg-neutral-gray-1","rounded","text-espressive-sm","text-neutral-black","mt-2"],[1,"flex","justify-between","gap-x-3"],[1,"flex","items-center","gap-x-[20px]","mb-3"],[1,"text-heading-lg","text-neutral-black","flex","gap-x-2","items-center"],["icon","clock","size","small"],[1,"flex","items-center","w-[50px]","py-1","px-2.5"],[1,"w-1.5","h-1.5","bg-neutral-gray-2","rounded-full"],[1,"w-full","h-[1px]","bg-neutral-gray-2"],["icon","plane","size","small",1,"text-[#ccc]"],[1,"flex","items-center","gap-x-2","mb-2"],["icon","calendar","size","small"],[1,"text-body-md","text-neutral-black"],[1,"flex","items-center","gap-x-2"],["icon","location","size","small"],[1,"text-neutral-black"],[1,"text-espressive-md"],[1,"text-body-md"],[1,"text-heading-lg","text-neutral-black","mb-3","flex","gap-x-2","items-center"],[1,"py-6","px-[18px]","border-l","border-dashed","border-neutral-gray-2","flex","flex-col","justify-between","gap-y-2"],["class","flex flex-nowrap items-center",4,"ngFor","ngForOf"],[1,"w-full","bg-[#F0EAF4]","rounded","flex","items-center","gap-x-2","py-1.5","px-3","my-3"],["icon","circle_information","size","small",1,"text-secondary-2-4"],[1,"text-express-md","text-neutral-gray-6"],[1,"w-1.5","h-3","border","border-l-0","bg-neutral-white","border-neutral-gray-2","rounded-r-full"],[1,"flex","flex-nowrap","items-center"],[1,"text-espressive-sm","text-neutral-black"],["icon","money","size","small",1,"cf-icon-small"],[1,"table-auto","w-full"],[1,"border-b","border-neutral-gray-1"],[1,"text-left","text-espressive-sm","text-neutral-gray-4","py-3"],[1,"text-right","text-espressive-sm","text-neutral-gray-4","py-3"],[1,"flex","justify-end","items-center","gap-x-6","bg-secondary-3-1","py-1","px-2"],[1,"text-heading-md"],[1,"text-body-md","text-neutral-black","py-3"],[1,"text-right","text-body-md","text-neutral-black","py-3"],[1,"flex","flex-col"],[1,"flex","justify-around","items-center"],[1,"w-full","flex","justify-center","py-2.5"],[1,"w-full","flex","justify-center","py-2.5","text-heading-md","text-neutral-gray-6"],[1,"w-full","flex","justify-center","py-2.5","text-heading-md","text-secondary-3-3"],[1,"w-full","flex","justify-center","py-2.5","text-express-md"],[1,"text-heading-sm","py-1","px-3","bg-neutral-gray-1","flex","gap-x-2","items-center","justify-center","w-fit","rounded"],["icon","arrow_right","size","small"],[1,"flex","justify-around","items-center","bg-neutral-gray-0.5"],[1,"w-full","flex","justify-center","py-2.5","text-body-md-short"],[1,"w-full","flex","justify-center","py-2.5","text-body-md-short","text-primary-1-4"],[1,"p-4","bg-neutral-gray-1","w-full","h-full","overflow-y-scroll","gap-3","flex","flex-col"],["class","w-full bg-[#F0EAF4] rounded flex items-center gap-x-2 py-1.5 px-3",4,"ngIf"],[1,"flex","flex-col","p-3","bg-neutral-white","rounded-lg"],[1,"flex","items-center","justify-between"],[1,"w-9","h-9","object-contain",3,"src"],[1,"flex","flex-col","gap-y-1"],[1,"text-heading-xs","text-neutral-gray-6"],[1,"text-espressive-xs","text-neutral-gray-4"],[1,"flex","mt-2","gap-x-4"],[1,"flex","flex-col","gap-y-4"],[1,"flex","flex-col","items-center","gap-y-1"],[1,"flex","flex-col","items-center","justify-between","py-3"],[1,"w-1","h-1","rounded-full","bg-neutral-gray-3"],[1,"border-r","border-r-neutral-gray-3","h-full"],["icon","plane","size","small",1,"text-neutral-gray-3"],[1,"w-full","border-b","border-b-neutral-gray-3","my-4","border-dashed"],[1,"flex","flex-col","gap-y-2"],[1,"w-full","bg-[#F0EAF4]","rounded","flex","items-center","gap-x-2","py-1.5","px-3"],[1,"text-espressive-sm","text-neutral-black","font-semibold"],["class","flex flex-col mt-3 rounded-lg bg-neutral-white p-3 gap-y-2",4,"ngFor","ngForOf"],[1,"flex","flex-col","mt-3","rounded-lg","bg-neutral-white","p-3","gap-y-2"],[1,"flex","items-center","gap-x-5","justify-between"],[1,"text-body-sm","text-neutral-gray-4"],[1,"text-espressive-md","text-neutral-gray-6"],[1,"flex","items-center","gap-x-5"],[1,"text-body-sm","text-neutral-gray-4","w-[104px]"],[1,"flex","flex-col","gap-y-3","bg-neutral-gray-1","p-4","h-full"],[1,"bg-neutral-white","rounded-lg","p-3","flex","flex-col","gap-y-2"],[1,"text-express-sm","text-neutral-black"],[1,"flex","gap-x-5"],[1,"text-body-sm","text-neutral-gray-4","min-w-[110px]"],[1,"flex","gap-x-5","min-w-[110px]"],[1,"text-express-md","text-secondary-3-4"],[1,"bg-neutral-white","rounded-lg","p-3","flex","justify-between","items-center"],[1,"text-express-lg","text-primary-1-4"]],template:function(l,A){1&l&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4,"Chi ti\u1ebft h\xe0nh tr\xecnh m\u1edbi"),e.qZA(),e.TgZ(5,"cf-icon",4),e.NdJ("click",function(){return A.onClose()}),e.qZA()(),e.TgZ(6,"div",5),e.YNc(7,N,8,5,"div",6),e.YNc(8,q,57,21,"div",7),e.qZA(),e.TgZ(9,"div",8)(10,"button",9),e.NdJ("click",function(){return A.onClose()}),e._uU(11," \u0110\xf3ng "),e.qZA()()()(),e.TgZ(12,"div",10)(13,"div",11),e.YNc(14,$,5,5,"div",12),e.YNc(15,Y,69,17,"div",13),e.qZA()(),e.YNc(16,k,2,0,"ng-template",null,14,e.W1O)),2&l&&(e.xp6(7),e.Q6J("ngIf","JOURNEY_DETAIL"===A.currentIndex&&A.flightInfo),e.xp6(1),e.Q6J("ngIf","COMPARE_JOURNEY"===A.currentIndex&&A.compareJourneyData),e.xp6(6),e.Q6J("ngIf","JOURNEY_DETAIL"===A.currentIndex&&A.flightInfo),e.xp6(1),e.Q6J("ngIf","COMPARE_JOURNEY"===A.currentIndex&&A.compareJourneyData))},dependencies:[M.ez,M.sg,M.O5,M.JJ,S.AxE,S.Sm8,x.N8,x.Xq,K.AS],encapsulation:2}),h})()}}]);