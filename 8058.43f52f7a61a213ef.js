"use strict";(self.webpackChunkcheapflightclient=self.webpackChunkcheapflightclient||[]).push([[8058],{82908:(Ue,oe,C)=>{C.d(oe,{P3:()=>Me,Io:()=>Ie});var m=C(80529),e=C(88001),F=C(50494),N=C(54004),j=C(99251),f=C(97582),_=C(87067),T=C(43429);class w{}(0,f.gn)([(0,_.C)()],w.prototype,"status",void 0),(0,f.gn)([(0,T.D)(()=>Q),(0,_.C)()],w.prototype,"data",void 0),(0,f.gn)([(0,_.C)()],w.prototype,"objectError",void 0),(0,f.gn)([(0,_.C)()],w.prototype,"success",void 0);class Q{}(0,f.gn)([(0,T.D)(()=>E),(0,_.C)()],Q.prototype,"bookingContact",void 0);class E{}(0,f.gn)([(0,_.C)()],E.prototype,"email",void 0),(0,f.gn)([(0,_.C)()],E.prototype,"name",void 0),(0,f.gn)([(0,_.C)()],E.prototype,"phone",void 0);class p{}(0,f.gn)([(0,_.C)()],p.prototype,"status",void 0),(0,f.gn)([(0,T.D)(()=>O),(0,_.C)()],p.prototype,"data",void 0),(0,f.gn)([(0,_.C)()],p.prototype,"objectError",void 0);class O{}(0,f.gn)([(0,_.C)()],O.prototype,"airline",void 0),(0,f.gn)([(0,_.C)()],O.prototype,"bookingCode",void 0),(0,f.gn)([(0,T.D)(()=>L),(0,_.C)()],O.prototype,"cancelCharge",void 0),(0,f.gn)([(0,T.D)(()=>H),(0,_.C)()],O.prototype,"totalCharge",void 0),(0,f.gn)([(0,T.D)(()=>ce),(0,_.C)()],O.prototype,"cancelJourney",void 0),(0,f.gn)([(0,T.D)(()=>H),(0,_.C)()],O.prototype,"nonRefund",void 0),(0,f.gn)([(0,T.D)(()=>H),(0,_.C)()],O.prototype,"refund",void 0);class L{}(0,f.gn)([(0,_.C)()],L.prototype,"base",void 0),(0,f.gn)([(0,_.C)()],L.prototype,"applied",void 0),(0,f.gn)([(0,_.C)()],L.prototype,"surCharge",void 0),(0,f.gn)([(0,_.C)()],L.prototype,"tax",void 0),(0,f.gn)([(0,_.C)()],L.prototype,"total",void 0),(0,f.gn)([(0,_.C)()],L.prototype,"discount",void 0),(0,f.gn)([(0,T.D)(()=>$),(0,_.C)()],L.prototype,"currency",void 0);class ${}(0,f.gn)([(0,_.C)()],$.prototype,"baseCurrency",void 0),(0,f.gn)([(0,_.C)()],$.prototype,"code",void 0),(0,f.gn)([(0,_.C)()],$.prototype,"description",void 0),(0,f.gn)([(0,_.C)()],$.prototype,"exchangeRate",void 0);class H{}(0,f.gn)([(0,_.C)()],H.prototype,"base",void 0),(0,f.gn)([(0,_.C)()],H.prototype,"applied",void 0),(0,f.gn)([(0,_.C)()],H.prototype,"surCharge",void 0),(0,f.gn)([(0,_.C)()],H.prototype,"tax",void 0),(0,f.gn)([(0,_.C)()],H.prototype,"total",void 0),(0,f.gn)([(0,_.C)()],H.prototype,"discount",void 0),(0,f.gn)([(0,T.D)(()=>$),(0,_.C)()],H.prototype,"currency",void 0);class ce{}(0,f.gn)([(0,T.D)(()=>ue),(0,_.C)()],ce.prototype,"journeyInfo",void 0),(0,f.gn)([(0,T.D)(()=>re),(0,_.C)()],ce.prototype,"charge",void 0);class ue{}(0,f.gn)([(0,_.C)()],ue.prototype,"key",void 0);class re{}(0,f.gn)([(0,_.C)()],re.prototype,"base",void 0),(0,f.gn)([(0,_.C)()],re.prototype,"applied",void 0),(0,f.gn)([(0,_.C)()],re.prototype,"surCharge",void 0),(0,f.gn)([(0,_.C)()],re.prototype,"tax",void 0),(0,f.gn)([(0,_.C)()],re.prototype,"total",void 0),(0,f.gn)([(0,_.C)()],re.prototype,"discount",void 0),(0,f.gn)([(0,T.D)(()=>$),(0,_.C)()],re.prototype,"currency",void 0);class Te{}(0,f.gn)([(0,_.C)()],Te.prototype,"status",void 0),(0,f.gn)([(0,T.D)(()=>_e),(0,_.C)()],Te.prototype,"data",void 0),(0,f.gn)([(0,_.C)()],Te.prototype,"objectError",void 0);class _e{}(0,f.gn)([(0,_.C)()],_e.prototype,"airline",void 0),(0,f.gn)([(0,_.C)()],_e.prototype,"pnr",void 0),(0,f.gn)([(0,T.D)(()=>me),(0,_.C)()],_e.prototype,"charge",void 0),(0,f.gn)([(0,_.C)()],_e.prototype,"makePayment",void 0),(0,f.gn)([(0,T.D)(()=>M),(0,_.C)()],_e.prototype,"cancelJourney",void 0),(0,f.gn)([(0,T.D)(()=>K),(0,_.C)()],_e.prototype,"paymentInfo",void 0);class me{}(0,f.gn)([(0,_.C)()],me.prototype,"key",void 0),(0,f.gn)([(0,T.D)(()=>De),(0,_.C)()],me.prototype,"chargeType",void 0),(0,f.gn)([(0,T.D)(()=>de),(0,_.C)()],me.prototype,"charge",void 0),(0,f.gn)([(0,_.C)()],me.prototype,"description",void 0),(0,f.gn)([(0,_.C)()],me.prototype,"extra",void 0);class De{}(0,f.gn)([(0,_.C)()],De.prototype,"code",void 0),(0,f.gn)([(0,_.C)()],De.prototype,"type",void 0),(0,f.gn)([(0,T.D)(()=>qe),(0,_.C)()],De.prototype,"description",void 0);class qe{}(0,f.gn)([(0,_.C)()],qe.prototype,"en",void 0),(0,f.gn)([(0,_.C)()],qe.prototype,"vi",void 0);class de{}(0,f.gn)([(0,_.C)()],de.prototype,"base",void 0),(0,f.gn)([(0,_.C)()],de.prototype,"applied",void 0),(0,f.gn)([(0,_.C)()],de.prototype,"surCharge",void 0),(0,f.gn)([(0,_.C)()],de.prototype,"tax",void 0),(0,f.gn)([(0,_.C)()],de.prototype,"total",void 0),(0,f.gn)([(0,_.C)()],de.prototype,"discount",void 0),(0,f.gn)([(0,T.D)(()=>X),(0,_.C)()],de.prototype,"currency",void 0);class X{}(0,f.gn)([(0,_.C)()],X.prototype,"baseCurrency",void 0),(0,f.gn)([(0,_.C)()],X.prototype,"code",void 0),(0,f.gn)([(0,_.C)()],X.prototype,"description",void 0),(0,f.gn)([(0,_.C)()],X.prototype,"exchangeRate",void 0);class M{}(0,f.gn)([(0,_.C)()],M.prototype,"airline",void 0),(0,f.gn)([(0,_.C)()],M.prototype,"airlineName",void 0),(0,f.gn)([(0,_.C)()],M.prototype,"duration",void 0),(0,f.gn)([(0,_.C)()],M.prototype,"delay",void 0),(0,f.gn)([(0,_.C)()],M.prototype,"stopOvernight",void 0),(0,f.gn)([(0,_.C)()],M.prototype,"fareOptions",void 0),(0,f.gn)([(0,_.C)()],M.prototype,"key",void 0),(0,f.gn)([(0,_.C)()],M.prototype,"leg",void 0),(0,f.gn)([(0,_.C)()],M.prototype,"numOfStops",void 0),(0,f.gn)([(0,_.C)()],M.prototype,"operating",void 0),(0,f.gn)([(0,_.C)()],M.prototype,"operatingName",void 0),(0,f.gn)([(0,T.D)(()=>R),(0,_.C)()],M.prototype,"segments",void 0),(0,f.gn)([(0,T.D)(()=>Ce),(0,_.C)()],M.prototype,"departure",void 0),(0,f.gn)([(0,T.D)(()=>J),(0,_.C)()],M.prototype,"arrival",void 0),(0,f.gn)([(0,_.C)()],M.prototype,"expireTime",void 0),(0,f.gn)([(0,_.C)()],M.prototype,"fareClass",void 0),(0,f.gn)([(0,_.C)()],M.prototype,"fareClassCode",void 0);class R{}(0,f.gn)([(0,_.C)()],R.prototype,"key",void 0),(0,f.gn)([(0,_.C)()],R.prototype,"id",void 0),(0,f.gn)([(0,_.C)()],R.prototype,"index",void 0),(0,f.gn)([(0,_.C)()],R.prototype,"airline",void 0),(0,f.gn)([(0,_.C)()],R.prototype,"airlineName",void 0),(0,f.gn)([(0,_.C)()],R.prototype,"duration",void 0),(0,f.gn)([(0,_.C)()],R.prototype,"delay",void 0),(0,f.gn)([(0,_.C)()],R.prototype,"flightNumber",void 0),(0,f.gn)([(0,_.C)()],R.prototype,"operating",void 0),(0,f.gn)([(0,_.C)()],R.prototype,"operatingName",void 0),(0,f.gn)([(0,_.C)()],R.prototype,"stopPoint",void 0),(0,f.gn)([(0,T.D)(()=>Ce),(0,_.C)()],R.prototype,"departure",void 0),(0,f.gn)([(0,T.D)(()=>J),(0,_.C)()],R.prototype,"arrival",void 0),(0,f.gn)([(0,_.C)()],R.prototype,"bookingClassArr",void 0),(0,f.gn)([(0,T.D)(()=>ie),(0,_.C)()],R.prototype,"bookedInfo",void 0),(0,f.gn)([(0,_.C)()],R.prototype,"fareType",void 0),(0,f.gn)([(0,_.C)()],R.prototype,"modelAirplane",void 0),(0,f.gn)([(0,_.C)()],R.prototype,"modelAirplaneName",void 0),(0,f.gn)([(0,_.C)()],R.prototype,"codeAirline",void 0);class Ce{}(0,f.gn)([(0,T.D)(()=>be),(0,_.C)()],Ce.prototype,"airport",void 0),(0,f.gn)([(0,_.C)()],Ce.prototype,"localTime",void 0),(0,f.gn)([(0,_.C)()],Ce.prototype,"scheduleTime",void 0);class be{}(0,f.gn)([(0,_.C)()],be.prototype,"code",void 0),(0,f.gn)([(0,_.C)()],be.prototype,"name",void 0),(0,f.gn)([(0,T.D)(()=>Ae),(0,_.C)()],be.prototype,"utcOffset",void 0);class Ae{}(0,f.gn)([(0,_.C)()],Ae.prototype,"zone",void 0),(0,f.gn)([(0,_.C)()],Ae.prototype,"iso",void 0);class J{}(0,f.gn)([(0,T.D)(()=>be),(0,_.C)()],J.prototype,"airport",void 0),(0,f.gn)([(0,_.C)()],J.prototype,"localTime",void 0),(0,f.gn)([(0,_.C)()],J.prototype,"scheduleTime",void 0);class ie{}(0,f.gn)([(0,_.C)()],ie.prototype,"fareClass",void 0),(0,f.gn)([(0,_.C)()],ie.prototype,"status",void 0),(0,f.gn)([(0,_.C)()],ie.prototype,"fareType",void 0),(0,f.gn)([(0,_.C)()],ie.prototype,"fareBasic",void 0);class K{}(0,f.gn)([(0,_.C)()],K.prototype,"passengerKey",void 0),(0,f.gn)([(0,_.C)()],K.prototype,"passengerType",void 0),(0,f.gn)([(0,_.C)()],K.prototype,"passengerFirstName",void 0),(0,f.gn)([(0,_.C)()],K.prototype,"passengerGender",void 0),(0,f.gn)([(0,_.C)()],K.prototype,"passengerNamePrefix",void 0),(0,f.gn)([(0,_.C)()],K.prototype,"passengerLastName",void 0),(0,f.gn)([(0,_.C)()],K.prototype,"ticket",void 0),(0,f.gn)([(0,_.C)()],K.prototype,"type",void 0),(0,f.gn)([(0,_.C)()],K.prototype,"currencyCode",void 0),(0,f.gn)([(0,_.C)()],K.prototype,"description",void 0),(0,f.gn)([(0,_.C)()],K.prototype,"paymentMethod",void 0),(0,f.gn)([(0,_.C)()],K.prototype,"paymentTime",void 0),(0,f.gn)([(0,_.C)()],K.prototype,"paymentTimeZone",void 0),(0,f.gn)([(0,_.C)()],K.prototype,"paymentRef",void 0),(0,f.gn)([(0,_.C)()],K.prototype,"amount",void 0);class he{}(0,f.gn)([(0,_.C)()],he.prototype,"status",void 0),(0,f.gn)([(0,T.D)(()=>we),(0,_.C)()],he.prototype,"data",void 0),(0,f.gn)([(0,_.C)()],he.prototype,"objectError",void 0),(0,f.gn)([(0,_.C)()],he.prototype,"success",void 0);class we{}(0,f.gn)([(0,T.D)(()=>j.eG),(0,_.C)()],we.prototype,"bookingData",void 0),(0,f.gn)([(0,T.D)(()=>ke),(0,_.C)()],we.prototype,"rebookInfo",void 0);class ke{}(0,f.gn)([(0,_.C)()],ke.prototype,"mode",void 0),(0,f.gn)([(0,_.C)()],ke.prototype,"rebookFrom",void 0),(0,f.gn)([(0,_.C)()],ke.prototype,"phone",void 0);var Be=C(94650);const xe={headers:new m.WM({"Content-Type":"application/json"})};let Me=(()=>{class P{constructor(W,ae){this.http=W,this.appConfig=ae}getBookingDetail(W,ae,Re=!1){return this.http.post(this.appConfig.apiUrl+"flight/booking-retriver",JSON.stringify({airline:ae,bookingCode:W,refresh:Re}),xe).pipe((0,N.U)(je=>(0,F.yE)(j.JG,je,{excludeExtraneousValues:!0})))}quotationCancelJourney(W){return this.http.post(this.appConfig.apiUrl+"ticket/quotation-journey-cancel",JSON.stringify(W),xe).pipe((0,N.U)(ae=>(0,F.yE)(p,ae,{excludeExtraneousValues:!0})))}cancelJourney(W){return this.http.post(this.appConfig.apiUrl+"ticket/cancel-journey-reservation",JSON.stringify(W),xe).pipe((0,N.U)(ae=>(0,F.yE)(Te,ae,{excludeExtraneousValues:!0})))}getBookingInfo(W){return this.http.post(this.appConfig.apiUrl+"flight/get-pnr-info",JSON.stringify(W),xe).pipe((0,N.U)(ae=>(0,F.yE)(w,ae,{excludeExtraneousValues:!0})))}getRebookPnrSnapshot(W){return this.http.post(this.appConfig.apiUrl+"flight/get-rebook-pnr-snapshot",JSON.stringify(W),xe)}rebookPnr(W){return this.http.post(this.appConfig.apiUrl+"flight/rebook-pnr",JSON.stringify(W),xe).pipe((0,N.U)(ae=>(0,F.yE)(he,ae,{excludeExtraneousValues:!0})))}}return P.\u0275fac=function(W){return new(W||P)(Be.LFG(m.eN),Be.LFG(e.qB))},P.\u0275prov=Be.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();var Ie=(()=>{return(P=Ie||(Ie={})).UPDATE_JOURNEY="UPDATE_JOURNEY",P.ADD_JOURNEY="ADD_JOURNEY",P.NONE="NONE",Ie;var P})()},18058:(Ue,oe,C)=>{C.d(oe,{__:()=>au,z_:()=>Qo,iU:()=>On,AT:()=>Yt,CY:()=>y,Js:()=>Q,mO:()=>wi,Xg:()=>Di,df:()=>_i,a7:()=>nr,$u:()=>Qi,Cg:()=>$t,IG:()=>Ps,zb:()=>Gi,OO:()=>Ss,vj:()=>Er,Pt:()=>Po,hF:()=>nn});var m=C(36895),e=C(94650);function F(n,r){1&n&&(e.TgZ(0,"th",3),e._uU(1,"Th\u1ebb h\u1ed9i vi\xean"),e.qZA())}function N(n,r){if(1&n&&(e.TgZ(0,"td",9),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t.membershipNumber,"")}}function j(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td",8),e._uU(2),e.qZA(),e.TgZ(3,"td",9),e._uU(4),e.qZA(),e.TgZ(5,"td",9),e._uU(6),e.qZA(),e.YNc(7,N,2,1,"td",10),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.type),e.xp6(2),e.Oqu(t.sex),e.xp6(1),e.Q6J("ngIf",i.isShowMembership)}}function f(n,r){if(1&n&&(e.ynx(0),e.YNc(1,j,8,4,"tr",7),e.BQk()),2&n){const t=r.index,i=e.oxw();e.xp6(1),e.Q6J("ngIf",t<5||t>=5&&i.isShowMore)}}function _(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onToggleShowMore())}),e._uU(1,"Hi\u1ec7n t\u1ea5t c\u1ea3"),e.qZA()}}function T(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onToggleShowMore())}),e._uU(1,"Thu g\u1ecdn"),e.qZA()}}function w(n,r){if(1&n&&(e.TgZ(0,"div",11),e.YNc(1,_,2,0,"button",12),e.YNc(2,T,2,0,"button",12),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.isShowMore),e.xp6(1),e.Q6J("ngIf",t.isShowMore)}}let Q=(()=>{class n{constructor(){this.passengerInfos=[],this.isShowMore=!1,this.isShowMembership=!1}ngOnChanges(){this.passengerInfos&&this.passengerInfos.length&&(this.isShowMembership=this.passengerInfos.some(t=>t.membershipNumber))}onToggleShowMore(){this.isShowMore=!this.isShowMore}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["booking-passenger-info"]],inputs:{passengerInfos:"passengerInfos"},standalone:!0,features:[e.TTD,e.jDz],decls:14,vars:3,consts:[[1,"px-6","pt-6","pb-6","bg-white","rounded","shadow-cf-md"],[1,"table-auto","w-full"],[1,"border-b","border-neutral-gray-1"],[1,"text-left","text-espressive-sm","text-neutral-gray-4","pb-3"],["class","text-left text-espressive-sm text-neutral-gray-4 pb-3",4,"ngIf"],[4,"ngFor","ngForOf"],["class","w-full flex justify-center items-center px-[15px] py-[9px] cursor-pointer bg-secondary-3-1 rounded text-heading-xs text-secondary-3-4 mt-4",4,"ngIf"],[4,"ngIf"],[1,"text-body-md","text-neutral-black","pt-4","uppercase"],[1,"text-body-md","text-neutral-black","pt-4"],["class","text-body-md text-neutral-black pt-4",4,"ngIf"],[1,"w-full","flex","justify-center","items-center","px-[15px]","py-[9px]","cursor-pointer","bg-secondary-3-1","rounded","text-heading-xs","text-secondary-3-4","mt-4"],["class","w-full text-center !outline-none !outline-transparent !text-express-md","type","secondary",3,"click",4,"ngIf"],["type","secondary",1,"w-full","text-center","!outline-none","!outline-transparent","!text-express-md",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr",2)(4,"th",3),e._uU(5,"H\xe0nh kh\xe1ch"),e.qZA(),e.TgZ(6,"th",3),e._uU(7,"Lo\u1ea1i kh\xe1ch"),e.qZA(),e.TgZ(8,"th",3),e._uU(9,"Gi\u1edbi t\xednh"),e.qZA(),e.YNc(10,F,2,0,"th",4),e.qZA()(),e.TgZ(11,"tbody"),e.YNc(12,f,2,1,"ng-container",5),e.qZA()(),e.YNc(13,w,3,2,"div",6),e.qZA()),2&t&&(e.xp6(10),e.Q6J("ngIf",i.isShowMembership),e.xp6(2),e.Q6J("ngForOf",i.passengerInfos),e.xp6(1),e.Q6J("ngIf",i.passengerInfos.length>=5))},dependencies:[m.ax,m.O5],encapsulation:2}),n})();var E=C(83700),p=C(72506),O=C(74891),L=C(64425);let $=(()=>{class n{constructor(t){this.clipboard=t}onClick(t){if(this.clipboard.copy(t.innerText),t.setAttribute("title","copied"),window.getSelection){const o=document.createRange();o.selectNodeContents(t);const a=window.getSelection();null==a||a.removeAllRanges(),null==a||a.addRange(o)}setTimeout(()=>{t.removeAttribute("title")},1e3)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.TU))},n.\u0275dir=e.lG2({type:n,selectors:[["","CfSelectable",""]],hostBindings:function(t,i){1&t&&e.NdJ("click",function(a){return i.onClick(a.target)})},standalone:!0}),n})(),H=(()=>{class n{transform(t,i,o){return t&&t.replaceAll(i,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"replace",type:n,pure:!0,standalone:!0}),n})();var ce=C(24513),ue=C(40899),re=C(98184);function Te(n,r){1&n&&e._UZ(0,"cf-icon",31)}function _e(n,r){1&n&&e._UZ(0,"cf-icon",32)}function me(n,r){if(1&n&&(e.TgZ(0,"div",28)(1,"span"),e._uU(2),e.qZA(),e.YNc(3,Te,1,0,"cf-icon",29),e.YNc(4,_e,1,0,"cf-icon",30),e.TgZ(5,"span"),e._uU(6),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.hij(" ",t.bookingDetail.startPoint,""),e.xp6(1),e.Q6J("ngIf",1===t.bookingDetail.journeys.length),e.xp6(1),e.Q6J("ngIf",t.bookingDetail.journeys.length>1),e.xp6(2),e.hij(" ",t.bookingDetail.endPoint," ")}}function De(n,r){1&n&&(e.TgZ(0,"div",33),e._uU(1," \u0110A CH\u1eb6NG "),e.qZA())}function qe(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("(",t.startTerminal,")")}}function de(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("(",t.endTerminal,")")}}function X(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",35),e._UZ(2,"cf-icon",36),e.TgZ(3,"span",37),e._uU(4),e.YNc(5,qe,2,1,"span",22),e._uU(6),e.YNc(7,de,2,1,"span",22),e._uU(8),e.ALo(9,"date"),e.qZA()(),e.BQk()),2&n){const t=r.$implicit;e.xp6(4),e.hij(" ",t.startPoint," "),e.xp6(1),e.Q6J("ngIf",t.startTerminal),e.xp6(1),e.hij(" - ",t.endPoint," "),e.xp6(1),e.Q6J("ngIf",t.endTerminal),e.xp6(1),e.hij(" (",t.startTime?e.xi3(9,5,t.startTime,"HH:mm - dd/MM/yyyy"):"N/A",")")}}function M(n,r){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,X,10,8,"ng-container",34),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.bookingDetail.journeys)}}function R(n,r){if(1&n&&(e.TgZ(0,"div",35),e._UZ(1,"cf-icon",36),e.TgZ(2,"span",37),e._uU(3),e.ALo(4,"date"),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.lnq("",t.startPoint," - ",t.endPoint," (",t.startTime?e.xi3(4,3,t.startTime,"HH:mm - dd/MM/yyyy"):"N/A",")")}}function Ce(n,r){if(1&n&&(e.ynx(0),e.YNc(1,R,5,6,"div",39),e.BQk()),2&n){const t=r.index;e.xp6(1),e.Q6J("ngIf",t<2)}}function be(n,r){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Ce,2,1,"ng-container",34),e.TgZ(2,"div",38),e._UZ(3,"cf-icon",36),e.TgZ(4,"span"),e._uU(5),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.bookingDetail.journeys),e.xp6(4),e.hij("v\xe0 ",t.bookingDetail.journeys.length-2," h\xe0nh tr\xecnh kh\xe1c")}}function Ae(n,r){if(1&n&&(e.TgZ(0,"div",25),e.YNc(1,me,7,4,"div",26),e.YNc(2,De,2,0,"div",27),e.YNc(3,M,2,1,"div",22),e.YNc(4,be,6,2,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.isMultiJourney),e.xp6(1),e.Q6J("ngIf",t.isMultiJourney),e.xp6(1),e.Q6J("ngIf",t.bookingDetail.journeys.length<4),e.xp6(1),e.Q6J("ngIf",t.bookingDetail.journeys.length>=4)}}function J(n,r){1&n&&e._UZ(0,"div",8)}function ie(n,r){if(1&n&&(e.TgZ(0,"div",12)(1,"div",13),e._uU(2,"M\xe3 \u0111\u1eb7t ch\u1ed7"),e.qZA(),e.TgZ(3,"div",40),e._uU(4),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Oqu(t.bookingDetail.bookingCodeDisplay)}}const K=function(n){return{"text-yellow-4":n}};function he(n,r){if(1&n&&e._UZ(0,"cf-icon",41),2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(1,K,t.paymentOrderCode))}}function we(n,r){1&n&&e._UZ(0,"cf-icon",42)}function ke(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onRetryBooking())}),e._uU(1,"Th\u1eed l\u1ea1i"),e.qZA()}}function Be(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.onActionChange(o.value))}),e._UZ(1,"cf-icon",48),e._uU(2),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("disabledOneClick",!0),e.xp6(1),e.Q6J("icon",t.icon),e.xp6(1),e.hij(" ",t.name," ")}}function xe(n,r){if(1&n&&(e.TgZ(0,"button",49,50),e._UZ(3,"cf-icon",51),e._uU(4),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("disabled",!0)("disabledOneClick",!0)("disabledOneClick",!0)("manualHandle",!1)("placement","topCenter")("cfTooltip","H\u1ec7 th\u1ed1ng ch\u01b0a h\u1ed7 tr\u1ee3 xu\u1ea5t v\xe9 t\u1ef1 \u0111\u1ed9ng cho m\xe3 \u0111\u1eb7t ch\u1ed7 n\xe0y. Vui l\xf2ng li\xean h\u1ec7 Booker \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3"),e.xp6(3),e.Q6J("icon",t.icon),e.xp6(1),e.hij(" ",t.name," ")}}function Me(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.onActionChange(o.value))}),e._UZ(1,"cf-icon",48),e._uU(2),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("disabledOneClick",!0),e.xp6(1),e.Q6J("icon",t.icon),e.xp6(1),e.hij(" ",t.name," ")}}function Ie(n,r){if(1&n&&(e.TgZ(0,"button",49,50),e._UZ(3,"cf-icon",51),e._uU(4),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("disabled",!0)("disabledOneClick",!0)("disabledOneClick",!0)("manualHandle",!1)("placement","topCenter")("cfTooltip","H\u1ec7 th\u1ed1ng ch\u01b0a h\u1ed7 tr\u1ee3 xu\u1ea5t v\xe9 t\u1ef1 \u0111\u1ed9ng cho m\xe3 \u0111\u1eb7t ch\u1ed7 n\xe0y. Vui l\xf2ng li\xean h\u1ec7 Booker \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3"),e.xp6(3),e.Q6J("icon",t.icon),e.xp6(1),e.hij(" ",t.name," ")}}function P(n,r){if(1&n&&(e.TgZ(0,"button",49,50),e._UZ(3,"cf-icon",51),e._uU(4),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("disabled",!0)("disabledOneClick",!0)("disabledOneClick",!0)("manualHandle",!1)("placement","topCenter")("cfTooltip","Kh\xf4ng th\u1ec3 xu\u1ea5t v\xe9 tr\xean v\xe9 \u0111\xe3 void. Vui l\xf2ng li\xean h\u1ec7 Booker h\u1ed7 tr\u1ee3 x\u1eed l\xfd h\u1ee7y s\u1ed1 v\xe9 tr\u01b0\u1edbc khi ti\u1ebfp t\u1ee5c"),e.xp6(3),e.Q6J("icon",t.icon),e.xp6(1),e.hij(" ",t.name," ")}}function Oe(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.onActionChange(o.value))}),e._UZ(1,"cf-icon",48),e._uU(2),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("disabledOneClick",!0),e.xp6(1),e.Q6J("icon",t.icon),e.xp6(1),e.hij(" ",t.name," ")}}function W(n,r){if(1&n&&(e.TgZ(0,"button",49,50),e._UZ(3,"cf-icon",51),e._uU(4),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("disabled",!0)("disabledOneClick",!0)("disabledOneClick",!0)("manualHandle",!1)("placement","topCenter")("cfTooltip","Vui l\xf2ng li\xean h\u1ec7 Booker \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 h\u1ee7y v\xe9 \u0111\xe3 xu\u1ea5t"),e.xp6(3),e.Q6J("icon",t.icon),e.xp6(1),e.hij(" ",t.name," ")}}function ae(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",55),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).$implicit,a=e.oxw(2);return a.onActionChange(o.value),e.KtG(a.isOpen=!a.isOpen)}),e._UZ(1,"cf-icon",48),e._uU(2),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("disabledOneClick",!0),e.xp6(1),e.Q6J("icon",t.icon),e.xp6(1),e.hij(" ",t.name," ")}}function Re(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",58),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw(5);return a.onActionChange(o.value),e.KtG(a.isOpen=!a.isOpen)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("disabledOneClick",!0),e.xp6(1),e.hij(" ",t.name," ")}}function je(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Re,2,2,"button",57),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",t.enabled)}}function ut(n,r){if(1&n&&(e.TgZ(0,"div",56),e.YNc(1,je,2,1,"ng-container",34),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngForOf",t.items)}}function lt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",52,50),e.YNc(4,ae,3,3,"button",53),e.qZA(),e.YNc(5,ut,2,1,"ng-template",54),e.NdJ("overlayOutsideClick",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.outsideClick())}),e.qZA()}if(2&n){const t=e.MAs(3),i=e.oxw().$implicit,o=e.oxw(2);e.xp6(4),e.Q6J("ngIf",i.enabled),e.xp6(1),e.Q6J("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",o.isOpen)("cdkConnectedOverlayPositions",o.bottomCenter)}}function ct(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Be,3,3,"button",45),e.YNc(2,xe,5,8,"button",46),e.YNc(3,Me,3,3,"button",45),e.YNc(4,Ie,5,8,"button",46),e.YNc(5,P,5,8,"button",46),e.YNc(6,Oe,3,3,"button",45),e.YNc(7,W,5,8,"button",46),e.YNc(8,lt,6,4,"div",22),e.BQk()),2&n){const t=r.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf","other"!==t.value&&t.enabled&&"issue"!==t.value&&"cancel_booking"!==t.value),e.xp6(1),e.Q6J("ngIf","issue"===t.value&&t.enabled&&"VOID"!==i.bookingDetail.status&&"ST"===i.bookingDetail.provider),e.xp6(1),e.Q6J("ngIf","issue"===t.value&&t.enabled&&"VOID"!==i.bookingDetail.status&&("BSP"!==i.bookingDetail.provider&&"ST"!==i.bookingDetail.provider||"BSP"===i.bookingDetail.provider&&i.bookingDetail.ticketingAllowed)),e.xp6(1),e.Q6J("ngIf","issue"===t.value&&t.enabled&&"VOID"!==i.bookingDetail.status&&"BSP"===i.bookingDetail.provider&&!i.bookingDetail.ticketingAllowed),e.xp6(1),e.Q6J("ngIf","issue"===t.value&&t.enabled&&"VOID"===i.bookingDetail.status),e.xp6(1),e.Q6J("ngIf","cancel_booking"===t.value&&t.enabled&&("BSP"===i.bookingDetail.provider||"BZT"===i.bookingDetail.provider)&&"ISSUED"!==i.bookingDetail.status),e.xp6(1),e.Q6J("ngIf","cancel_booking"===t.value&&t.enabled&&"BSP"===i.bookingDetail.provider&&"ISSUED"===i.bookingDetail.status),e.xp6(1),e.Q6J("ngIf","other"===t.value)}}function dt(n,r){if(1&n&&(e.TgZ(0,"div",44),e.YNc(1,ct,9,8,"ng-container",34),e.qZA()),2&n){const t=e.oxw();e.ekj("!grid-cols-1",1===(null==t.bookingDetail.actions?null:t.bookingDetail.actions.length)),e.xp6(1),e.Q6J("ngForOf",t.bookingDetail.actions)}}function pt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",59),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onShowMore())}),e.TgZ(1,"span"),e._uU(2),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.isShowMore?"Thu g\u1ecdn":"Chi ti\u1ebft")}}function _t(n,r){if(1&n&&(e.TgZ(0,"div",68)(1,"div",72),e._uU(2,"Nh\xe0 cung c\u1ea5p:"),e.qZA(),e.TgZ(3,"div",73),e._uU(4),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(4),e.hij("",("FLY_ONE"===t.bookingDetail.supplier?"LCC":t.bookingDetail.supplier)||"N/A"," ")}}function gt(n,r){if(1&n&&(e.TgZ(0,"div",66)(1,"div",67)(2,"div",68)(3,"div",13),e._uU(4,"H\u1ec7 th\u1ed1ng \u0111\u1eb7t ch\u1ed7:"),e.qZA(),e.TgZ(5,"div",69),e._uU(6),e.qZA()(),e.TgZ(7,"div",68)(8,"div",13),e._uU(9,"Th\u1eddi h\u1ea1n gi\u1eef ch\u1ed7:"),e.qZA(),e.TgZ(10,"div",70),e._uU(11),e.ALo(12,"date"),e.qZA()(),e.TgZ(13,"div",68)(14,"div",13),e._uU(15,"Th\u1eddi h\u1ea1n gi\u1eef gi\xe1:"),e.qZA(),e.TgZ(16,"div",70),e._uU(17),e.ALo(18,"date"),e.qZA()(),e.YNc(19,_t,5,1,"div",71),e.TgZ(20,"div",68)(21,"div",13),e._uU(22,"API:"),e.qZA(),e.TgZ(23,"div",70),e._uU(24),e.qZA()(),e.TgZ(25,"div",68)(26,"div",13),e._uU(27,"Ngu\u1ed3n \u0111\u1eb7t ch\u1ed7:"),e.qZA(),e._UZ(28,"div",70),e.qZA(),e.TgZ(29,"div",68)(30,"div",13),e._uU(31,"M\xe3 \u0111\u01a1n h\xe0ng:"),e.qZA(),e.TgZ(32,"div",70),e._uU(33),e.qZA()()()()),2&n){const t=e.oxw(2);e.xp6(6),e.AsE(" ",t.bookingDetail.airlineSystem," - ",t.bookingDetail.airlineName,""),e.xp6(5),e.hij("",t.bookingDetail.timeHoldBooking?e.xi3(12,7,t.bookingDetail.timeHoldBooking,"HH:mm, dd/MM/yyyy"):"N/A"," "),e.xp6(6),e.hij("",t.bookingDetail.timeHoldPricing?e.xi3(18,10,t.bookingDetail.timeHoldPricing,"HH:mm, dd/MM/yyyy"):"N/A"," "),e.xp6(2),e.Q6J("ngIf",t.isShowSupplier&&t.bookingDetail.supplier),e.xp6(5),e.hij("",("FLY_ONE"===t.bookingDetail.provider?"LCC":t.bookingDetail.provider)||"N/A"," "),e.xp6(9),e.hij(" ",t.paymentOrderCode||""," ")}}function ft(n,r){if(1&n&&(e.TgZ(0,"div",74),e.O4$(),e.TgZ(1,"svg",75),e._UZ(2,"path",76)(3,"path",77),e.qZA(),e._uU(4),e.qZA()),2&n){const t=e.oxw(2);e.xp6(4),e.hij(" ",t.bookingDetail.statusDesc," ")}}function mt(n,r){1&n&&(e.TgZ(0,"div",84),e._UZ(1,"cf-icon",85),e.TgZ(2,"div"),e._uU(3,"B\u1ecb gi\xe1n \u0111o\u1ea1n"),e.qZA()())}function ht(n,r){1&n&&(e.TgZ(0,"div",86),e._UZ(1,"cf-icon",87),e.TgZ(2,"div"),e._uU(3,"Chuy\u1ebfn bay n\xe0y c\xf3 s\u1ef1 thay \u0111\u1ed5i l\u1ecbch tr\xecnh. Vui l\xf2ng ki\u1ec3m tra email, tin nh\u1eafn \u0111i\u1ec7n tho\u1ea1i/Zalo ho\u1eb7c li\xean h\u1ec7 Booker \u0111\u1ec3 c\u1eadp nh\u1eadt th\xf4ng tin m\u1edbi nh\u1ea5t"),e.qZA()())}function xt(n,r){if(1&n&&(e.TgZ(0,"div",116),e._UZ(1,"cf-icon",117),e.TgZ(2,"span",118),e._uU(3),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.hij(" ",t.stopPoint," ")}}function vt(n,r){if(1&n&&(e.TgZ(0,"span",73),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" (",t.startTerminal,")")}}function Ct(n,r){if(1&n&&(e.TgZ(0,"span",73),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" (",t.endTerminal,")")}}function bt(n,r){if(1&n&&(e.TgZ(0,"div",114)(1,"div",96),e._uU(2,"Airline code:\xa0"),e.qZA(),e.TgZ(3,"div",37),e._uU(4),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(4),e.Oqu(t.codeAirline)}}function yt(n,r){if(1&n&&(e.TgZ(0,"div",114)(1,"div",96),e._uU(2,"D\u1ecbch v\u1ee5 kh\xe1c:\xa0"),e.qZA(),e.TgZ(3,"div",37),e._uU(4),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(4),e.hij("",t.accompaniedService," ")}}function Et(n,r){if(1&n&&(e.TgZ(0,"div",82),e.YNc(1,xt,4,1,"div",88),e.TgZ(2,"div",89)(3,"div",90),e._UZ(4,"div",91)(5,"div",91)(6,"div",91)(7,"div",91)(8,"div",91)(9,"div",91),e.qZA(),e.TgZ(10,"div",92)(11,"div",93)(12,"div"),e._UZ(13,"img",3),e.qZA(),e.TgZ(14,"div",94)(15,"div",95),e._uU(16),e.qZA(),e.TgZ(17,"div",96),e._uU(18),e.qZA()(),e.TgZ(19,"div",97),e._uU(20),e.qZA()(),e.TgZ(21,"div",98)(22,"div",99)(23,"div",100)(24,"div",101),e._UZ(25,"cf-icon",102),e.TgZ(26,"span"),e._uU(27),e.ALo(28,"date"),e.qZA()(),e.TgZ(29,"div",103),e._UZ(30,"div",104)(31,"div",105)(32,"cf-icon",36),e.qZA()(),e.TgZ(33,"div",106),e._UZ(34,"cf-icon",107),e.TgZ(35,"div",13),e._uU(36),e.ALo(37,"date"),e.qZA()(),e.TgZ(38,"div",108),e._UZ(39,"cf-icon",109),e.TgZ(40,"div",110)(41,"span",73),e._uU(42),e.qZA(),e.TgZ(43,"span",72),e._uU(44),e.qZA(),e.YNc(45,vt,2,1,"span",111),e.qZA()()(),e.TgZ(46,"div")(47,"div",112),e._UZ(48,"cf-icon",102),e.TgZ(49,"span"),e._uU(50),e.ALo(51,"date"),e.qZA()(),e.TgZ(52,"div",106),e._UZ(53,"cf-icon",107),e.TgZ(54,"div",13),e._uU(55),e.ALo(56,"date"),e.qZA()(),e.TgZ(57,"div",108),e._UZ(58,"cf-icon",109),e.TgZ(59,"div",110)(60,"span",73),e._uU(61),e.qZA(),e.TgZ(62,"span",72),e._uU(63),e.qZA(),e.YNc(64,Ct,2,1,"span",111),e.qZA()()()()(),e.TgZ(65,"div",113)(66,"div",114)(67,"div",96),e._uU(68,"T\xecnh tr\u1ea1ng ch\u1ed7:\xa0"),e.qZA(),e.TgZ(69,"div",37),e._uU(70),e.qZA()(),e.YNc(71,bt,5,1,"div",115),e.TgZ(72,"div",114)(73,"div",96),e._uU(74,"Th\u1eddi gian bay:\xa0"),e.qZA(),e.TgZ(75,"div",37),e._uU(76),e.qZA()(),e.TgZ(77,"div",114)(78,"div",96),e._uU(79,"Lo\u1ea1i m\xe1y bay:\xa0"),e.qZA(),e.TgZ(80,"div",37),e._uU(81),e.qZA()(),e.TgZ(82,"div",114)(83,"div",96),e._uU(84,"H\u1ea1ng ch\u1ed7:\xa0"),e.qZA(),e.TgZ(85,"div",37),e._uU(86),e.qZA()(),e.TgZ(87,"div",114)(88,"div",96),e._uU(89,"H\xe0nh l\xfd k\xfd g\u1eedi:\xa0"),e.qZA(),e.TgZ(90,"div",37),e._uU(91),e.qZA()(),e.TgZ(92,"div",114)(93,"div",96),e._uU(94,"H\xe0nh l\xfd x\xe1ch tay:\xa0"),e.qZA(),e.TgZ(95,"div",37),e._uU(96),e.qZA()(),e.YNc(97,yt,5,1,"div",115),e.qZA()()()),2&n){const t=r.$implicit,i=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.stopPoint),e.xp6(12),e.Q6J("src",t.airlineLogo,e.LSH),e.xp6(3),e.hij("",t.operating," -"),e.xp6(2),e.hij("\xa0",t.operatingName,""),e.xp6(2),e.AsE(" ",t.airline,"",t.flightNumber," "),e.xp6(7),e.hij(" ",t.startTime?e.xi3(28,25,t.startTime,"HH:mm"):"N/A"," "),e.xp6(9),e.hij(" ",t.startTime?e.xi3(37,28,t.startTime,"EEEE, dd/MM/yyyy"):"N/A"," "),e.xp6(6),e.hij("",t.startPoint," - "),e.xp6(2),e.Oqu(t.startPointName),e.xp6(1),e.Q6J("ngIf",t.startTerminal),e.xp6(5),e.hij(" ",e.xi3(51,31,t.endTime,"HH:mm")," "),e.xp6(5),e.Oqu(e.xi3(56,34,t.endTime,"EEEE, dd/MM/yyyy")),e.xp6(6),e.hij("",t.endPoint," - "),e.xp6(2),e.Oqu(t.endPointName),e.xp6(1),e.Q6J("ngIf",t.endTerminal),e.xp6(6),e.Oqu(t.status),e.xp6(1),e.Q6J("ngIf",("GDS"===i.bookingDetail.provider||"ST"===i.bookingDetail.provider||"BZT"===i.bookingDetail.provider)&&t.codeAirline),e.xp6(5),e.Oqu(t.duration),e.xp6(5),e.Oqu(t.modelAirplane),e.xp6(5),e.AsE(" ",t.fareType,"(",t.fareClass?t.fareClass:"N/A",")"),e.xp6(5),e.Oqu(t.checkedBaggage),e.xp6(5),e.Oqu(t.handBaggage),e.xp6(1),e.Q6J("ngIf",t.accompaniedService)}}function Zt(n,r){if(1&n&&(e.TgZ(0,"div",78)(1,"div",79)(2,"div"),e._uU(3),e.ALo(4,"date"),e.qZA(),e.YNc(5,mt,4,0,"div",80),e.qZA(),e.YNc(6,ht,4,0,"div",81),e.TgZ(7,"div",82),e.YNc(8,Et,98,37,"div",83),e.qZA()()),2&n){const t=r.$implicit;e.xp6(3),e.lnq("Th\xf4ng tin chuy\u1ebfn bay ",t.startPoint," - ",t.endPoint,", ng\xe0y ",t.startTime?e.xi3(4,6,t.startTime,"dd/MM/yyyy"):"N/A",""),e.xp6(2),e.Q6J("ngIf",t.journeyStatus.disrupted),e.xp6(1),e.Q6J("ngIf",t.journeyStatus.disrupted),e.xp6(2),e.Q6J("ngForOf",t.segments)}}function Tt(n,r){1&n&&(e.TgZ(0,"th",124),e._uU(1," Thu\u1ebf ph\xed"),e.qZA())}function Dt(n,r){1&n&&(e.TgZ(0,"th",124),e._uU(1," Chi\u1ebft kh\u1ea5u"),e.qZA())}function At(n,r){if(1&n&&(e.TgZ(0,"td",131),e._uU(1),e.ALo(2,"replace"),e.ALo(3,"number"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.Dn7(2,1,e.lcZ(3,5,(t.tax||0)+(t.vat||0)),",",".")," ")}}function kt(n,r){if(1&n&&(e.TgZ(0,"td",136),e._uU(1),e.ALo(2,"replace"),e.ALo(3,"number"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" (",e.Dn7(2,1,e.lcZ(3,5,t.discountAmount||0),",","."),") ")}}function It(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"replace"),e.ALo(3,"number"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.Dn7(2,1,e.lcZ(3,5,t.totalDiscountFarePrice||0),",",".")," ")}}function Nt(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"replace"),e.ALo(3,"number"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.Dn7(2,1,e.lcZ(3,5,t.total||0),",",".")," ")}}function Ut(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td",130),e._uU(2),e.qZA(),e.TgZ(3,"td",130),e._uU(4),e.qZA(),e.TgZ(5,"td",131),e._uU(6),e.ALo(7,"replace"),e.ALo(8,"number"),e.qZA(),e.YNc(9,At,4,7,"td",132),e.YNc(10,kt,4,7,"td",133),e.TgZ(11,"td",131),e.YNc(12,It,4,7,"span",134),e.YNc(13,Nt,4,7,"ng-template",null,135,e.W1O),e.qZA()()),2&n){const t=r.$implicit,i=e.MAs(14),o=e.oxw(3);e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.type),e.xp6(2),e.hij(" ",e.Dn7(7,7,e.lcZ(8,11,t.farePrice||0),",",".")," "),e.xp6(3),e.Q6J("ngIf",!o.isGDSProvider()),e.xp6(1),e.Q6J("ngIf",o.hasDiscountFare),e.xp6(2),e.Q6J("ngIf",t.discountAmount&&o.hasDiscountFare)("ngIfElse",i)}}function qt(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"replace"),e.ALo(3,"number"),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij("",e.Dn7(2,1,e.lcZ(3,5,t.bookingDetail.totalDiscountFare||0),",",".")," \u0111")}}function wt(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"replace"),e.ALo(3,"number"),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij("",e.Dn7(2,1,e.lcZ(3,5,t.bookingDetail.totalFare||0),",",".")," \u0111")}}function Bt(n,r){if(1&n&&(e.TgZ(0,"div",137),e.YNc(1,qt,4,7,"span",22),e.YNc(2,wt,4,7,"span",22),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.hasDiscountFare),e.xp6(1),e.Q6J("ngIf",!t.hasDiscountFare)}}function Pt(n,r){if(1&n&&(e.TgZ(0,"div")(1,"div",119),e._UZ(2,"cf-icon",61),e.TgZ(3,"span",62),e._uU(4,"Gi\xe1 v\xe9 g\u1ed1c"),e.qZA(),e.TgZ(5,"span",120),e._uU(6," Ch\u01b0a bao g\u1ed3m ph\xed d\u1ecbch v\u1ee5 v\xe0 chi ph\xed d\u1ecbch v\u1ee5 c\u1ed9ng th\xeam "),e.qZA()(),e.TgZ(7,"div")(8,"table",121)(9,"thead")(10,"tr",122)(11,"th",123),e._uU(12,"H\xe0nh kh\xe1ch"),e.qZA(),e.TgZ(13,"th",123),e._uU(14,"Lo\u1ea1i kh\xe1ch"),e.qZA(),e.TgZ(15,"th",124),e._uU(16,"Gi\xe1 v\xe9"),e.qZA(),e.YNc(17,Tt,2,0,"th",125),e.YNc(18,Dt,2,0,"th",125),e.TgZ(19,"th",124),e._uU(20,"T\u1ed5ng gi\xe1"),e.qZA()()(),e.TgZ(21,"tbody"),e.YNc(22,Ut,15,13,"tr",34),e.qZA()(),e._UZ(23,"hr",126),e.TgZ(24,"div",127)(25,"div",128),e._uU(26,"T\u1ed5ng gi\xe1 v\xe9"),e.qZA(),e.YNc(27,Bt,3,2,"div",129),e.qZA()()()),2&n){const t=e.oxw(2),i=e.MAs(31);e.xp6(17),e.Q6J("ngIf",!t.isGDSProvider()),e.xp6(1),e.Q6J("ngIf",t.hasDiscountFare),e.xp6(4),e.Q6J("ngForOf",t.bookingDetail.passengers),e.xp6(5),e.Q6J("ngIf",t.bookingDetail.totalFare)("ngIfElse",i)}}function Ft(n,r){if(1&n&&(e.TgZ(0,"div")(1,"div")(2,"div",60),e._UZ(3,"cf-icon",61),e.TgZ(4,"span",62),e._uU(5,"Th\xf4ng tin \u0111\u1eb7t ch\u1ed7"),e.qZA()(),e.YNc(6,gt,34,13,"div",63),e.YNc(7,ft,5,1,"ng-template",null,64,e.W1O),e.YNc(9,Zt,9,9,"div",65),e.qZA(),e.YNc(10,Pt,28,5,"div",22),e.qZA()),2&n){const t=e.MAs(8),i=e.oxw();e.xp6(6),e.Q6J("ngIf","ERROR"!==i.bookingDetail.status)("ngIfElse",t),e.xp6(3),e.Q6J("ngForOf",i.bookingDetail.journeys),e.xp6(1),e.Q6J("ngIf",i.isBooked&&i.bookingDetail.totalFare)}}function Jt(n,r){1&n&&(e.TgZ(0,"td",130),e._uU(1,"N/A"),e.qZA())}function Qt(n,r){1&n&&(e.TgZ(0,"td",131),e._uU(1,"N/A"),e.qZA())}function St(n,r){1&n&&(e.TgZ(0,"div",137),e._uU(1,"N/A \u0111"),e.qZA())}let Yt=(()=>{class n{constructor(t,i){this._permissionService=i,this.actionChange=new e.vpe,this.isShowMore=!1,this.isBooked=!1,this.isMultiJourney=!1,this.hasDiscountFare=!1,this.retryBooking=new e.vpe,this.isOpen=!1,this.bottomCenter=[{originX:"start",originY:"bottom",overlayX:"center",overlayY:"top",offsetX:0,offsetY:0}],this.isShowSupplier=this._permissionService.isAgent1()||this._permissionService.isBooker(),t.registerIcons([p.xgX,p.llu,p.bHT,p.QkI,p.ILM,p.tLH,p.NYs,p.okA,p.B2I,p.s5C,p.qDv,p.rks,p.Ffn,p._tC,p.fXw,p.gW0,p.$S])}onShowMore(){this.isShowMore=!this.isShowMore}onActionChange(t){this.actionChange.emit(t)}outsideClick(){this.isOpen=!1}onRetryBooking(){const t=this.bookingDetail.journeys.map(i=>i.key);this.retryBooking.emit(t)}isGDSProvider(){return"GDS"===this.bookingDetail.provider}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.KNP),e.Y36(ue.$A))},n.\u0275cmp=e.Xpm({type:n,selectors:[["booking-detail"]],inputs:{bookingDetail:"bookingDetail",paymentOrderCode:"paymentOrderCode",isShowMore:"isShowMore",isBooked:"isBooked",isMultiJourney:"isMultiJourney",hasDiscountFare:"hasDiscountFare"},outputs:{actionChange:"actionChange",retryBooking:"retryBooking"},standalone:!0,features:[e.jDz],decls:36,vars:17,consts:[[1,"p-6","bg-white","rounded","shadow-cf-md"],[1,"min-h-[100px]","flex","justify-between","items-center","mb-6","gap-x-5"],[1,"h-full","w-full","flex","flex-col","gap-y-1.5","justify-center","items-center"],[1,"w-[120px]","h-[60px]","object-contain",3,"src"],[1,"text-body-sm","flex","flex-nowrap"],[1,"text-espressive-sm","whitespace-nowrap"],[1,"whitespace-nowrap"],[1,"h-5","flex","items-center","px-2","bg-neutral-gray-1","rounded","text-espressive-sm","text-neutral-black"],[1,"w-[2px]","h-full","border-l","border-dashed","border-neutral-gray-1"],["class","h-full w-[206px] shrink-0 flex flex-col justify-center",4,"ngIf"],["class","w-[2px] h-full border-l border-dashed border-neutral-gray-1",4,"ngIf"],["class","h-full w-full flex flex-col py-3 gap-[20px]",4,"ngIf"],[1,"h-full","w-full","flex","flex-col","py-3","gap-[20px]"],[1,"text-body-md","text-neutral-black"],[1,"text-espressive-md","text-neutral-black","flex","gap-2.5","items-center"],["icon","refresh","size","medium","class","animate-spin",3,"ngClass",4,"ngIf"],["icon","checkbox_checked","size","medium","class","text-secondary-5-4",4,"ngIf"],[1,"flex","flex-col","items-center"],[1,"text-espressive-md","text-neutral-black","whitespace-nowrap",3,"ngClass"],["class","text-secondary-3-4 text-body-sm hover:underline hover:cursor-pointer",3,"click",4,"ngIf"],["class","mb-2 grid grid-cols-4 gap-2",3,"!grid-cols-1",4,"ngIf"],["class","w-full flex justify-center items-center px-[15px] py-[9px] cursor-pointer bg-secondary-3-1 rounded text-heading-xs text-secondary-3-4 mt-4",3,"click",4,"ngIf"],[4,"ngIf"],["NATemplate",""],["NARightTemplate",""],[1,"h-full","w-[206px]","shrink-0","flex","flex-col","justify-center"],["class","text-heading-sm py-1 px-3 bg-neutral-gray-1 flex gap-x-2 items-center justify-center w-fit rounded",4,"ngIf"],["class","text-heading-sm py-1 px-3 bg-neutral-gray-1 flex gap-x-2 items-center justify-center w-fit rounded uppercase",4,"ngIf"],[1,"text-heading-sm","py-1","px-3","bg-neutral-gray-1","flex","gap-x-2","items-center","justify-center","w-fit","rounded"],["icon","arrow_right","size","small",4,"ngIf"],["icon","switch","size","small",4,"ngIf"],["icon","arrow_right","size","small"],["icon","switch","size","small"],[1,"text-heading-sm","py-1","px-3","bg-neutral-gray-1","flex","gap-x-2","items-center","justify-center","w-fit","rounded","uppercase"],[4,"ngFor","ngForOf"],[1,"mt-3","flex","gap-x-2"],["icon","plane","size","small",1,"text-[#ccc]"],[1,"text-espressive-sm","text-neutral-black"],[1,"text-espressive-sm","text-neutral-black","mt-3","flex","gap-x-2"],["class","mt-3 flex gap-x-2",4,"ngIf"],["CfSelectable","",1,"text-heading-lg"],["icon","refresh","size","medium",1,"animate-spin",3,"ngClass"],["icon","checkbox_checked","size","medium",1,"text-secondary-5-4"],[1,"text-secondary-3-4","text-body-sm","hover:underline","hover:cursor-pointer",3,"click"],[1,"mb-2","grid","grid-cols-4","gap-2"],["cf-button","","size","medium","type","secondary","class","justify-center gap-x-2 button-md",3,"disabledOneClick","click",4,"ngIf"],["cf-button","","size","medium","type","secondary","tabIndex","-1","cdkOverlayOrigin","","class","justify-center gap-x-2 button-md",3,"disabled","disabledOneClick","manualHandle","placement","cfTooltip",4,"ngIf"],["cf-button","","size","medium","type","secondary",1,"justify-center","gap-x-2","button-md",3,"disabledOneClick","click"],["size","small",3,"icon"],["cf-button","","size","medium","type","secondary","tabIndex","-1","cdkOverlayOrigin","",1,"justify-center","gap-x-2","button-md",3,"disabled","disabledOneClick","manualHandle","placement","cfTooltip"],["trigger","","originOverlay","cdkOverlayOrigin"],["size","small",1,"opacity-50",3,"icon"],["cdkOverlayOrigin",""],["cf-button","","size","medium","type","secondary","class","w-full justify-center gap-x-2 button-md",3,"disabledOneClick","click",4,"ngIf"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","overlayOutsideClick"],["cf-button","","size","medium","type","secondary",1,"w-full","justify-center","gap-x-2","button-md",3,"disabledOneClick","click"],[1,"p-4","shadow-cf-lg","bg-neutral-white","min-w-[200px]","flex","flex-col","gap-y-2"],["cf-button","","size","medium","type","secondary","class","justify-center button-md",3,"disabledOneClick","click",4,"ngIf"],["cf-button","","size","medium","type","secondary",1,"justify-center","button-md",3,"disabledOneClick","click"],[1,"w-full","flex","justify-center","items-center","px-[15px]","py-[9px]","cursor-pointer","bg-secondary-3-1","rounded","text-heading-xs","text-secondary-3-4","mt-4",3,"click"],[1,"mb-4","mt-6","flex","items-center","gap-x-2"],["icon","circle_information","size","small"],[1,"text-heading-sm","text-neutral-black"],["class","border border-dashed rounded border-neutral-gray-2 p-6 mb-6",4,"ngIf","ngIfElse"],["templateBookingFail",""],["class","mb-6",4,"ngFor","ngForOf"],[1,"border","border-dashed","rounded","border-neutral-gray-2","p-6","mb-6"],[1,"grid","grid-cols-2","gap-x-16","gap-y-4"],[1,"flex","justify-between","items-center","w-full"],[1,"px-3","bg-secondary-5-1","rounded","text-body-md","text-secondary-5-5"],[1,"text-espressive-md","text-neutral-black"],["class","flex justify-between items-center w-full",4,"ngIf"],[1,"text-body-md"],[1,"text-espressive-md"],[1,"w-full","flex","gap-x-2","items-center","mb-6","bg-secondary-6-1","rounded","text-body-md","px-4","py-3","text-neutral-gray-6","break-all"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["d","M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z","fill","#E03C31"],["d","M8.46979 8.46967C8.76269 8.17678 9.23756 8.17678 9.53045 8.46967L12.0001 10.9393L14.4697 8.46967C14.7626 8.17678 15.2374 8.17678 15.5303 8.46967C15.8232 8.76256 15.8232 9.23744 15.5303 9.53033L13.0607 11.9999L15.5304 14.4697C15.8233 14.7626 15.8233 15.2374 15.5304 15.5303C15.2376 15.8232 14.7627 15.8232 14.4698 15.5303L12.0001 13.0606L9.53033 15.5303C9.23744 15.8232 8.76256 15.8232 8.46967 15.5303C8.17678 15.2374 8.17678 14.7626 8.46967 14.4697L10.9394 11.9999L8.46979 9.53033C8.1769 9.23744 8.1769 8.76256 8.46979 8.46967Z","fill","white"],[1,"mb-6"],[1,"text-espressive-sm","text-neutral-black","mb-4","flex","gap-x-4","items-center"],["class","bg-primary-1-1 text-primary-1-4 py-1.5 px-2 text-body-md flex items-center gap-x-2 rounded",4,"ngIf"],["class","py-3 px-4 bg-functional-1-1 text-body-md rounded flex items-center gap-x-2.5 mb-4",4,"ngIf"],[1,"flex","flex-col","gap-y-3"],["class","flex flex-col gap-y-3",4,"ngFor","ngForOf"],[1,"bg-primary-1-1","text-primary-1-4","py-1.5","px-2","text-body-md","flex","items-center","gap-x-2","rounded"],["icon","error","size","small",1,"text-primary-1-4"],[1,"py-3","px-4","bg-functional-1-1","text-body-md","rounded","flex","items-center","gap-x-2.5","mb-4"],["icon","info","size","medium",1,"text-functional-1-3"],["class","w-full bg-[#F0EAF4] rounded flex items-center gap-x-2 py-1.5 px-3",4,"ngIf"],[1,"flex","justify-between","items-center","border","border-neutral-gray-2","rounded","shadow-cf-journey-booking-success","relative"],[1,"absolute","-translate-x-[18%]","top-0","h-full","flex","flex-col","justify-between","py-3.5"],[1,"w-1.5","h-3","border","border-l-0","bg-neutral-white","border-neutral-gray-2","rounded-r-full"],[1,"px-8","pt-6","pb-8","flex","justify-between","gap-x-9"],[1,"flex","flex-col","items-center","justify-center"],[1,"flex","items-center","mt-1.5"],[1,"text-espressive-sm"],[1,"text-body-sm"],[1,"py-[2px]","px-2","bg-neutral-gray-1","rounded","text-espressive-sm","text-neutral-black","mt-2"],[1,"flex","justify-between","gap-x-3"],[1,""],[1,"flex","items-center","gap-x-[20px]","mb-3"],[1,"text-heading-lg","text-neutral-black","flex","gap-x-2","items-center"],["icon","clock","size","small"],[1,"flex","items-center","w-[50px]","py-1","px-2.5"],[1,"w-1.5","h-1.5","bg-neutral-gray-2","rounded-full"],[1,"w-full","h-[1px]","bg-neutral-gray-2"],[1,"flex","items-center","gap-x-2","mb-2"],["icon","calendar","size","small"],[1,"flex","gap-x-2"],["icon","location","size","small"],[1,"text-neutral-black"],["class","text-espressive-md",4,"ngIf"],[1,"text-heading-lg","text-neutral-black","flex","gap-x-2","items-center","mb-3"],[1,"py-6","px-[18px]","border-l","border-dashed","border-neutral-gray-2","flex","flex-col","justify-between","gap-y-2"],[1,"flex","flex-nowrap","items-center"],["class","flex flex-nowrap items-center",4,"ngIf"],[1,"w-full","bg-[#F0EAF4]","rounded","flex","items-center","gap-x-2","py-1.5","px-3"],["icon","circle_information","size","small",1,"text-secondary-2-4"],[1,"text-express-md","text-neutral-gray-6"],[1,"mb-4","mt-7","flex","items-center","gap-x-2"],[1,"py-[2px]","px-2","ml-1","bg-neutral-gray-1","rounded","text-espressive-sm","text-neutral-black"],[1,"table-auto","w-full"],[1,"border-b","border-neutral-gray-1"],[1,"text-left","text-espressive-sm","text-neutral-gray-4","py-3"],[1,"text-right","text-espressive-sm","text-neutral-gray-4","py-3"],["class","text-right text-espressive-sm text-neutral-gray-4 py-3",4,"ngIf"],[1,"text-neutral-gray-1","w-full"],[1,"mt-4","flex","justify-end","items-center","gap-x-4"],[1,"text-espressive-sm","text-neutral-gray-4"],["class","text-heading-md",4,"ngIf","ngIfElse"],[1,"text-body-md","text-neutral-black","py-3"],[1,"text-right","text-body-md","text-neutral-black","py-3"],["class","text-right text-body-md text-neutral-black py-3",4,"ngIf"],["class","text-right text-body-md text-secondary-5-3 py-3",4,"ngIf"],[4,"ngIf","ngIfElse"],["noDiscountTempl",""],[1,"text-right","text-body-md","text-secondary-5-3","py-3"],[1,"text-heading-md"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div"),e._UZ(4,"img",3),e.qZA(),e.TgZ(5,"div",4)(6,"span",5),e._uU(7),e.qZA(),e.TgZ(8,"span",6),e._uU(9),e.qZA()(),e.TgZ(10,"div",7),e._uU(11),e.qZA()(),e._UZ(12,"div",8),e.YNc(13,Ae,5,4,"div",9),e.YNc(14,J,1,0,"div",10),e.YNc(15,ie,5,1,"div",11),e._UZ(16,"div",8),e.TgZ(17,"div",12)(18,"div",13),e._uU(19,"Tr\u1ea1ng th\xe1i"),e.qZA(),e.TgZ(20,"div",14),e.YNc(21,he,1,3,"cf-icon",15),e.YNc(22,we,1,0,"cf-icon",16),e.TgZ(23,"div",17)(24,"label",18),e._uU(25),e.qZA(),e.YNc(26,ke,2,0,"div",19),e.qZA()()()(),e.YNc(27,dt,2,3,"div",20),e.YNc(28,pt,3,1,"div",21),e.YNc(29,Ft,11,4,"div",22),e.qZA(),e.YNc(30,Jt,2,0,"ng-template",null,23,e.W1O),e.YNc(32,Qt,2,0,"ng-template",null,24,e.W1O),e.YNc(34,St,2,0,"ng-template",null,24,e.W1O)),2&t&&(e.xp6(4),e.Q6J("src",i.bookingDetail.airlineLogo,e.LSH),e.xp6(3),e.hij("",(null==i.bookingDetail.journeys[0]?null:i.bookingDetail.journeys[0].operating)||i.bookingDetail.airlineSystem," -\xa0"),e.xp6(2),e.Oqu((null==i.bookingDetail.journeys[0]?null:i.bookingDetail.journeys[0].operatingName)||i.bookingDetail.airlineName),e.xp6(2),e.hij(" H\u1ec7 th\u1ed1ng: ",i.bookingDetail.airlineSystem," "),e.xp6(2),e.Q6J("ngIf","CANCEL"!==i.bookingDetail.status&&!i.bookingDetail.isVJCancelAllJourney),e.xp6(1),e.Q6J("ngIf",i.isBooked&&!i.bookingDetail.isVJCancelAllJourney),e.xp6(1),e.Q6J("ngIf",i.bookingDetail.bookingCodeDisplay&&i.isBooked),e.xp6(6),e.Q6J("ngIf","IN_PROGRESS"===i.bookingDetail.status&&i.paymentOrderCode),e.xp6(1),e.Q6J("ngIf",i.isBooked),e.xp6(2),e.Q6J("ngClass",e.VKq(15,K,i.paymentOrderCode)),e.xp6(1),e.Oqu(i.bookingDetail.statusText),e.xp6(1),e.Q6J("ngIf",i.bookingDetail.canRetry),e.xp6(1),e.Q6J("ngIf",null==i.bookingDetail.actions?null:i.bookingDetail.actions.length),e.xp6(1),e.Q6J("ngIf","CANCEL"!==i.bookingDetail.status&&!i.bookingDetail.isVJCancelAllJourney),e.xp6(1),e.Q6J("ngIf",i.isShowMore&&"CANCEL"!==i.bookingDetail.status&&!i.bookingDetail.isVJCancelAllJourney))},dependencies:[m.O5,m.ax,m.mk,m.uU,p.AxE,p.Sm8,H,m.JJ,$,E.N8,E.Xq,O.f,re.pI,re.xu,ce.Lk],encapsulation:2}),n})();function Mt(n,r){1&n&&(e.TgZ(0,"th",5),e._uU(1,"Thu\u1ebf ph\xed "),e.qZA())}function Ot(n,r){1&n&&(e.TgZ(0,"th",5),e._uU(1," Chi\u1ebft kh\u1ea5u"),e.qZA())}function Rt(n,r){if(1&n&&(e.TgZ(0,"td",16),e._uU(1),e.ALo(2,"replace"),e.ALo(3,"number"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(e.Dn7(2,1,e.lcZ(3,5,t.tax),",","."))}}function jt(n,r){if(1&n&&(e.TgZ(0,"td",22),e._uU(1),e.ALo(2,"replace"),e.ALo(3,"number"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" (",e.Dn7(2,1,e.lcZ(3,5,t.discountAmount),",","."),") ")}}function Gt(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"replace"),e.ALo(3,"number"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.Dn7(2,1,e.lcZ(3,5,t.totalDiscountFarePrice),",",".")," ")}}function Lt(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"replace"),e.ALo(3,"number"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(e.Dn7(2,1,e.lcZ(3,5,t.total),",","."))}}function Ht(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td",14),e._uU(2),e.qZA(),e.TgZ(3,"td",15),e._uU(4),e.qZA(),e.TgZ(5,"td",16),e._uU(6),e.ALo(7,"replace"),e.ALo(8,"number"),e.qZA(),e.YNc(9,Rt,4,7,"td",17),e.YNc(10,jt,4,7,"td",18),e.TgZ(11,"td",19),e.YNc(12,Gt,4,7,"span",20),e.YNc(13,Lt,4,7,"ng-template",null,21,e.W1O),e.qZA()()),2&n){const t=r.$implicit,i=e.MAs(14),o=e.oxw(2);e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.type),e.xp6(2),e.Oqu(e.Dn7(7,7,e.lcZ(8,11,t.base),",",".")),e.xp6(3),e.Q6J("ngIf",!o.isGDSProvider),e.xp6(1),e.Q6J("ngIf",o.hasDiscountFare),e.xp6(2),e.Q6J("ngIf",t.discountAmount&&o.hasDiscountFare)("ngIfElse",i)}}function Vt(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"replace"),e.ALo(3,"number"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("",e.Dn7(2,1,e.lcZ(3,5,t.priceDetail.totalDiscountBasePrice),",",".")," \u0111")}}function zt(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"replace"),e.ALo(3,"number"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("",e.Dn7(2,1,e.lcZ(3,5,t.priceDetail.totalBasePrice),",",".")," \u0111")}}function Kt(n,r){if(1&n&&(e.TgZ(0,"div",1)(1,"div")(2,"table",2)(3,"thead")(4,"tr",3)(5,"th",4),e._uU(6,"H\xe0nh kh\xe1ch"),e.qZA(),e.TgZ(7,"th",4),e._uU(8,"Lo\u1ea1i kh\xe1ch"),e.qZA(),e.TgZ(9,"th",5),e._uU(10,"Gi\xe1 v\xe9"),e.qZA(),e.YNc(11,Mt,2,0,"th",6),e.YNc(12,Ot,2,0,"th",6),e.TgZ(13,"th",5),e._uU(14,"T\u1ed5ng gi\xe1"),e.qZA()()(),e.TgZ(15,"tbody"),e.YNc(16,Ht,15,13,"tr",7),e.qZA()(),e._UZ(17,"hr",8),e.qZA(),e.TgZ(18,"div",9)(19,"div",10)(20,"div",11),e._uU(21,"T\u1ed5ng gi\xe1 g\u1ed1c"),e.qZA(),e.TgZ(22,"div",12),e.YNc(23,Vt,4,7,"span",13),e.YNc(24,zt,4,7,"span",13),e.qZA()(),e.TgZ(25,"div",10)(26,"div",11),e._uU(27,"D\u1ecbch v\u1ee5 c\u1ed9ng th\xeam"),e.qZA(),e.TgZ(28,"div",12),e._uU(29),e.ALo(30,"replace"),e.ALo(31,"number"),e.qZA()(),e.TgZ(32,"div",10)(33,"div",11),e._uU(34,"Ph\xed d\u1ecbch v\u1ee5"),e.qZA(),e.TgZ(35,"div",12),e._uU(36),e.ALo(37,"replace"),e.ALo(38,"number"),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngIf",!t.isGDSProvider),e.xp6(1),e.Q6J("ngIf",t.hasDiscountFare),e.xp6(4),e.Q6J("ngForOf",null==t.priceDetail?null:t.priceDetail.passengers),e.xp6(7),e.Q6J("ngIf",t.priceDetail.totalDiscountBasePrice),e.xp6(1),e.Q6J("ngIf",!t.priceDetail.totalDiscountBasePrice),e.xp6(5),e.hij("",e.Dn7(30,7,e.lcZ(31,11,(t.priceDetail.totalAddonService||0)+(t.priceDetail.totalOthersCharge||0)),",",".")," \u0111"),e.xp6(7),e.hij("",e.Dn7(37,13,e.lcZ(38,17,t.priceDetail.totalServiceFee),",",".")," \u0111")}}let $t=(()=>{class n{constructor(){this.hasDiscountFare=!1}ngOnChanges(t){this.priceDetail&&(this.isGDSProvider=this.priceDetail.provider.includes("GDS"))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["price-detail"]],inputs:{priceDetail:"priceDetail",hasDiscountFare:"hasDiscountFare"},standalone:!0,features:[e.TTD,e.jDz],decls:1,vars:1,consts:[["class","px-6 py-4 border-b-4 border-neutral-gray-1",4,"ngIf"],[1,"px-6","py-4","border-b-4","border-neutral-gray-1"],[1,"table-auto","w-full"],[1,"border-b","border-neutral-gray-1"],[1,"text-left","text-espressive-sm","text-neutral-gray-4","py-3"],[1,"text-right","text-espressive-sm","text-neutral-gray-4","py-3"],["class","text-right text-espressive-sm text-neutral-gray-4 py-3",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-neutral-gray-1","w-full","mb-4"],[1,"flex","flex-col","items-end","gap-[10px]"],[1,"flex","justify-end","items-center","gap-8"],[1,"text-espressive-sm","text-neutral-gray-4"],[1,"min-w-[120px]","text-end","text-body-dm","text-neutral-black"],[4,"ngIf"],[1,"text-body-md","text-neutral-black","py-3","uppercase"],[1,"text-body-md","text-neutral-black","py-3"],[1,"text-body-md","text-neutral-black","py-3","text-right"],["class","text-body-md text-neutral-black py-3 text-right",4,"ngIf"],["class","text-body-md text-secondary-5-3 py-3 text-right",4,"ngIf"],[1,"text-right","text-body-md","text-neutral-black","py-3"],[4,"ngIf","ngIfElse"],["noDiscountTempl",""],[1,"text-body-md","text-secondary-5-3","py-3","text-right"]],template:function(t,i){1&t&&e.YNc(0,Kt,39,19,"div",0),2&t&&e.Q6J("ngIf",i.priceDetail)},dependencies:[m.O5,m.ax,m.JJ,H],encapsulation:2}),n})();var v=C(24006),U=C(10908),pe=C(19123),Qe=C(62331),z=C(67534),Ge=C(6703),D=C(88001),ge=C(28746),S=C(97579),Se=C(58273),le=C(9381);function Xt(n,r){1&n&&(e.TgZ(0,"div",25)(1,"div"),e.O4$(),e.TgZ(2,"svg",26)(3,"g",27)(4,"rect",28),e._UZ(5,"animate",29),e.qZA()(),e.TgZ(6,"g",30)(7,"rect",28),e._UZ(8,"animate",31),e.qZA()(),e.TgZ(9,"g",32)(10,"rect",28),e._UZ(11,"animate",33),e.qZA()(),e.TgZ(12,"g",34)(13,"rect",28),e._UZ(14,"animate",35),e.qZA()(),e.TgZ(15,"g",36)(16,"rect",28),e._UZ(17,"animate",37),e.qZA()(),e.TgZ(18,"g",38)(19,"rect",28),e._UZ(20,"animate",39),e.qZA()(),e.TgZ(21,"g",40)(22,"rect",28),e._UZ(23,"animate",41),e.qZA()(),e.TgZ(24,"g",42)(25,"rect",28),e._UZ(26,"animate",43),e.qZA()(),e.TgZ(27,"g",44)(28,"rect",28),e._UZ(29,"animate",45),e.qZA()(),e.TgZ(30,"g",46)(31,"rect",28),e._UZ(32,"animate",47),e.qZA()(),e.TgZ(33,"g",48)(34,"rect",28),e._UZ(35,"animate",49),e.qZA()(),e.TgZ(36,"g",50)(37,"rect",28),e._UZ(38,"animate",51),e.qZA()()()(),e.kcU(),e.TgZ(39,"div",52),e._uU(40," \u0110ang void... "),e.qZA()())}function Wt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"ticket-number",9),e.NdJ("actionChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onActionChange(o))}),e.qZA()(),e.TgZ(3,"div",10)(4,"div",11)(5,"div",12),e._uU(6,"Gi\u1eef l\u1ea1i h\xe0nh tr\xecnh sau khi void v\xe9?"),e.qZA(),e.TgZ(7,"div",13)(8,"cf-radio-group",14),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.cancelBooking=o)}),e.TgZ(9,"cf-radio",15),e._uU(10,"Kh\xf4ng, h\xe3y h\u1ee7y h\xe0nh tr\xecnh"),e.qZA(),e.TgZ(11,"cf-radio",15),e._uU(12,"C\xf3, gi\u1eef l\u1ea1i \u0111\u1ec3 ti\u1ebfp t\u1ee5c \u0111\u1eb7t v\xe9"),e.qZA()()()(),e.TgZ(13,"div",16)(14,"div",17),e.YNc(15,Xt,41,0,"div",18),e.qZA(),e.TgZ(16,"div",19)(17,"div",20)(18,"div",12),e._uU(19,"Gi\u1eef l\u1ea1i h\xe0nh tr\xecnh sau khi void v\xe9?"),e.qZA(),e.TgZ(20,"div",13)(21,"cf-radio-group",14),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.cancelBooking=o)}),e.TgZ(22,"cf-radio",15),e._uU(23,"Kh\xf4ng, h\xe3y h\u1ee7y h\xe0nh tr\xecnh"),e.qZA(),e.TgZ(24,"cf-radio",15),e._uU(25,"C\xf3, gi\u1eef l\u1ea1i \u0111\u1ec3 ti\u1ebfp t\u1ee5c \u0111\u1eb7t v\xe9"),e.qZA()()()(),e.TgZ(26,"div",21)(27,"button",22),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.close())}),e._uU(28," \u0110\xf3ng "),e.qZA(),e.TgZ(29,"button",23),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onVoidBooking())}),e._UZ(30,"cf-icon",24),e._uU(31," Void t\u1ea5t c\u1ea3 "),e.qZA()()()()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("bookingCode",t.bookingCode)("listTicketNumber",t.listTicketNumber)("isSuccessFull",t.isSuccessFull),e.xp6(6),e.Q6J("ngModel",t.cancelBooking),e.xp6(1),e.Q6J("value","true"),e.xp6(2),e.Q6J("value","false"),e.xp6(4),e.Q6J("ngIf",t.isVoiding),e.xp6(6),e.Q6J("ngModel",t.cancelBooking),e.xp6(1),e.Q6J("value","true"),e.xp6(2),e.Q6J("value","false"),e.xp6(3),e.Q6J("disabled",t.isVoiding),e.xp6(2),e.Q6J("disabled",t.isVoiding)}}function en(n,r){1&n&&(e.TgZ(0,"div",53),e.O4$(),e.TgZ(1,"svg",54),e._UZ(2,"path",55)(3,"path",56),e.TgZ(4,"g",57),e._UZ(5,"path",58),e.qZA(),e._UZ(6,"path",59)(7,"path",60)(8,"path",61)(9,"path",62)(10,"path",63)(11,"path",64)(12,"path",65)(13,"path",66)(14,"path",67)(15,"path",68)(16,"path",69)(17,"path",70)(18,"path",71)(19,"path",72)(20,"path",73),e.TgZ(21,"defs")(22,"filter",74),e._UZ(23,"feFlood",75)(24,"feColorMatrix",76)(25,"feMorphology",77)(26,"feOffset",78)(27,"feGaussianBlur",79)(28,"feColorMatrix",80)(29,"feBlend",81)(30,"feColorMatrix",76)(31,"feMorphology",82)(32,"feOffset",83)(33,"feGaussianBlur",84)(34,"feColorMatrix",85)(35,"feBlend",86)(36,"feBlend",87),e.qZA(),e.TgZ(37,"linearGradient",88),e._UZ(38,"stop",89)(39,"stop",90),e.qZA()()(),e.kcU(),e.TgZ(40,"div",91),e._uU(41,"Kh\xf4ng c\xf3 s\u1ed1 v\xe9 h\u1ee3p l\u1ec7"),e.qZA(),e.TgZ(42,"div",92),e._uU(43,"Kh\xf4ng th\u1ec3 t\xecm th\u1ea5y s\u1ed1 v\xe9 n\xe0o h\u1ee3p l\u1ec7 \u0111\u1ec3 void t\u01b0\u01a1ng \u1ee9ng v\u1edbi m\xe3 \u0111\u1eb7t ch\u1ed7 y\xeau c\u1ea7u. Vui l\xf2ng ki\u1ec3m tra l\u1ea1i m\xe3 \u0111\u1eb7t ch\u1ed7 ho\u1eb7c li\xean h\u1ec7 v\u1edbi booker \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3!"),e.qZA()())}function tn(n,r){1&n&&e._UZ(0,"cf-spinner")}let nn=(()=>{class n{constructor(t,i,o,a,l,d,x,b,g){this.ref=t,this.bottomSheetData=i,this.bottomSheetRef=o,this._modal=l,this._toastService=d,this._manageBookingService=x,this._mobileDetectService=b,this._bottomSheetService=g,this.listTicketNumber=[],this.isLoading=!1,this.isVoiding=!1,this.isSuccessFull=!0,this.cancelBooking="true",a.registerIcons([p.UNF]),t&&(this.bookingCode=t.data.bookingCode,this.airline=t.data.airline),i&&(this.bookingCode=i.bookingCode,this.airline=i.airline)}ngOnInit(){this.loadTicketVoid()}loadTicketVoid(){this.isLoading=!0,this._manageBookingService.getTicketVoid(this.bookingCode).pipe((0,ge.x)(()=>this.isLoading=!1)).subscribe({next:t=>{"OK"===t.status&&t.data&&(this.provider=t.data.provider,this.supplier=t.data.supplier,this.listTicketNumber=t.data.listTicketNumber.map(i=>({ticketNumber:i.ticketNumber,status:i.status,statusDisplay:"- -",totalCharge:i.totalCharge||0,ticketType:i.ticketType})))}})}onActionChange(t){switch(t.action){case"review":return this.onReview(t);case"void":return this.onVoidBooking()}}onVoidBooking(){if(this._mobileDetectService.isMobile()){const t=this._bottomSheetService.open(z.V0,{headerTitle:"X\xe1c nh\u1eadn void",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",leftButtonIcon:"",data:{title:"X\xe1c nh\u1eadn h\u1ee7y v\xe9",body:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n void c\xe1c s\u1ed1 v\xe9 n\xe0y kh\xf4ng? H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c."}});t.containerInstance._rightButtonClick.subscribe(i=>t.dismiss()),t.afterDismissed().subscribe(i=>{i&&this.processVoidBooking()})}else this._modal.open(z.V0,{title:"X\xe1c nh\u1eadn h\u1ee7y v\xe9",body:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n void c\xe1c s\u1ed1 v\xe9 n\xe0y kh\xf4ng? H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c."}).afterClosed$.subscribe({next:i=>{i.data&&this.processVoidBooking()}})}processVoidBooking(){var t,i;const o={title:"Void v\xe9 th\xe0nh c\xf4ng",content:`<div>T\u1ea5t c\u1ea3 c\xe1c s\u1ed1 v\xe9 h\u1ee3p l\u1ec7 t\u1eeb m\xe3 \u0111\u1eb7t ch\u1ed7 <strong>${this.bookingCode}</strong> \u0111\xe3 \u0111\u01b0\u1ee3c void th\xe0nh c\xf4ng.</div>`,status:"success"},a={title:"Void v\xe9 th\u1ea5t b\u1ea1i",content:"<div>Void s\u1ed1 v\xe9 kh\xf4ng th\xe0nh c\xf4ng. Vui l\xf2ng th\u1eed l\u1ea1i ho\u1eb7c li\xean h\u1ec7 booker \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3.</div>",status:"error"},d={agentName:JSON.parse(null!==(t=localStorage.getItem("currentUser"))&&void 0!==t?t:"").data.roleId,cancelBooking:"true"===this.cancelBooking,airline:this.airline,bookingCode:this.bookingCode,ticketNumber:null===(i=this.listTicketNumber)||void 0===i?void 0:i.map(x=>x.ticketNumber)};this.isLoading=!0,this._manageBookingService.voidTicket(d).pipe((0,ge.x)(()=>this.isLoading=!1)).subscribe({next:x=>{if(x.success){const b=x.data.filter(Z=>Z.void).map(Z=>Z.ticketNumber);this.isSuccessFull=x.data.every(Z=>Z.void),this.listTicketNumber=this.listTicketNumber.map(Z=>Object.assign(Object.assign({},Z),{statusDisplay:b.includes(Z.ticketNumber)?"Th\xe0nh c\xf4ng":"Th\u1ea5t b\u1ea1i",status:b.includes(Z.ticketNumber)?"SUCCESS":"ERROR"})),x.data.filter(Z=>Z.void).length===x.data.length?this._modal.open(z.z5,o).afterClosed$.subscribe({next:q=>{q.data&&(this.ref&&this.ref.close(!0),this.bottomSheetData&&this.bottomSheetRef.dismiss(!0))}}):this._modal.open(z.z5,a)}else this._modal.open(z.z5,a).afterClosed$.subscribe({next:()=>{this.listTicketNumber=this.listTicketNumber.map(g=>Object.assign(Object.assign({},g),{statusDisplay:"Th\u1ea5t b\u1ea1i",status:"ERROR"}))}})},error:()=>{this._toastService.add({severity:"error",summary:"C\xf3 l\u1ed7i x\u1ea3y ra",detail:"Void v\xe9 kh\xf4ng th\xe0nh c\xf4ng. Vui l\xf2ng li\xean h\u1ec7 booker \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3!",sticky:!0})}})}onReview(t){var i;if(D.PY&&"VN"===(null===(i=this.airline)||void 0===i?void 0:i.toUpperCase()))return void this._modal.open(z.z5,{title:"Th\xf4ng b\xe1o",content:"H\u1ec7 th\u1ed1ng m\u1edbi Vietnam Airlines ch\u01b0a h\u1ed7 tr\u1ee3 t\xednh n\u0103ng n\xe0y. Xin li\u1ec7n h\u1ec7 booker \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3",status:"error",cancelText:"\u0110\xf3ng"});const o=this._getCurrentUrl();this.isLoading=!0,this._manageBookingService.getTicketDetail({provider:this.provider,supplier:this.supplier?this.supplier:null,ticketNumber:t.ticketNumber,ticketType:t.ticketType}).pipe((0,ge.x)(()=>this.isLoading=!1)).subscribe({next:l=>{const d=this.proccessTicketDetail(l.data);if(this._mobileDetectService.isMobile()){const x=this._bottomSheetService.open(Ge.co,{headerTitle:"Th\xf4ng tin s\u1ed1 v\xe9",rightButtonIcon:"",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",data:{ticketDetail:d,isAction:!1,airline:this.airline,bookingCode:this.bookingCode}});x.containerInstance._leftButtonClick.subscribe(()=>x.dismiss())}else this._modal.open(Ge.co,{ticketDetail:d,curentUrl:o,isAction:!0,airline:this.airline,bookingCode:this.bookingCode})}})}_getCurrentUrl(){return`${window.location.origin}/admin/booking-detail/${this.airline}/${this.bookingCode}`}proccessTicketDetail(t){return{ticketImage:t.ticketImage,ticketInfo:{numCoupons:t.ticketInfo.numCoupons,issueDate:t.ticketInfo.issueDate,createDate:t.ticketInfo.createDate,bookingCode:t.ticketInfo.prn}}}close(){this.ref&&this.ref.close(!1),this.bottomSheetData&&this.bottomSheetRef.dismiss(!1)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(S.gb,8),e.Y36(U.Rr,8),e.Y36(U.Zu,8),e.Y36(p.KNP),e.Y36(S.oE),e.Y36(Qe.BX),e.Y36(Se.fB),e.Y36(le.L),e.Y36(U.a2))},n.\u0275cmp=e.Xpm({type:n,selectors:[["void-booking-detail"]],standalone:!0,features:[e.jDz],decls:9,vars:3,consts:[[1,"w-[772px]","min-h-[250px]","max-h-[600px]","overflow-hidden","flex","flex-col","rounded-lg","bg-neutral-white","md:w-screen","md:bg-neutral-gray-1","md:max-h-none","md:h-full"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-b-neutral-gray-1","md:hidden"],[1,"text-heading-xs","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],["class","flex flex-col justify-between h-full overflow-auto",4,"ngIf"],["class","flex justify-center items-center flex-col py-8",4,"ngIf"],[4,"ngIf"],[1,"flex","flex-col","justify-between","h-full","overflow-auto"],[1,"bg-white","px-6","rounded","md:bg-transparent","md:p-0","overflow-auto"],[3,"bookingCode","listTicketNumber","isSuccessFull","actionChange"],[1,"flex","flex-col"],[1,"px-4","pt-4","flex","flex-col","gap-y-2","md:hidden"],[1,"text-express-md"],[1,"flex","gap-x-6"],[1,"flex","items-center","gap-x-8",3,"ngModel","ngModelChange"],["size","medium",3,"value"],[1,"flex","justify-between","items-center","gap-x-4","pr-6","pb-6","pt-8","md:p-4","md:bg-neutral-white"],[1,"md:hidden"],["class","flex items-center",4,"ngIf"],[1,"md:flex","md:flex-col","md:gap-y-4","md:w-full"],[1,"hidden","md:flex","flex-col","gap-y-2"],[1,"flex","justify-end","gap-x-4","md:w-full"],["cf-button","","size","medium","type","secondary",1,"md:w-full","md:justify-center",3,"disabled","click"],["cf-button","","size","medium",1,"md:w-full","md:justify-center",3,"disabled","click"],["icon","coupon","size","small",1,"mr-2.5","text-white"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","width","40px","height","40px","viewBox","0 0 100 100","preserveAspectRatio","xMidYMid",2,"margin","auto","background","rgb(255, 255, 255)","display","block","shape-rendering","auto"],["transform","rotate(0 50 50)"],["x","49.5","y","24","rx","0.5","ry","6","width","1","height","12","fill","#000000"],["attributeName","opacity","values","1;0","keyTimes","0;1","dur","1s","begin","-0.9166666666666666s","repeatCount","indefinite"],["transform","rotate(30 50 50)"],["attributeName","opacity","values","1;0","keyTimes","0;1","dur","1s","begin","-0.8333333333333334s","repeatCount","indefinite"],["transform","rotate(60 50 50)"],["attributeName","opacity","values","1;0","keyTimes","0;1","dur","1s","begin","-0.75s","repeatCount","indefinite"],["transform","rotate(90 50 50)"],["attributeName","opacity","values","1;0","keyTimes","0;1","dur","1s","begin","-0.6666666666666666s","repeatCount","indefinite"],["transform","rotate(120 50 50)"],["attributeName","opacity","values","1;0","keyTimes","0;1","dur","1s","begin","-0.5833333333333334s","repeatCount","indefinite"],["transform","rotate(150 50 50)"],["attributeName","opacity","values","1;0","keyTimes","0;1","dur","1s","begin","-0.5s","repeatCount","indefinite"],["transform","rotate(180 50 50)"],["attributeName","opacity","values","1;0","keyTimes","0;1","dur","1s","begin","-0.4166666666666667s","repeatCount","indefinite"],["transform","rotate(210 50 50)"],["attributeName","opacity","values","1;0","keyTimes","0;1","dur","1s","begin","-0.3333333333333333s","repeatCount","indefinite"],["transform","rotate(240 50 50)"],["attributeName","opacity","values","1;0","keyTimes","0;1","dur","1s","begin","-0.25s","repeatCount","indefinite"],["transform","rotate(270 50 50)"],["attributeName","opacity","values","1;0","keyTimes","0;1","dur","1s","begin","-0.16666666666666666s","repeatCount","indefinite"],["transform","rotate(300 50 50)"],["attributeName","opacity","values","1;0","keyTimes","0;1","dur","1s","begin","-0.08333333333333333s","repeatCount","indefinite"],["transform","rotate(330 50 50)"],["attributeName","opacity","values","1;0","keyTimes","0;1","dur","1s","begin","0s","repeatCount","indefinite"],[1,"text-espressive-sm"],[1,"flex","justify-center","items-center","flex-col","py-8"],["width","134","height","115","viewBox","0 0 134 115","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M66.4672 102.041C94.5888 102.041 117.387 79.2428 117.387 51.0207C117.387 22.7986 94.4884 0 66.4672 0C38.3455 0 15.5469 22.7986 15.5469 51.0207C15.5469 79.2428 38.3455 102.041 66.4672 102.041Z","fill","#BEBFC1"],["d","M17.8551 17.576C19.4082 17.576 20.6673 16.3169 20.6673 14.7638C20.6673 13.2107 19.4082 11.9517 17.8551 11.9517C16.302 11.9517 15.043 13.2107 15.043 14.7638C15.043 16.3169 16.302 17.576 17.8551 17.576Z","fill","#F1F3F9"],["filter","url(#filter0_dd_1211_19630)"],["d","M121.111 16.8693V85.2206C121.111 88.2132 118.687 90.6671 115.694 90.6671H17.4466C14.4539 90.6671 12 88.2431 12 85.2206V16.8693C12 13.8767 14.424 11.4527 17.4466 11.4527H115.694C118.687 11.4527 121.111 13.8767 121.111 16.8693Z","fill","white"],["d","M121.111 16.8693V22.5254H12V16.8693C12 13.8767 14.424 11.4527 17.4466 11.4527H115.694C118.687 11.4527 121.111 13.8767 121.111 16.8693Z","fill","url(#paint0_linear_1211_19630)"],["d","M17.8947 18.4553C18.7211 18.4553 19.391 17.7854 19.391 16.959C19.391 16.1326 18.7211 15.4627 17.8947 15.4627C17.0684 15.4627 16.3984 16.1326 16.3984 16.959C16.3984 17.7854 17.0684 18.4553 17.8947 18.4553Z","fill","#BEBFC1"],["d","M22.383 18.4553C23.2094 18.4553 23.8793 17.7854 23.8793 16.959C23.8793 16.1326 23.2094 15.4627 22.383 15.4627C21.5566 15.4627 20.8867 16.1326 20.8867 16.959C20.8867 17.7854 21.5566 18.4553 22.383 18.4553Z","fill","#BEBFC1"],["d","M26.844 18.4553C27.6703 18.4553 28.3403 17.7854 28.3403 16.959C28.3403 16.1326 27.6703 15.4627 26.844 15.4627C26.0176 15.4627 25.3477 16.1326 25.3477 16.959C25.3477 17.7854 26.0176 18.4553 26.844 18.4553Z","fill","#BEBFC1"],["d","M51.1126 31.3237H21.6055V60.4965H51.1126V31.3237Z","fill","#DFDFE0"],["d","M91.5312 31.1768H111.892","stroke","#DFDFE0","stroke-width","4","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["d","M59.7188 31.1768H82.6241","stroke","#DFDFE0","stroke-width","4","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["d","M59.7188 40.7207H111.892","stroke","#DFDFE0","stroke-width","4","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["d","M80.7148 50.2647H111.892","stroke","#DFDFE0","stroke-width","4","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["d","M59.7188 50.2647H73.0802","stroke","#DFDFE0","stroke-width","4","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["d","M59.7188 59.8085H88.3505","stroke","#DFDFE0","stroke-width","4","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["d","M82.625 69.3524H111.893","stroke","#DFDFE0","stroke-width","4","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["d","M21.543 69.3524H73.7163","stroke","#DFDFE0","stroke-width","4","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["d","M50.8125 78.8963H88.9881","stroke","#DFDFE0","stroke-width","4","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["d","M21.543 78.8963H41.9033","stroke","#DFDFE0","stroke-width","4","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["id","filter0_dd_1211_19630","x","0","y","11.4527","width","133.109","height","103.214","filterUnits","userSpaceOnUse","color-interpolation-filters","sRGB"],["flood-opacity","0","result","BackgroundImageFix"],["in","SourceAlpha","type","matrix","values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0","result","hardAlpha"],["radius","2","operator","erode","in","SourceAlpha","result","effect1_dropShadow_1211_19630"],["dy","4"],["stdDeviation","3"],["type","matrix","values","0 0 0 0 0.0627451 0 0 0 0 0.0941176 0 0 0 0 0.156863 0 0 0 0.05 0"],["mode","normal","in2","BackgroundImageFix","result","effect1_dropShadow_1211_19630"],["radius","4","operator","erode","in","SourceAlpha","result","effect2_dropShadow_1211_19630"],["dy","12"],["stdDeviation","8"],["type","matrix","values","0 0 0 0 0.0627451 0 0 0 0 0.0941176 0 0 0 0 0.156863 0 0 0 0.1 0"],["mode","normal","in2","effect1_dropShadow_1211_19630","result","effect2_dropShadow_1211_19630"],["mode","normal","in","SourceGraphic","in2","effect2_dropShadow_1211_19630","result","shape"],["id","paint0_linear_1211_19630","x1","11.9986","y1","16.9888","x2","121.112","y2","16.9888","gradientUnits","userSpaceOnUse"],["stop-color","#DFDFE0"],["offset","1","stop-color","white"],[1,"text-heading-md","text-neutral-black","mb-4","pr-3","pl-3"],[1,"text-espressive-md","text-neutral-gray-5","pr-3","pl-3","text-justify"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Void v\xe9"),e.qZA(),e.TgZ(4,"cf-icon",3),e.NdJ("click",function(){return i.close()}),e.qZA()(),e.YNc(5,Wt,32,12,"div",4),e.YNc(6,en,44,0,"div",5),e.qZA(),e._UZ(7,"cf-toast"),e.YNc(8,tn,1,0,"cf-spinner",6)),2&t&&(e.xp6(5),e.Q6J("ngIf",i.listTicketNumber.length),e.xp6(1),e.Q6J("ngIf",!i.listTicketNumber.length),e.xp6(2),e.Q6J("ngIf",i.isLoading))},dependencies:[m.ez,m.O5,p.AxE,p.Sm8,E.N8,E.Xq,Ge.kP,Qe.hj,z.OR,U.DW,pe.o,pe.T,v.u5,v.JJ,v.On],encapsulation:2}),n})();function on(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"div",15),e._uU(2),e.qZA(),e.TgZ(3,"cf-icon",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionChange("copy_pnr"))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.bookingDetail.bookingCode)}}function rn(n,r){1&n&&(e.ynx(0),e.O4$(),e.TgZ(1,"svg",17),e._UZ(2,"path",18),e.qZA(),e.BQk())}function an(n,r){1&n&&(e.ynx(0),e.O4$(),e.TgZ(1,"svg",19),e._UZ(2,"path",18),e.qZA(),e.BQk())}function sn(n,r){1&n&&e._UZ(0,"cf-icon",25)}function un(n,r){1&n&&e._UZ(0,"cf-icon",26)}function ln(n,r){if(1&n&&(e.TgZ(0,"div",21)(1,"div",22),e._uU(2),e.qZA(),e.YNc(3,sn,1,0,"cf-icon",23),e.YNc(4,un,1,0,"cf-icon",24),e.TgZ(5,"div",22),e._uU(6),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(t.bookingDetail.startPoint),e.xp6(1),e.Q6J("ngIf",1===t.bookingDetail.journeys.length),e.xp6(1),e.Q6J("ngIf",t.bookingDetail.journeys.length>1),e.xp6(2),e.Oqu(t.bookingDetail.endPoint)}}function cn(n,r){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,ln,7,4,"div",20),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.bookingDetail.startPoint&&t.bookingDetail.endPoint)}}function dn(n,r){1&n&&(e.TgZ(0,"div",27),e._uU(1," \u0110A CH\u1eb6NG "),e.qZA())}function tt(n,r){if(1&n&&(e.TgZ(0,"div",29)(1,"div",30)(2,"div",10),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._uU(5),e.ALo(6,"date"),e.qZA()(),e._UZ(7,"cf-icon",26),e.TgZ(8,"div",30)(9,"div",10),e._uU(10),e.qZA(),e.TgZ(11,"div",3),e._uU(12),e.ALo(13,"date"),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(3),e.AsE(" ",t.bookingDetail.journeys[0].startPoint,"-",t.bookingDetail.journeys[0].endPoint,""),e.xp6(2),e.Oqu(e.xi3(6,6,t.bookingDetail.journeys[0].startTime,"HH:mm - dd/MM/yyyy")),e.xp6(5),e.AsE(" ",t.bookingDetail.journeys[1].startPoint,"-",t.bookingDetail.journeys[1].endPoint,""),e.xp6(2),e.Oqu(e.xi3(13,9,t.bookingDetail.journeys[1].startTime,"HH:mm - dd/MM/yyyy"))}}function nt(n,r){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,tt,14,12,"div",28),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",2===t.bookingDetail.journeys.length)}}function pn(n,r){if(1&n&&(e.TgZ(0,"div",30)(1,"div",10),e._uU(2),e.qZA(),e.TgZ(3,"div",3),e._uU(4),e.ALo(5,"date"),e.qZA()()),2&n){const t=r.$implicit;e.xp6(2),e.AsE(" ",t.startPoint,"-",t.endPoint,""),e.xp6(2),e.Oqu(e.xi3(5,3,t.startTime,"HH:mm - dd/MM/yyyy"))}}function _n(n,r){if(1&n&&(e.TgZ(0,"div",31),e.YNc(1,pn,6,6,"div",32),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.bookingDetail.journeys)}}function Le(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.onActionChange(o.value))}),e._UZ(1,"cf-icon",38),e._uU(2),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("icon",t.icon),e.xp6(1),e.hij(" ",t.name," ")}}function gn(n,r){if(1&n&&(e.TgZ(0,"button",39,40),e._UZ(3,"cf-icon",41),e._uU(4),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("disabled",!0)("disabledOneClick",!0)("disabledOneClick",!0)("manualHandle",!1)("placement","topCenter")("cfTooltip","H\u1ec7 th\u1ed1ng ch\u01b0a h\u1ed7 tr\u1ee3 xu\u1ea5t v\xe9 t\u1ef1 \u0111\u1ed9ng cho m\xe3 \u0111\u1eb7t ch\u1ed7 n\xe0y. Vui l\xf2ng li\xean h\u1ec7 Booker \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3"),e.xp6(3),e.Q6J("icon",t.icon),e.xp6(1),e.hij(" ",t.name," ")}}function fn(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.onActionChange(o.value))}),e._UZ(1,"cf-icon",38),e._uU(2),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("icon",t.icon),e.xp6(1),e.hij(" ",t.name," ")}}function mn(n,r){if(1&n&&(e.TgZ(0,"button",39,40),e._UZ(3,"cf-icon",41),e._uU(4),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("disabled",!0)("disabledOneClick",!0)("disabledOneClick",!0)("manualHandle",!1)("placement","topCenter")("cfTooltip","H\u1ec7 th\u1ed1ng ch\u01b0a h\u1ed7 tr\u1ee3 xu\u1ea5t v\xe9 t\u1ef1 \u0111\u1ed9ng cho m\xe3 \u0111\u1eb7t ch\u1ed7 n\xe0y. Vui l\xf2ng li\xean h\u1ec7 Booker \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3"),e.xp6(3),e.Q6J("icon",t.icon),e.xp6(1),e.hij(" ",t.name," ")}}function hn(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"Kh\xf4ng th\u1ec3 xu\u1ea5t v\xe9 tr\xean v\xe9 \u0111\xe3 void."),e.qZA(),e.TgZ(2,"div"),e._uU(3," Vui l\xf2ng li\xean h\u1ec7 Booker h\u1ed7 tr\u1ee3 x\u1eed l\xfd h\u1ee7y s\u1ed1 v\xe9 tr\u01b0\u1edbc khi ti\u1ebfp t\u1ee5c."),e.qZA())}function xn(n,r){if(1&n&&(e.TgZ(0,"button",39,40),e._UZ(3,"cf-icon",41),e._uU(4),e.YNc(5,hn,4,0,"ng-template",null,42,e.W1O),e.qZA()),2&n){const t=e.MAs(6),i=e.oxw().$implicit;e.Q6J("disabled",!0)("disabledOneClick",!0)("disabledOneClick",!0)("manualHandle",!1)("placement","topCenter")("cfTooltip",t),e.xp6(3),e.Q6J("icon",i.icon),e.xp6(1),e.hij(" ",i.name," ")}}function vn(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.onActionChange(o.value))}),e._UZ(1,"cf-icon",38),e._uU(2),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("icon",t.icon),e.xp6(1),e.hij(" ",t.name," ")}}function Cn(n,r){if(1&n&&(e.TgZ(0,"button",39,40),e._UZ(3,"cf-icon",41),e._uU(4),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("disabled",!0)("disabledOneClick",!0)("disabledOneClick",!0)("manualHandle",!1)("placement","topCenter")("cfTooltip","Vui l\xf2ng li\xean h\u1ec7 Booker \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 h\u1ee7y v\xe9 \u0111\xe3 xu\u1ea5t"),e.xp6(3),e.Q6J("icon",t.icon),e.xp6(1),e.hij(" ",t.name," ")}}function bn(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).$implicit,a=e.oxw(2);return a.onActionChange(o.value),e.KtG(a.isOpen=!a.isOpen)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function yn(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw(5);return a.onActionChange(o.value),e.KtG(a.isOpen=!a.isOpen)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function ve(n,r){if(1&n&&(e.ynx(0),e.YNc(1,yn,2,1,"button",48),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",t.enabled)}}function En(n,r){if(1&n&&(e.TgZ(0,"div",47),e.YNc(1,ve,2,1,"ng-container",34),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngForOf",t.items)}}function u(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",43,40),e.YNc(4,bn,2,1,"button",44),e.qZA(),e.YNc(5,En,2,1,"ng-template",45),e.NdJ("overlayOutsideClick",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.outsideClick())}),e.qZA()}if(2&n){const t=e.MAs(3),i=e.oxw().$implicit,o=e.oxw(2);e.xp6(4),e.Q6J("ngIf",i.enabled),e.xp6(1),e.Q6J("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",o.isOpen)("cdkConnectedOverlayPositions",o.bottomCenter)}}function h(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Le,3,2,"button",35),e.YNc(2,gn,5,8,"button",36),e.YNc(3,fn,3,2,"button",35),e.YNc(4,mn,5,8,"button",36),e.YNc(5,xn,7,8,"button",36),e.YNc(6,vn,3,2,"button",35),e.YNc(7,Cn,5,8,"button",36),e.YNc(8,u,6,4,"div",6),e.BQk()),2&n){const t=r.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf","other"!==t.value&&t.enabled&&"issue"!==t.value&&"cancel_booking"!==t.value),e.xp6(1),e.Q6J("ngIf","issue"===t.value&&t.enabled&&"VOID"!==i.bookingDetail.status&&"ST"===i.bookingDetail.provider),e.xp6(1),e.Q6J("ngIf","issue"===t.value&&t.enabled&&"VOID"!==i.bookingDetail.status&&("BSP"!==i.bookingDetail.provider&&"ST"!==i.bookingDetail.provider||"BSP"===i.bookingDetail.provider&&i.bookingDetail.ticketingAllowed)),e.xp6(1),e.Q6J("ngIf","issue"===t.value&&t.enabled&&"VOID"!==i.bookingDetail.status&&"BSP"===i.bookingDetail.provider&&!i.bookingDetail.ticketingAllowed),e.xp6(1),e.Q6J("ngIf","issue"===t.value&&t.enabled&&"VOID"===i.bookingDetail.status),e.xp6(1),e.Q6J("ngIf","cancel_booking"===t.value&&t.enabled&&"BSP"===i.bookingDetail.provider&&"ISSUED"!==i.bookingDetail.status),e.xp6(1),e.Q6J("ngIf","cancel_booking"===t.value&&t.enabled&&"BSP"===i.bookingDetail.provider&&"ISSUED"===i.bookingDetail.status),e.xp6(1),e.Q6J("ngIf","other"===t.value)}}function s(n,r){if(1&n&&(e.TgZ(0,"div",33),e.YNc(1,h,9,8,"ng-container",34),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.bookingDetail.actions)}}function c(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",50),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.detailClick())}),e._uU(1,"Chi ti\u1ebft"),e.qZA()}}let y=(()=>{class n{constructor(t){this.actionChange=new e.vpe,this.isShowMore=!1,this.isBooked=!1,this.isMultiJourney=!1,this.retryBooking=new e.vpe,this.onDetailClick=new e.vpe,this.isOpen=!1,this.bottomCenter=[{originX:"start",originY:"bottom",overlayX:"center",overlayY:"top",offsetX:0,offsetY:0}],this.isShowBookingInfo=!1,t.registerIcons([p.xgX,p.llu,p.bHT,p.QkI,p.ILM,p.tLH,p.NYs,p.okA,p.B2I,p.s5C,p.qDv,p.rks,p.Ffn,p._tC])}ngOnInit(){this.isShowBookingInfo=["BOOKED","ISSUED"].includes(this.bookingDetail.status)}onShowMore(){this.isShowMore=!this.isShowMore}onActionChange(t){this.actionChange.emit(t)}outsideClick(){this.isOpen=!1}onRetryBooking(){const t=this.bookingDetail.journeys.map(i=>i.key);this.retryBooking.emit(t)}detailClick(){this.onDetailClick.emit()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.KNP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["booking-detail-mobile"]],inputs:{bookingDetail:"bookingDetail",isShowMore:"isShowMore",isBooked:"isBooked",isMultiJourney:"isMultiJourney"},outputs:{actionChange:"actionChange",retryBooking:"retryBooking",onDetailClick:"onDetailClick"},standalone:!0,features:[e.jDz],decls:25,vars:13,consts:[[1,"flex","flex-col","p-3","rounded-lg","bg-neutral-white"],[1,"flex","justify-between"],[1,"flex","flex-col","gap-y-1"],[1,"text-espressive-xs","text-neutral-gray-4"],["class","flex items-center gap-x-2",4,"ngIf"],[1,"flex","items-center","gap-x-2"],[4,"ngIf"],[1,"text-espressive-md","text-neutral-gray-6"],[1,"flex","items-center","justify-between","mt-3"],[1,"w-9","h-9","object-contain",3,"src"],[1,"text-heading-xs","text-neutral-gray-6"],["class","px-3 py-1 rounded bg-neutral-gray-1 text-heading-sm text-neutral-black",4,"ngIf"],["class","flex justify-between items-center mt-3 gap-x-4 gap-y-3 flex-wrap",4,"ngIf"],["class","mt-4 grid grid-cols-2 gap-2",4,"ngIf"],["class","w-full flex justify-center items-center px-[15px] py-[9px] cursor-pointer bg-secondary-3-1 rounded text-heading-xs text-secondary-3-4 mt-4",3,"click",4,"ngIf"],[1,"text-heading-md","text-neutral-gray-6"],["icon","copy","size","small",1,"text-neutral-gray-4",3,"click"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg",1,"text-secondary-7-4"],["d","M7.99968 1.33337C6.68114 1.33337 5.3922 1.72437 4.29588 2.45691C3.19955 3.18945 2.34506 4.23064 1.84048 5.44882C1.3359 6.66699 1.20387 8.00744 1.46111 9.30064C1.71834 10.5939 2.35328 11.7817 3.28563 12.7141C4.21798 13.6464 5.40587 14.2814 6.69908 14.5386C7.99228 14.7958 9.33273 14.6638 10.5509 14.1592C11.7691 13.6547 12.8103 12.8002 13.5428 11.7038C14.2754 10.6075 14.6663 9.31858 14.6663 8.00004C14.6612 6.23351 13.9572 4.54079 12.7081 3.29166C11.4589 2.04253 9.76621 1.3385 7.99968 1.33337ZM6.88857 11.0078L4.27357 8.39282C4.05664 8.17589 4.05664 7.82419 4.27357 7.60726C4.49049 7.39034 4.8422 7.39034 5.05912 7.60726L6.88857 9.43671L10.9402 5.38504C11.1572 5.16812 11.5089 5.16812 11.7258 5.38504C11.9427 5.60197 11.9427 5.95367 11.7258 6.1706L6.88857 11.0078Z","fill","currentColor"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg",1,"text-secondary-5-4"],["class","flex items-center justify-end gap-x-2 px-3 py-1 rounded bg-neutral-gray-1",4,"ngIf"],[1,"flex","items-center","justify-end","gap-x-2","px-3","py-1","rounded","bg-neutral-gray-1"],[1,"text-heading-sm","text-neutral-black"],["icon","arrow_right","size","small",4,"ngIf"],["icon","switch","size","small",4,"ngIf"],["icon","arrow_right","size","small"],["icon","switch","size","small"],[1,"px-3","py-1","rounded","bg-neutral-gray-1","text-heading-sm","text-neutral-black"],["class","flex justify-between items-center mt-3",4,"ngIf"],[1,"flex","justify-between","items-center","mt-3"],[1,"flex","flex-col","gap-y-1","items-center"],[1,"flex","justify-between","items-center","mt-3","gap-x-4","gap-y-3","flex-wrap"],["class","flex flex-col gap-y-1 items-center",4,"ngFor","ngForOf"],[1,"mt-4","grid","grid-cols-2","gap-2"],[4,"ngFor","ngForOf"],["cf-button","","size","medium","type","secondary","class","justify-center gap-x-2 button-md",3,"click",4,"ngIf"],["cf-button","","size","medium","type","secondary","tabIndex","-1","cdkOverlayOrigin","","class","justify-center gap-x-2 button-md",3,"disabled","disabledOneClick","manualHandle","placement","cfTooltip",4,"ngIf"],["cf-button","","size","medium","type","secondary",1,"justify-center","gap-x-2","button-md",3,"click"],["size","small",3,"icon"],["cf-button","","size","medium","type","secondary","tabIndex","-1","cdkOverlayOrigin","",1,"justify-center","gap-x-2","button-md",3,"disabled","disabledOneClick","manualHandle","placement","cfTooltip"],["trigger","","originOverlay","cdkOverlayOrigin"],["size","small",1,"opacity-50",3,"icon"],["tooltipTemplate",""],["cdkOverlayOrigin",""],["cf-button","","size","medium","type","secondary","class","w-full justify-center button-md",3,"click",4,"ngIf"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","overlayOutsideClick"],["cf-button","","size","medium","type","secondary",1,"w-full","justify-center","button-md",3,"click"],[1,"p-4","shadow-cf-lg","bg-neutral-white","min-w-[200px]","flex","flex-col","gap-y-2"],["cf-button","","size","medium","type","secondary","class","justify-center button-md",3,"click",4,"ngIf"],["cf-button","","size","medium","type","secondary",1,"justify-center","button-md",3,"click"],[1,"w-full","flex","justify-center","items-center","px-[15px]","py-[9px]","cursor-pointer","bg-secondary-3-1","rounded","text-heading-xs","text-secondary-3-4","mt-4",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4,"M\xe3 \u0111\u1eb7t ch\u1ed7"),e.qZA(),e.YNc(5,on,4,1,"div",4),e.qZA(),e.TgZ(6,"div",5),e.YNc(7,rn,3,0,"ng-container",6),e.YNc(8,an,3,0,"ng-container",6),e.TgZ(9,"div",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8)(12,"div",5),e._UZ(13,"img",9),e.TgZ(14,"div",2)(15,"div",10),e._uU(16),e.qZA(),e.TgZ(17,"div",3),e._uU(18),e.qZA()()(),e.YNc(19,cn,2,1,"div",6),e.YNc(20,dn,2,0,"div",11),e.qZA(),e.YNc(21,nt,2,1,"div",6),e.YNc(22,_n,2,1,"div",12),e.YNc(23,s,2,1,"div",13),e.YNc(24,c,2,0,"div",14),e.qZA()),2&t&&(e.xp6(5),e.Q6J("ngIf",i.bookingDetail.bookingCode),e.xp6(2),e.Q6J("ngIf","BOOKED"===i.bookingDetail.status),e.xp6(1),e.Q6J("ngIf","ISSUED"===i.bookingDetail.status),e.xp6(2),e.Oqu(i.bookingDetail.statusText),e.xp6(3),e.Q6J("src",i.bookingDetail.mobileAirlineLogo,e.LSH),e.xp6(3),e.Oqu(i.bookingDetail.flightNumber),e.xp6(2),e.Oqu(i.bookingDetail.airlineName),e.xp6(1),e.Q6J("ngIf",!i.isMultiJourney),e.xp6(1),e.Q6J("ngIf",i.isMultiJourney),e.xp6(1),e.Q6J("ngIf",!i.isMultiJourney),e.xp6(1),e.Q6J("ngIf",i.isMultiJourney),e.xp6(1),e.Q6J("ngIf",null==i.bookingDetail.actions?null:i.bookingDetail.actions.length),e.xp6(1),e.Q6J("ngIf",i.isShowBookingInfo))},dependencies:[m.ez,m.sg,m.O5,m.uU,p.AxE,p.Sm8,O.f,re.pI,re.xu,E.N8,E.Xq,ce.Lk],encapsulation:2}),n})();function k(n,r){1&n&&(e.TgZ(0,"div",33),e._UZ(1,"cf-icon",34),e.TgZ(2,"div"),e._uU(3,"B\u1ecb gi\xe1n \u0111o\u1ea1n"),e.qZA()())}function Y(n,r){1&n&&(e.TgZ(0,"div",35),e._UZ(1,"cf-icon",36),e.TgZ(2,"div"),e._uU(3,"Chuy\u1ebfn bay n\xe0y c\xf3 s\u1ef1 thay \u0111\u1ed5i l\u1ecbch tr\xecnh. Vui l\xf2ng ki\u1ec3m tra email, tin nh\u1eafn \u0111i\u1ec7n tho\u1ea1i/Zalo ho\u1eb7c li\xean h\u1ec7 Booker \u0111\u1ec3 c\u1eadp nh\u1eadt th\xf4ng tin m\u1edbi nh\u1ea5t"),e.qZA()())}function fe(n,r){1&n&&(e.TgZ(0,"div",37)(1,"div"),e._uU(2," H\u1ec7 th\u1ed1ng ph\xe1t hi\u1ec7n c\xf3 chuy\u1ebfn bay v\u1edbi t\xecnh tr\u1ea1ng ch\u1ed7 HL (trong danh s\xe1ch ch\u1edd), \u0111\u1ea1i l\xfd l\u01b0u \xfd ch\u1ee7 \u0111\u1ed9ng theo d\xf5i & x\u1eed l\xfd."),e.qZA()())}function ye(n,r){if(1&n&&(e.TgZ(0,"div",25)(1,"div",38),e._uU(2," Nh\xe0 cung c\u1ea5p "),e.qZA(),e.TgZ(3,"div",39),e._uU(4),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(4),e.hij(" ",("FLY_ONE"===t.flightInfos[0].supplier?"LCC":t.flightInfos[0].supplier)||"N/A"," ")}}function Ee(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",19)(2,"div"),e._uU(3," Th\xf4ng tin \u0111\u1eb7t ch\u1ed7 "),e.qZA(),e.YNc(4,k,4,0,"div",20),e.qZA(),e.YNc(5,Y,4,0,"div",21),e.YNc(6,fe,3,0,"div",22),e.TgZ(7,"div",23)(8,"div",24)(9,"div",25)(10,"div",26),e._uU(11," H\u1ec7 th\u1ed1ng \u0111\u1eb7t ch\u1ed7 "),e.qZA(),e.TgZ(12,"div",27)(13,"div",28)(14,"div",29),e._uU(15),e.qZA()()()(),e.TgZ(16,"div",25)(17,"div",30),e._uU(18," Th\u1eddi h\u1ea1n gi\u1eef ch\u1ed7 "),e.qZA(),e.TgZ(19,"div",31),e._uU(20),e.ALo(21,"date"),e.qZA()(),e.TgZ(22,"div",25)(23,"div",30),e._uU(24," Th\u1eddi h\u1ea1n gi\u1eef gi\xe1 "),e.qZA(),e.TgZ(25,"div",31),e._uU(26),e.ALo(27,"date"),e.qZA()(),e.YNc(28,ye,5,1,"div",32),e.TgZ(29,"div",25)(30,"div",26),e._uU(31," API "),e.qZA(),e.TgZ(32,"div",31),e._uU(33),e.qZA()(),e.TgZ(34,"div",25)(35,"div",26),e._uU(36," Ngu\u1ed3n \u0111\u1eb7t ch\u1ed7 "),e.qZA(),e._UZ(37,"div",31),e.qZA(),e.TgZ(38,"div",25)(39,"div",26),e._uU(40," M\xe3 \u0111\u01a1n h\xe0ng "),e.qZA(),e._UZ(41,"div",31),e.qZA()()(),e.BQk()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.flightInfos[0].journeyStatus.disrupted),e.xp6(1),e.Q6J("ngIf",t.flightInfos[0].journeyStatus.disrupted),e.xp6(1),e.Q6J("ngIf",t.hasWaitlistBooking),e.xp6(9),e.AsE(" ",t.flightInfos[0].airlineSystem," - ",t.flightInfos[0].airlineName," "),e.xp6(5),e.hij(" ",t.flightInfos[0].timeHoldBooking?e.xi3(21,9,t.flightInfos[0].timeHoldBooking,"HH:mm, dd/MM/yyyy"):"N/A"," "),e.xp6(6),e.hij(" ",t.flightInfos[0].timeHoldPricing?e.xi3(27,12,t.flightInfos[0].timeHoldPricing,"HH:mm, dd/MM/yyyy"):"N/A"," "),e.xp6(2),e.Q6J("ngIf",t.isShowSupplier&&t.flightInfos[0].supplier),e.xp6(5),e.hij(" ",("FLY_ONE"===t.flightInfos[0].provider?"LCC":t.flightInfos[0].provider)||"N/A"," ")}}function Ze(n,r){if(1&n&&(e.TgZ(0,"div",40),e.O4$(),e.TgZ(1,"svg",41),e._UZ(2,"path",42)(3,"path",43),e.qZA(),e._uU(4),e.qZA()),2&n){const t=e.oxw();e.xp6(4),e.hij(" ",t.flightInfos[0].statusDesc," ")}}function He(n,r){if(1&n&&(e.TgZ(0,"div",6),e._UZ(1,"cf-icon",7),e.TgZ(2,"span",8),e._uU(3),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.hij(" ",t.stopPoint," ")}}function Ve(n,r){if(1&n&&(e.TgZ(0,"span",63),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" (",t.startTerminal,")")}}function ze(n,r){if(1&n&&(e.TgZ(0,"span",63),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" (",t.endTerminal,")")}}function Ke(n,r){if(1&n&&(e.TgZ(0,"div",64)(1,"div",65),e._uU(2),e.qZA(),e.TgZ(3,"div",66),e._uU(4),e.qZA()()),2&n){const t=r.$implicit;e.xp6(2),e.hij("",t.name,":\xa0"),e.xp6(2),e.Oqu(t.value)}}function $e(n,r){if(1&n&&(e.ynx(0),e.YNc(1,He,4,1,"div",44),e.TgZ(2,"div",45)(3,"div",46)(4,"div",13),e._UZ(5,"img",47),e.TgZ(6,"div",48)(7,"div",49),e._uU(8),e.qZA(),e.TgZ(9,"div",50),e._uU(10),e.qZA()()(),e.TgZ(11,"div",51),e._uU(12),e.qZA()(),e.TgZ(13,"div",52)(14,"div",53)(15,"div",54)(16,"div",49),e._uU(17),e.qZA(),e.TgZ(18,"div",50),e._uU(19),e.qZA()(),e.TgZ(20,"div",54)(21,"div",49),e._uU(22),e.qZA(),e.TgZ(23,"div",50),e._uU(24),e.qZA()()(),e.TgZ(25,"div",55),e._UZ(26,"div",56)(27,"div",57)(28,"cf-icon",58),e.qZA(),e.TgZ(29,"div",53)(30,"div",48)(31,"div",49),e._uU(32),e.YNc(33,Ve,2,1,"span",59),e.qZA(),e.TgZ(34,"div",50),e._uU(35),e.qZA()(),e.TgZ(36,"div",48)(37,"div",49),e._uU(38),e.YNc(39,ze,2,1,"span",59),e.qZA(),e.TgZ(40,"div",50),e._uU(41),e.qZA()()()(),e._UZ(42,"div",60),e.TgZ(43,"div",61),e.YNc(44,Ke,5,2,"div",62),e.qZA()(),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",t.stopPoint),e.xp6(4),e.Q6J("src",t.mobileAirlineLogo,e.LSH),e.xp6(3),e.Oqu(t.flightNumber),e.xp6(2),e.Oqu(t.airlineName),e.xp6(2),e.Oqu(t.badge),e.xp6(5),e.Oqu(t.startTime),e.xp6(2),e.Oqu(t.startDate),e.xp6(3),e.Oqu(t.endTime),e.xp6(2),e.Oqu(t.endDate),e.xp6(8),e.AsE("",t.startPointName," - ",t.startPoint," "),e.xp6(1),e.Q6J("ngIf",t.startTerminal),e.xp6(2),e.Oqu(t.startAirport),e.xp6(3),e.AsE("",t.endPointName," - ",t.endPoint," "),e.xp6(1),e.Q6J("ngIf",t.endTerminal),e.xp6(2),e.Oqu(t.endAirport),e.xp6(3),e.Q6J("ngForOf",t.rules)}}function te(n,r){if(1&n&&(e.TgZ(0,"div",68)(1,"div",69),e._uU(2,"Chi\u1ebft kh\u1ea5u"),e.qZA(),e.TgZ(3,"div",73),e._uU(4),e.ALo(5,"replace"),e.ALo(6,"number"),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(4),e.hij(" ",e.Dn7(5,1,e.lcZ(6,5,t.discountAmount||0),",","."),"\u0111 ")}}function Ye(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"replace"),e.ALo(3,"number"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.Dn7(2,1,e.lcZ(3,5,t.totalDiscountFarePrice),",",".")," ")}}function it(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"replace"),e.ALo(3,"number"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.Dn7(2,1,e.lcZ(3,5,t.total),",","."),"\u0111 ")}}function Bn(n,r){if(1&n&&(e.TgZ(0,"div",67)(1,"div",68)(2,"div",69),e._uU(3,"H\xe0nh kh\xe1ch"),e.qZA(),e.TgZ(4,"div",70),e._uU(5),e.qZA()(),e.TgZ(6,"div",68)(7,"div",69),e._uU(8,"Lo\u1ea1i h\xe0nh kh\xe1ch"),e.qZA(),e.TgZ(9,"div",70),e._uU(10),e.qZA()(),e.TgZ(11,"div",68)(12,"div",69),e._uU(13,"Gi\xe1 v\xe9"),e.qZA(),e.TgZ(14,"div",70),e._uU(15),e.ALo(16,"replace"),e.ALo(17,"number"),e.qZA()(),e.TgZ(18,"div",68)(19,"div",69),e._uU(20,"Thu\u1ebf ph\xed"),e.qZA(),e.TgZ(21,"div",70),e._uU(22),e.ALo(23,"replace"),e.ALo(24,"number"),e.qZA()(),e.YNc(25,te,7,7,"div",71),e.TgZ(26,"div",68)(27,"div",69),e._uU(28,"T\u1ed5ng gi\xe1"),e.qZA(),e.TgZ(29,"div",70),e.YNc(30,Ye,4,7,"span",2),e.YNc(31,it,4,7,"ng-template",null,72,e.W1O),e.qZA()()()),2&n){const t=r.$implicit,i=e.MAs(32),o=e.oxw();e.xp6(5),e.Oqu(t.name),e.xp6(5),e.Oqu(t.type),e.xp6(5),e.hij("",e.Dn7(16,7,e.lcZ(17,11,t.farePrice),",","."),"\u0111 "),e.xp6(7),e.hij("",e.Dn7(23,13,e.lcZ(24,17,(t.tax||0)+(t.vat||0)),",","."),"\u0111"),e.xp6(3),e.Q6J("ngIf",o.hasDiscountFare),e.xp6(5),e.Q6J("ngIf",t.discountAmount&&o.hasDiscountFare)("ngIfElse",i)}}function Pn(n,r){if(1&n&&(e.TgZ(0,"div",70),e._uU(1),e.ALo(2,"replace"),e.ALo(3,"number"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",e.Dn7(2,1,e.lcZ(3,5,t.flightInfos[0].totalPrice||0),",",".")," \u0111")}}function Fn(n,r){if(1&n&&(e.TgZ(0,"div",70),e._uU(1),e.ALo(2,"replace"),e.ALo(3,"number"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",e.Dn7(2,1,e.lcZ(3,5,t.flightInfos[0].totalDiscountFareCharge||0),",",".")," \u0111")}}function Jn(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"replace"),e.ALo(3,"number"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.Dn7(2,1,e.lcZ(3,5,t.flightInfos[0].totalDiscountBasePrice),",",".")," \u0111")}}function Qn(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"replace"),e.ALo(3,"number"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.Dn7(2,1,e.lcZ(3,5,t.flightInfos[0].totalFare||0),",",".")," \u0111")}}function Sn(n,r){if(1&n&&(e.TgZ(0,"div",74)(1,"div",75)(2,"div",76)(3,"div",77)(4,"div",78),e._uU(5," Gi\xe1 v\xe9 m\xe1y bay "),e.qZA(),e.TgZ(6,"div",78),e._uU(7," D\u1ecbch v\u1ee5 c\u1ed9ng th\xeam "),e.qZA(),e.TgZ(8,"div",78),e._uU(9," Ph\xed d\u1ecbch v\u1ee5 "),e.qZA()()(),e.TgZ(10,"div",79)(11,"div",80),e.YNc(12,Jn,4,7,"span",81),e.YNc(13,Qn,4,7,"span",81),e.qZA(),e.TgZ(14,"div",80),e._uU(15),e.ALo(16,"replace"),e.ALo(17,"number"),e.qZA(),e.TgZ(18,"div",80),e._uU(19),e.ALo(20,"replace"),e.ALo(21,"number"),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(12),e.Q6J("ngIf",t.flightInfos[0].totalDiscountBasePrice),e.xp6(1),e.Q6J("ngIf",!t.flightInfos[0].totalDiscountBasePrice),e.xp6(2),e.hij(" ",e.Dn7(16,4,e.lcZ(17,8,(t.flightInfos[0].totalAddonService||0)+(t.flightInfos[0].totalOthersCharge||0)),",",".")," \u0111 "),e.xp6(4),e.hij(" ",e.Dn7(20,10,e.lcZ(21,14,t.flightInfos[0].totalServiceFee),",",".")," \u0111 ")}}function Yn(n,r){1&n&&(e.TgZ(0,"div",82),e._UZ(1,"cf-icon",83),e.TgZ(2,"div")(3,"div",84),e._uU(4,"L\u01b0u \xfd:"),e.qZA(),e.TgZ(5,"ul",85)(6,"li",86),e._uU(7," Gi\xe1 v\xe9 c\xf3 th\u1ec3 thay \u0111\u1ed5i t\xf9y theo th\u1eddi \u0111i\u1ec3m \u0111\u1eb7t v\xe9, t\u1ef7 gi\xe1 v\xe0 ch\xednh s\xe1ch c\u1ee7a h\xe3ng h\xe0ng kh\xf4ng. \u0110\u1ea1i l\xfd ch\xfa \xfd ki\u1ec3m tra l\u1ea1i gi\xe1 v\xe9 m\u1edbi nh\u1ea5t t\u1ea1i b\u01b0\u1edbc Xu\u1ea5t v\xe9"),e.qZA(),e.TgZ(8,"li",86),e._uU(9,"H\xe0nh tr\xecnh kh\u1edfi h\xe0nh ngo\xe0i Vi\u1ec7t Nam ch\u1ec9 \u0111\u01b0\u1ee3c b\u1ea3o \u0111\u1ea3m gi\xe1 t\u1ea1i th\u1eddi \u0111i\u1ec3m \u0111\u1eb7t v\xe9 "),e.qZA()()()())}function Mn(n,r){1&n&&(e.TgZ(0,"td",12),e._uU(1,"N/A"),e.qZA())}let On=(()=>{class n{constructor(t,i,o,a){this.data=i,this._permissionService=o,this._bottomSheetService=a,this.flightInfos=[],this.isShowSupplier=this._permissionService.isAgent1()||this._permissionService.isBooker(),this.zIndexPriceIncrease=!1,t.registerIcons([p.okA]),i&&(this.flightInfos=i.flightInfos,this.hasDiscountFare=i.hasDiscountFare,this.hasInternationalFlight=i.hasInternationalFlight,this.hasWaitlistBooking=i.hasWaitlistBooking)}togglePriceBottomSheet(t){this.showTotalPriceBts=this._bottomSheetService.open(t,{headerTitle:"Gi\xe1 v\xe9",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4"}),this.zIndexPriceIncrease=!0,this.showTotalPriceBts.afterDismissed().subscribe(i=>{this.zIndexPriceIncrease=!1}),this.showTotalPriceBts.containerInstance._rightButtonClick.subscribe(i=>{this.showTotalPriceBts.dismiss()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.KNP),e.Y36(U.Rr,8),e.Y36(ue.$A),e.Y36(U.a2))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-booking-detail-bottom-sheet"]],hostAttrs:[1,"w-full"],inputs:{flightInfos:"flightInfos"},standalone:!0,features:[e.jDz],decls:27,vars:7,consts:[[1,"flex","flex-col","items-stretch","flex-auto","overflow-hidden","h-full"],[1,"p-4","bg-neutral-gray-1","h-full","overflow-y-scroll","gap-3","flex","flex-col"],[4,"ngIf","ngIfElse"],["templateBookingFail",""],[4,"ngFor","ngForOf"],[1,"text-espressive-sm","text-neutral-black"],[1,"w-full","bg-[#F0EAF4]","rounded","flex","items-center","gap-x-2","py-1.5","px-3"],["icon","circle_information","size","small",1,"text-secondary-2-4"],[1,"text-express-md","text-neutral-gray-6"],["class","flex flex-col mt-3 rounded-lg bg-neutral-white p-3 gap-y-2",4,"ngFor","ngForOf"],[1,"flex","flex-col","mt-3","rounded-lg","bg-neutral-white","p-3","gap-y-2",3,"click"],[1,"flex","items-center","gap-x-5","justify-between"],[1,"text-body-sm","text-neutral-gray-4"],[1,"flex","items-center","gap-x-2"],["class","text-espressive-md text-neutral-gray-6",4,"ngIf"],["icon","chevron_up","size","small"],["totalPriceBottomSheet",""],["class","py-1.5 px-3 bg-functional-1-1 flex gap-x-2 mt-2 rounded",4,"ngIf"],["NATemplate",""],[1,"text-espressive-sm","text-neutral-black","flex","items-center","gap-x-2"],["class","bg-primary-1-1 text-primary-1-4 py-1.5 px-2 text-body-md flex items-center gap-x-2 rounded",4,"ngIf"],["class","py-3 px-4 bg-functional-1-1 text-body-md rounded flex items-center gap-x-2.5 mb-4",4,"ngIf"],["class","py-3 px-4 bg-red-1 text-primary-1-4 text-body-md rounded flex items-center gap-x-2.5 mb-3",4,"ngIf"],[1,"bg-neutral-white","rounded-lg","p-3","flex","flex-row","gap-2","items-center","justify-start","shrink-0","relative","w-full"],[1,"flex","flex-col","gap-2","items-center","justify-center","flex-1","relative"],[1,"flex","flex-row","gap-5","items-center","justify-start","self-stretch","shrink-0","relative"],[1,"text-neutral-gray-4","text-left","relative","w-[104px]","text-body-sm"],[1,"flex","flex-col","gap-0","items-start","justify-start","shrink-0","h-6","relative"],[1,"bg-secondary-5-1","rounded","pt-0","pr-2","pb-0","pl-2","flex","flex-row","gap-1","items-center","justify-start","shrink-0","h-6","relative"],[1,"text-secondary-5-3","text-center","relative","text-espressive-sm"],[1,"text-neutral-gray-4","text-left","relative","w-[104px]",2,"font","var(--body-sm, 400 12px/16px 'Roboto', sans-serif)"],[1,"text-neutral-gray-6-brandcolor","text-center","relative","text-espressive-md"],["class","flex flex-row gap-5 items-center justify-start self-stretch shrink-0 relative",4,"ngIf"],[1,"bg-primary-1-1","text-primary-1-4","py-1.5","px-2","text-body-md","flex","items-center","gap-x-2","rounded"],["icon","error","size","small",1,"text-primary-1-4"],[1,"py-3","px-4","bg-functional-1-1","text-body-md","rounded","flex","items-center","gap-x-2.5","mb-4"],["icon","info","size","medium",1,"text-functional-1-3"],[1,"py-3","px-4","bg-red-1","text-primary-1-4","text-body-md","rounded","flex","items-center","gap-x-2.5","mb-3"],[1,"text-left","relative","w-[104px]","text-body-sm"],[1,"text-center","relative","text-espressive-md"],[1,"w-full","flex","gap-x-2","items-center","mb-6","bg-secondary-6-1","rounded","text-body-md","px-4","py-3","text-neutral-gray-6","break-all"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["d","M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z","fill","#E03C31"],["d","M8.46979 8.46967C8.76269 8.17678 9.23756 8.17678 9.53045 8.46967L12.0001 10.9393L14.4697 8.46967C14.7626 8.17678 15.2374 8.17678 15.5303 8.46967C15.8232 8.76256 15.8232 9.23744 15.5303 9.53033L13.0607 11.9999L15.5304 14.4697C15.8233 14.7626 15.8233 15.2374 15.5304 15.5303C15.2376 15.8232 14.7627 15.8232 14.4698 15.5303L12.0001 13.0606L9.53033 15.5303C9.23744 15.8232 8.76256 15.8232 8.46967 15.5303C8.17678 15.2374 8.17678 14.7626 8.46967 14.4697L10.9394 11.9999L8.46979 9.53033C8.1769 9.23744 8.1769 8.76256 8.46979 8.46967Z","fill","white"],["class","w-full bg-[#F0EAF4] rounded flex items-center gap-x-2 py-1.5 px-3",4,"ngIf"],[1,"flex","flex-col","p-3","bg-neutral-white","rounded-lg"],[1,"flex","items-center","justify-between"],[1,"w-9","h-9","object-contain",3,"src"],[1,"flex","flex-col","gap-y-1"],[1,"text-heading-xs","text-neutral-gray-6"],[1,"text-espressive-xs","text-neutral-gray-4"],[1,"py-1","px-2","text-neutral-white","text-espressive-sm","bg-secondary-5-3","rounded"],[1,"flex","mt-2","gap-x-4"],[1,"flex","flex-col","gap-y-4"],[1,"flex","flex-col","items-center","gap-y-1"],[1,"flex","flex-col","items-center","justify-between","py-3"],[1,"w-1","h-1","rounded-full","bg-neutral-gray-3"],[1,"border-r","border-r-neutral-gray-3","h-full"],["icon","plane","size","small",1,"text-neutral-gray-3"],["class","text-espressive-md",4,"ngIf"],[1,"w-full","border-b","border-b-neutral-gray-3","my-4","border-dashed"],[1,"flex","flex-col","gap-y-2"],["class","flex flex-nowrap items-center",4,"ngFor","ngForOf"],[1,"text-espressive-md"],[1,"flex","flex-nowrap","items-center"],[1,"text-body-sm"],[1,"text-espressive-sm","text-neutral-black","font-semibold"],[1,"flex","flex-col","mt-3","rounded-lg","bg-neutral-white","p-3","gap-y-2"],[1,"flex","items-center","gap-x-5"],[1,"text-body-sm","text-neutral-gray-4","w-[104px]"],[1,"text-espressive-md","text-neutral-gray-6"],["class","flex items-center gap-x-5",4,"ngIf"],["noDiscountTempl",""],[1,"text-espressive-md","text-secondary-5-3"],[1,"flex","flex-col","gap-4","items-start","justify-start","w-full","relative","p-4","pb-12"],[1,"flex","flex-row","gap-6","items-center","justify-start","self-stretch","shrink-0","relative"],[1,"flex","flex-row","gap-3","items-center","justify-start","flex-1","relative"],[1,"flex","flex-col","gap-1","items-start","justify-start","shrink-0","relative"],[1,"text-neutral-gray-4","text-left","relative","text-body-sm"],[1,"flex","flex-col","gap-1","items-end","justify-center","shrink-0","relative"],[1,"text-neutral-gray-4","text-right","relative","text-body-sm"],[4,"ngIf"],[1,"py-1.5","px-3","bg-functional-1-1","flex","gap-x-2","mt-2","rounded"],["icon","info",1,"text-functional-1-3"],[1,"text-express-md"],[1,"ml-6"],[1,"text-body-md-short","list-disc"]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Ee,42,15,"ng-container",2),e.YNc(3,Ze,5,1,"ng-template",null,3,e.W1O),e.YNc(5,$e,45,18,"ng-container",4),e.TgZ(6,"div",5),e._uU(7,"Gi\xe1 v\xe9 g\u1ed1c"),e.qZA(),e.TgZ(8,"div",6),e._UZ(9,"cf-icon",7),e.TgZ(10,"span",8),e._uU(11," Ch\u01b0a bao g\u1ed3m ph\xed d\u1ecbch v\u1ee5 v\xe0 chi ph\xed d\u1ecbch v\u1ee5 c\u1ed9ng th\xeam "),e.qZA()(),e.YNc(12,Bn,33,19,"div",9),e.TgZ(13,"div",10),e.NdJ("click",function(){e.CHM(o);const l=e.MAs(23);return e.KtG(i.togglePriceBottomSheet(l))}),e.TgZ(14,"div",11)(15,"div",12),e._uU(16,"T\u1ed5ng gi\xe1 v\xe9"),e.qZA(),e.TgZ(17,"div",13)(18,"div"),e.YNc(19,Pn,4,7,"div",14),e.YNc(20,Fn,4,7,"div",14),e.qZA(),e._UZ(21,"cf-icon",15),e.qZA()(),e.YNc(22,Sn,22,16,"ng-template",null,16,e.W1O),e.qZA(),e.YNc(24,Yn,10,0,"div",17),e.qZA()(),e.YNc(25,Mn,2,0,"ng-template",null,18,e.W1O)}if(2&t){const o=e.MAs(4);e.xp6(2),e.Q6J("ngIf","ERROR"!==i.flightInfos[0].status)("ngIfElse",o),e.xp6(3),e.Q6J("ngForOf",i.flightInfos[0].segments),e.xp6(7),e.Q6J("ngForOf",i.flightInfos[0].passengers),e.xp6(7),e.Q6J("ngIf",!i.flightInfos[0].totalDiscountBasePrice),e.xp6(1),e.Q6J("ngIf",i.flightInfos[0].totalDiscountBasePrice),e.xp6(4),e.Q6J("ngIf",i.hasInternationalFlight)}},dependencies:[m.ez,m.sg,m.O5,m.JJ,m.uU,p.AxE,p.Sm8,H],encapsulation:2}),n})();var Rn=C(4688),ot=C(48373),jn=C(44890),G=C(15439),Ne=C(28490);function Gn(n,r){1&n&&(e.TgZ(0,"div",9),e._UZ(1,"ticket-item-skeleton")(2,"ticket-item-skeleton"),e.qZA())}function Ln(n,r){1&n&&(e.TgZ(0,"div")(1,"cf-label",30),e._uU(2," Th\xe0nh c\xf4ng "),e.qZA()()),2&n&&(e.xp6(1),e.Q6J("color","green"))}function Hn(n,r){1&n&&(e.TgZ(0,"div")(1,"cf-label",30),e._uU(2," Th\u1ea5t b\u1ea1i "),e.qZA()()),2&n&&(e.xp6(1),e.Q6J("color","red"))}function Vn(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"--"),e.qZA())}function zn(n,r){if(1&n&&(e.TgZ(0,"tr",24)(1,"td",25),e._uU(2),e.qZA(),e.TgZ(3,"td",25),e._uU(4),e.qZA(),e.TgZ(5,"td",25),e._uU(6),e.qZA(),e.TgZ(7,"td",25),e._uU(8),e.qZA(),e.TgZ(9,"td",26)(10,"div",27),e.YNc(11,Ln,3,1,"div",28),e.YNc(12,Hn,3,1,"div",28),e.YNc(13,Vn,2,0,"div",29),e.qZA()()()),2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.order),e.xp6(2),e.Oqu(t.journey),e.xp6(2),e.Oqu(t.startTime),e.xp6(2),e.Oqu(t.flightNumber),e.xp6(2),e.Q6J("ngSwitch",t.status),e.xp6(1),e.Q6J("ngSwitchCase","CANCEL"),e.xp6(1),e.Q6J("ngSwitchCase","SUCCESS")}}function Kn(n,r){1&n&&(e.TgZ(0,"div")(1,"cf-label",30),e._uU(2," Th\xe0nh c\xf4ng "),e.qZA()()),2&n&&(e.xp6(1),e.Q6J("color","green"))}function $n(n,r){1&n&&(e.TgZ(0,"div")(1,"cf-label",30),e._uU(2," Th\u1ea5t b\u1ea1i "),e.qZA()()),2&n&&(e.xp6(1),e.Q6J("color","red"))}function Xn(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"--"),e.qZA())}function Wn(n,r){if(1&n&&(e.TgZ(0,"div",31)(1,"div",32)(2,"div",33),e._uU(3,"H\xe0nh tr\xecnh"),e.qZA(),e.TgZ(4,"div",34),e._uU(5),e.qZA()(),e.TgZ(6,"div",32)(7,"div",33),e._uU(8,"L\u1ecbch tr\xecnh"),e.qZA(),e.TgZ(9,"div",34),e._uU(10),e.qZA()(),e.TgZ(11,"div",32)(12,"div",33),e._uU(13,"M\xe3 hi\u1ec7u"),e.qZA(),e.TgZ(14,"div",34),e._uU(15),e.qZA()(),e.TgZ(16,"div",32)(17,"div",33),e._uU(18,"Tr\u1ea1ng th\xe1i"),e.qZA(),e.TgZ(19,"div",34)(20,"div",27),e.YNc(21,Kn,3,1,"div",28),e.YNc(22,$n,3,1,"div",28),e.YNc(23,Xn,2,0,"div",29),e.qZA()()()()),2&n){const t=r.$implicit;e.xp6(5),e.Oqu(t.journey),e.xp6(5),e.Oqu(t.startTime),e.xp6(5),e.Oqu(t.flightNumber),e.xp6(5),e.Q6J("ngSwitch",t.status),e.xp6(1),e.Q6J("ngSwitchCase","CANCEL"),e.xp6(1),e.Q6J("ngSwitchCase","SUCCESS")}}function ei(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",35)(1,"div",36),e.O4$(),e.TgZ(2,"svg",37),e._UZ(3,"path",38)(4,"path",39),e.qZA(),e.kcU(),e.TgZ(5,"div",40)(6,"div",41),e._uU(7,"H\u1ee7y h\xe0nh tr\xecnh kh\xf4ng th\xe0nh c\xf4ng"),e.qZA(),e.TgZ(8,"div",42),e._uU(9," L\u1ed7i kh\xf4ng th\u1ec3 th\u1eed l\u1ea1i. Vui l\xf2ng li\xean h\u1ec7 booker \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 "),e.qZA()()(),e.TgZ(10,"cf-icon",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.isHiddenLabel=!0)}),e.qZA()()}}const ti=function(){return{num:25}},ni=function(){return{num:50}},ii=function(){return{num:75}},oi=function(){return{num:100}},ri=function(n,r,t,i){return[n,r,t,i]},ai=function(){return[]},si=function(){return["ERROR","RETRY"]};function ui(n,r){if(1&n&&(e.TgZ(0,"div",10)(1,"div",11)(2,"div",12),e._UZ(3,"cf-icon",13),e.TgZ(4,"div",14),e._uU(5),e.qZA()(),e.TgZ(6,"div",15),e._uU(7,"C\xe1c chuy\u1ebfn bay t\u01b0\u01a1ng \u1ee9ng v\u1edbi m\xe3 \u0111\u1eb7t ch\u1ed7 \u0111\u01b0\u1ee3c li\u1ec7t k\xea b\xean d\u01b0\u1edbi:"),e.qZA()(),e.TgZ(8,"cf-table",16,17)(10,"thead",18)(11,"th",19),e._uU(12,"STT"),e.qZA(),e.TgZ(13,"th",19),e._uU(14,"H\xe0nh tr\xecnh"),e.qZA(),e.TgZ(15,"th",19),e._uU(16,"L\u1ecbch tr\xecnh"),e.qZA(),e.TgZ(17,"th",19),e._uU(18,"M\xe3 hi\u1ec7u"),e.qZA(),e.TgZ(19,"th",19),e._uU(20,"Tr\u1ea1ng th\xe1i"),e.qZA()(),e.TgZ(21,"tbody"),e.YNc(22,zn,14,7,"ng-template",20),e.qZA()(),e.TgZ(23,"div",21),e.YNc(24,Wn,24,6,"div",22),e.qZA(),e.YNc(25,ei,11,0,"div",23),e.qZA()),2&n){const t=e.MAs(9),i=e.oxw();e.xp6(5),e.Oqu(i.bookingInfo.bookingCode),e.xp6(3),e.Q6J("fnSort",i.sortChange)("fnSearch",i.searchChange)("pageSizeList",e.l5B(12,ri,e.DdM(8,ti),e.DdM(9,ni),e.DdM(10,ii),e.DdM(11,oi)))("listData",i.listSegmentData||e.DdM(17,ai)),e.xp6(14),e.Q6J("ngForOf",t.partOfdata),e.xp6(2),e.Q6J("ngForOf",i.listSegmentData),e.xp6(1),e.Q6J("ngIf",!i.isHiddenLabel&&e.DdM(18,si).includes(i.status))}}function li(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onDeleteSegment())}),e._UZ(1,"cf-icon",48),e._uU(2," H\u1ee7y t\u1ea5t c\u1ea3 "),e.qZA()}}function ci(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onDeleteSegment())}),e._UZ(1,"cf-icon",49),e._uU(2," Th\u1eed l\u1ea1i "),e.qZA()}}function di(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",44)(1,"button",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onClose())}),e._uU(2," \u0110\xf3ng "),e.qZA(),e.YNc(3,li,3,0,"button",46),e.YNc(4,ci,3,0,"button",46),e.qZA()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngIf","DEFAULT"===t.status),e.xp6(1),e.Q6J("ngIf","RETRY"===t.status)}}function pi(n,r){1&n&&e._UZ(0,"cf-spinner")}let _i=(()=>{class n{constructor(t,i,o,a,l,d,x,b,g){this.ref=t,this.bottomSheetData=i,this.bottomSheetRef=o,this._manageBookingService=l,this._modal=d,this._locationDataService=x,this._mobileDetectService=b,this._bottomSheetService=g,this.listSegmentData=[],this.status="DEFAULT",this.isHiddenLabel=!1,this.isLoading=!1,this.isLoadingSegmentsPnr=!1,this.searchChange=(A,Z)=>Z,this.sortChange=(A,Z)=>Z,a.registerIcons([p.UNF,p.Vks,p.Hge,p.fXw]),t&&(this.bookingInfo=t.data.bookingInfo),i&&(this.bookingInfo=i.bookingInfo),this.getSegmentsPnr()}getSegmentsPnr(){this.isLoadingSegmentsPnr=!0,this._manageBookingService.getSegmentsPnr(this.bookingInfo.bookingCode).pipe((0,ge.x)(()=>this.isLoadingSegmentsPnr=!1)).subscribe({next:t=>{t.success&&t.data&&(this.listSegmentData=t.data.map((i,o)=>({order:o+1,segmentKey:i.segmentKey,journey:`${this._locationDataService.getCityNameByCode(i.departure.airport.code)} (${i.departure.airport.code}) - ${this._locationDataService.getCityNameByCode(i.arrival.airport.code)} (${i.arrival.airport.code})`,startTime:G(i.departure.localTime).format("HH:mm DD/MM/YYYY"),flightNumber:`${i.airline||""}${i.flyNumber}`,status:""})))}})}onDeleteSegment(){if(this._mobileDetectService.isMobile()){const t=this._bottomSheetService.open(z.V0,{rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",leftButtonIcon:"",headerTitle:"X\xe1c nh\u1eadn h\u1ee7y h\xe0nh tr\xecnh",data:{title:"X\xe1c nh\u1eadn h\u1ee7y h\xe0nh tr\xecnh",body:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n h\u1ee7y t\u1ea5t c\u1ea3 c\xe1c h\xe0nh tr\xecnh n\xe0y kh\xf4ng? H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c."}});t.containerInstance._rightButtonClick.subscribe(i=>t.dismiss()),t.afterDismissed().subscribe(i=>{i&&(this.bookingInfo.provider===D.QK.BSP||this.bookingInfo.provider===D.QK.BZT?this.processCancelBooking():this.processDeleteSegment())})}else this._modal.open(z.V0,{title:"X\xe1c nh\u1eadn h\u1ee7y h\xe0nh tr\xecnh",body:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n h\u1ee7y t\u1ea5t c\u1ea3 c\xe1c h\xe0nh tr\xecnh n\xe0y kh\xf4ng? H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c."}).afterClosed$.subscribe({next:i=>{i.data&&(this.bookingInfo.provider===D.QK.BSP||this.bookingInfo.provider===D.QK.BZT?this.processCancelBooking():this.processDeleteSegment())}})}processDeleteSegment(){const t={airline:this.bookingInfo.airline,bookingCode:this.bookingInfo.bookingCode,bookingAgent:"",segmentKeys:this.listSegmentData.map(i=>i.segmentKey)};this.isLoading=!0,this._manageBookingService.deleteSegments(t).pipe((0,ge.x)(()=>this.isLoading=!1)).subscribe({next:i=>{if(i.success&&i.data)if(this.listSegmentData.forEach(a=>{const l=i.data.find(d=>d.segmentKey===a.segmentKey);a.status=l?l.segmentState.toUpperCase():"CREATE"}),this.listSegmentData.every(a=>"CANCEL"===a.status))if(this.status="SUCCESS",this._mobileDetectService.isMobile()){const a=this._bottomSheetService.open(z.z5,{rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",leftButtonIcon:"",headerTitle:"",data:{title:"H\u1ee7y h\xe0nh tr\xecnh th\xe0nh c\xf4ng",content:`<div>T\u1ea5t c\u1ea3 c\xe1c h\xe0nh tr\xecnh h\u1ee3p l\u1ec7 t\u1eeb m\xe3 \u0111\u1eb7t ch\u1ed7 <strong>${t.bookingCode}</strong> \u0111\xe3 \u0111\u01b0\u1ee3c h\u1ee7y th\xe0nh c\xf4ng.</div>`,status:"success"}});a.containerInstance._rightButtonClick.subscribe(l=>a.dismiss()),a.afterDismissed().subscribe(l=>{this.bottomSheetRef.dismiss(!0)})}else this._modal.open(z.z5,{title:"H\u1ee7y h\xe0nh tr\xecnh th\xe0nh c\xf4ng",content:`<div>T\u1ea5t c\u1ea3 c\xe1c h\xe0nh tr\xecnh h\u1ee3p l\u1ec7 t\u1eeb m\xe3 \u0111\u1eb7t ch\u1ed7 <strong>${t.bookingCode}</strong> \u0111\xe3 \u0111\u01b0\u1ee3c h\u1ee7y th\xe0nh c\xf4ng.</div>`,status:"success"}).afterClosed$.subscribe({next:()=>{this.ref.close(!0)}});else this.status="ERROR";else this.status="ERROR"},error:()=>{this.status="RETRY"}})}processCancelBooking(){const t={airline:this.bookingInfo.airline,bookingCode:this.bookingInfo.bookingCode,provider:this.bookingInfo.provider};this.isLoading=!0,this._manageBookingService.cancelBooking(t).pipe((0,ge.x)(()=>this.isLoading=!1)).subscribe({next:i=>{if("OK"===i.status)if(this.status="SUCCESS",this._mobileDetectService.isMobile()){const o=this._bottomSheetService.open(z.z5,{rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",leftButtonIcon:"",headerTitle:"",data:{title:"H\u1ee7y h\xe0nh tr\xecnh th\xe0nh c\xf4ng",content:`<div>T\u1ea5t c\u1ea3 c\xe1c h\xe0nh tr\xecnh h\u1ee3p l\u1ec7 t\u1eeb m\xe3 \u0111\u1eb7t ch\u1ed7 <strong>${t.bookingCode}</strong> \u0111\xe3 \u0111\u01b0\u1ee3c h\u1ee7y th\xe0nh c\xf4ng.</div>`,status:"success"}});o.containerInstance._rightButtonClick.subscribe(a=>o.dismiss()),o.afterDismissed().subscribe(a=>{this.bottomSheetRef.dismiss(!0)})}else this._modal.open(z.z5,{title:"H\u1ee7y h\xe0nh tr\xecnh th\xe0nh c\xf4ng",content:`<div>T\u1ea5t c\u1ea3 c\xe1c h\xe0nh tr\xecnh h\u1ee3p l\u1ec7 t\u1eeb m\xe3 \u0111\u1eb7t ch\u1ed7 <strong>${t.bookingCode}</strong> \u0111\xe3 \u0111\u01b0\u1ee3c h\u1ee7y th\xe0nh c\xf4ng.</div>`,status:"success"}).afterClosed$.subscribe({next:()=>{this.ref.close(!0)}});else this.status="ERROR"},error:()=>{this.status="RETRY"}})}onClose(){this.ref&&this.ref.close(!1),this.bottomSheetData&&this.bottomSheetRef.dismiss(!1)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(S.gb,8),e.Y36(U.Rr,8),e.Y36(U.Zu,8),e.Y36(p.KNP),e.Y36(Se.fB),e.Y36(S.oE),e.Y36(Ne._),e.Y36(le.L),e.Y36(U.a2))},n.\u0275cmp=e.Xpm({type:n,selectors:[["delete-segment-detail"]],standalone:!0,features:[e.jDz],decls:10,vars:4,consts:[[1,"w-[772px]","min-h-[250px]","max-h-[600px]","overflow-hidden","flex","flex-col","rounded-lg","bg-neutral-white","md:w-screen","md:bg-neutral-gray-1","md:max-h-none","md:h-full"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-b-neutral-gray-1","md:hidden"],[1,"text-heading-sm","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"overflow-auto","md:flex","md:flex-col","md:justify-between","md:h-full"],["class","p-6",4,"ngIf"],["class","bg-white px-6 rounded md:p-0 md:bg-transparent md:overflow-y-auto",4,"ngIf"],["class","flex justify-end gap-x-4 py-8 px-6 md:p-4 md:bg-neutral-white",4,"ngIf"],[4,"ngIf"],[1,"p-6"],[1,"bg-white","px-6","rounded","md:p-0","md:bg-transparent","md:overflow-y-auto"],[1,"px-4","py-5","md:p-4","md:bg-neutral-white"],[1,"flex","items-center","gap-x-2"],["icon","coupon_slash","size","small"],[1,"text-heading-sm"],[1,"text-body-sm","pl-6"],["mode","template",1,"md:hidden",3,"fnSort","fnSearch","pageSizeList","listData"],["managerTable",""],["cf-thead",""],["cf-th",""],["ngFor","",3,"ngForOf"],[1,"hidden","p-4","md:flex","md:gap-y-4","md:flex-col"],["class","p-3 flex flex-col gap-y-2 bg-neutral-white rounded-lg",4,"ngFor","ngForOf"],["class","flex justify-between items-center bg-red-1 py-3 px-4 gap-x-4 mt-4 rounded md:hidden",4,"ngIf"],[1,"border-b","border-neutral-gray-1"],["cf-td","",1,"text-left","py-2","px-3","text-body-sm"],["cf-td","",1,"text-left","py-2","px-3"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["type","inverted",3,"color"],[1,"p-3","flex","flex-col","gap-y-2","bg-neutral-white","rounded-lg"],[1,"flex","items-center","justify-between"],[1,"text-body-sm","text-neutral-gray-4"],[1,"text-espressive-md-long","text-neutral-gray-6"],[1,"flex","justify-between","items-center","bg-red-1","py-3","px-4","gap-x-4","mt-4","rounded","md:hidden"],[1,"flex","flex-1","items-center","gap-x-2"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z","fill","#E03C31"],["d","M8.46979 8.46967C8.76269 8.17678 9.23756 8.17678 9.53045 8.46967L12.0001 10.9393L14.4697 8.46967C14.7626 8.17678 15.2374 8.17678 15.5303 8.46967C15.8232 8.76256 15.8232 9.23744 15.5303 9.53033L13.0607 11.9999L15.5304 14.4697C15.8233 14.7626 15.8233 15.2374 15.5304 15.5303C15.2376 15.8232 14.7627 15.8232 14.4698 15.5303L12.0001 13.0606L9.53033 15.5303C9.23744 15.8232 8.76256 15.8232 8.46967 15.5303C8.17678 15.2374 8.17678 14.7626 8.46967 14.4697L10.9394 11.9999L8.46979 9.53033C8.1769 9.23744 8.1769 8.76256 8.46979 8.46967Z","fill","white"],[1,"flex","flex-col"],[1,"text-espressive-md-short","text-neutral-black"],[1,"text-body-md-short","text-neutral-gray-6"],["icon","close","size","small",1,"cursor-pointer",3,"click"],[1,"flex","justify-end","gap-x-4","py-8","px-6","md:p-4","md:bg-neutral-white"],["cf-button","","size","medium","type","secondary",1,"md:w-full","md:justify-center",3,"click"],["cf-button","","size","medium","class","md:w-full md:justify-center",3,"click",4,"ngIf"],["cf-button","","size","medium",1,"md:w-full","md:justify-center",3,"click"],["icon","delete","size","small",1,"mr-2.5","text-white"],["icon","undo","size","small",1,"mr-2.5","text-white"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"H\u1ee7y h\xe0nh tr\xecnh"),e.qZA(),e.TgZ(4,"cf-icon",3),e.NdJ("click",function(){return i.onClose()}),e.qZA()(),e.TgZ(5,"div",4),e.YNc(6,Gn,3,0,"div",5),e.YNc(7,ui,26,19,"div",6),e.YNc(8,di,5,2,"div",7),e.qZA()(),e.YNc(9,pi,1,0,"cf-spinner",8)),2&t&&(e.xp6(6),e.Q6J("ngIf",i.isLoadingSegmentsPnr),e.xp6(1),e.Q6J("ngIf",!i.isLoadingSegmentsPnr),e.xp6(1),e.Q6J("ngIf",!i.isLoadingSegmentsPnr),e.xp6(1),e.Q6J("ngIf",i.isLoading))},dependencies:[m.ez,m.sg,m.O5,m.RF,m.n9,m.ED,p.AxE,p.Sm8,E.N8,E.Xq,ot.rC,ot.E_,ot.zs,ot.qS,Rn.b,z.OR,U.DW,jn.IA],encapsulation:2}),n})();var Xe=C(82908);function gi(n,r){1&n&&(e.TgZ(0,"div"),e.O4$(),e.TgZ(1,"svg",42),e._UZ(2,"path",43),e.qZA()())}function fi(n,r){1&n&&(e.TgZ(0,"div"),e.O4$(),e.TgZ(1,"svg",42),e._UZ(2,"path",44),e.qZA()())}function mi(n,r){1&n&&(e.TgZ(0,"div",45),e._uU(1,"\u0110\xe3 gi\u1eef ch\u1ed7"),e.qZA())}function hi(n,r){1&n&&(e.TgZ(0,"div",45),e._uU(1,"\u0110\xe3 xu\u1ea5t v\xe9"),e.qZA())}function xi(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",21),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onJourneySelect(a))}),e.TgZ(1,"div",22)(2,"div",23),e._UZ(3,"img",24),e.TgZ(4,"div",25),e._uU(5),e.qZA()(),e.TgZ(6,"div",26)(7,"div",27)(8,"div",28),e._UZ(9,"cf-icon",29),e.TgZ(10,"div"),e._uU(11),e.qZA(),e._UZ(12,"cf-icon",30),e.TgZ(13,"div"),e._uU(14),e.qZA()(),e.TgZ(15,"div",31),e._UZ(16,"cf-icon",32),e.TgZ(17,"div"),e._uU(18),e.ALo(19,"date"),e.qZA()(),e.TgZ(20,"div",31),e._UZ(21,"cf-icon",33),e.TgZ(22,"div"),e._uU(23),e.qZA()()()()(),e.TgZ(24,"div",34),e._UZ(25,"div",35),e.TgZ(26,"div",36)(27,"div",37),e._uU(28,"T\xecnh tr\u1ea1ng"),e.qZA(),e.TgZ(29,"div",38),e.YNc(30,gi,3,0,"div",39),e.YNc(31,fi,3,0,"div",39),e.YNc(32,mi,2,0,"div",40),e.YNc(33,hi,2,0,"div",40),e.qZA()(),e.TgZ(34,"cf-radio",41),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onJourneySelect(a))}),e.qZA()()()}if(2&n){const t=r.$implicit;e.xp6(3),e.Q6J("src",t.airlineLogoUrl,e.LSH),e.xp6(2),e.AsE("",t.airlineCode," - ",t.airlineName,""),e.xp6(6),e.AsE("",t.startPointName," (",t.startPointCode,")"),e.xp6(3),e.AsE("",t.endPointName," (",t.endPointCode,")"),e.xp6(4),e.Oqu(e.xi3(19,14,t.startDate,"HH:mm - dd/MM/yyyy")),e.xp6(5),e.Oqu(t.journeyType),e.xp6(7),e.Q6J("ngIf","ISSUED"===t.status),e.xp6(1),e.Q6J("ngIf","BOOKED"===t.status),e.xp6(1),e.Q6J("ngIf","BOOKED"===t.status),e.xp6(1),e.Q6J("ngIf","ISSUED"===t.status),e.xp6(1),e.Q6J("checked",t.isSelected)}}function vi(n,r){1&n&&(e.TgZ(0,"div"),e.O4$(),e.TgZ(1,"svg",42),e._UZ(2,"path",43),e.qZA()())}function Ci(n,r){1&n&&(e.TgZ(0,"div"),e.O4$(),e.TgZ(1,"svg",42),e._UZ(2,"path",44),e.qZA()())}function bi(n,r){1&n&&(e.TgZ(0,"div",54),e._uU(1,"\u0110\xe3 gi\u1eef ch\u1ed7"),e.qZA())}function yi(n,r){1&n&&(e.TgZ(0,"div",54),e._uU(1,"\u0110\xe3 xu\u1ea5t v\xe9"),e.qZA())}function Ei(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",46),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onJourneySelect(a))}),e.TgZ(1,"div",47),e._UZ(2,"img",48),e.TgZ(3,"div",38),e.YNc(4,vi,3,0,"div",39),e.YNc(5,Ci,3,0,"div",39),e.YNc(6,bi,2,0,"div",49),e.YNc(7,yi,2,0,"div",49),e.qZA()(),e._UZ(8,"div",50),e.TgZ(9,"div",51)(10,"div",52)(11,"div",27)(12,"div",53),e._UZ(13,"cf-icon",29),e.TgZ(14,"div"),e._uU(15),e.qZA(),e._UZ(16,"cf-icon",30),e.TgZ(17,"div"),e._uU(18),e.qZA()(),e.TgZ(19,"div",31),e._UZ(20,"cf-icon",32),e.TgZ(21,"div"),e._uU(22),e.ALo(23,"date"),e.qZA()(),e.TgZ(24,"div",31),e._UZ(25,"cf-icon",33),e.TgZ(26,"div"),e._uU(27),e.qZA()()()(),e.TgZ(28,"div")(29,"cf-radio",41),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onJourneySelect(a))}),e.qZA()()()()}if(2&n){const t=r.$implicit;e.xp6(2),e.Q6J("src",t.airlineLogoUrl,e.LSH),e.xp6(2),e.Q6J("ngIf","ISSUED"===t.status),e.xp6(1),e.Q6J("ngIf","BOOKED"===t.status),e.xp6(1),e.Q6J("ngIf","BOOKED"===t.status),e.xp6(1),e.Q6J("ngIf","ISSUED"===t.status),e.xp6(8),e.Oqu(t.startPointName),e.xp6(3),e.Oqu(t.endPointName),e.xp6(4),e.Oqu(e.xi3(23,10,t.startDate,"HH:mm - dd/MM/yyyy")),e.xp6(5),e.Oqu(t.journeyType),e.xp6(2),e.Q6J("checked",t.isSelected)}}function Zi(n,r){1&n&&e._UZ(0,"cf-icon",55)}function Ti(n,r){1&n&&e._UZ(0,"cf-icon",56)}let Di=(()=>{class n{constructor(t,i,o,a,l,d,x,b,g,A){this.ref=t,this.bottomSheetData=i,this.bottomSheetRef=o,this._modal=l,this._locationDataService=d,this._mobileDetectService=x,this._bottomSheetService=b,this._bookingDetailService=g,this._detectMobileService=A,this.journeys=[],this.isLoadingNextButton=!1,a.registerIcons([p.UNF,p.Hge,p.fXw,p.s5C,p.NNX,p.toh,p.$S]),t&&(this.journeys=t.data.journeys),i&&(this.journeys=i.journeys)}ngOnInit(){}onClose(){this.ref&&this.ref.close(!1),this.bottomSheetData&&this.bottomSheetRef.dismiss(!1)}onDeleteJourney(){let t=this.journeys.find(i=>i.isSelected);t&&this.onDeleteJourneyConfirm(t)}onDeleteJourneyConfirm(t){this.isLoadingNextButton=!0,this._bookingDetailService.quotationCancelJourney({airline:t.airlineCode,bookingCode:t.pnr,cancelJourneyKey:t.journeyKey}).subscribe({next:i=>{this.isLoadingNextButton=!1,this.ref&&this.ref.close({journey:t,quotation:i}),this.bottomSheetData&&this.bottomSheetRef.dismiss({journey:t,quotation:i})},error:i=>{this.isLoadingNextButton=!1}})}onJourneySelect(t){this.journeys.forEach(i=>i.isSelected=!1),t.isSelected=!0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(S.gb,8),e.Y36(U.Rr,8),e.Y36(U.Zu,8),e.Y36(p.KNP),e.Y36(S.oE),e.Y36(Ne._),e.Y36(le.L),e.Y36(U.a2),e.Y36(Xe.P3),e.Y36(le.L))},n.\u0275cmp=e.Xpm({type:n,selectors:[["delete-each-journey-detail"]],standalone:!0,features:[e.jDz],decls:25,vars:5,consts:[[1,"relative","w-[772px]","min-h-[250px]","max-h-[600px]","overflow-hidden","flex","flex-col","rounded-lg","bg-neutral-white","md:w-screen","md:bg-neutral-gray-1","md:max-h-none","md:h-full"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-b-neutral-gray-1","md:hidden"],[1,"text-heading-sm","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"overflow-auto","md:flex","md:flex-col","md:justify-between","md:h-full"],[1,"bg-white","rounded","md:p-0","md:bg-transparent","md:overflow-y-auto"],[1,"px-6","py-4","space-y-6","md:hidden"],["class","flex p-4 justify-between border border-neutral-gray-2 rounded cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"!mt-[100px]"],[1,"hidden","p-4","md:flex","md:gap-y-4","md:flex-col"],["class","flex flex-col py-4 px-3 bg-white border rounded border-neutral-gray-1",3,"click",4,"ngFor","ngForOf"],[1,"!mt-[70px]"],[1,"flex","justify-between","gap-x-4","py-8","px-6","absolute","bottom-0","w-full","md:p-4","bg-neutral-white"],["cf-button","","size","medium","type","border",1,"md:justify-center",3,"click"],["icon","close","size","small",1,"mr-2.5","md:hidden"],["icon","delete","size","small",1,"mr-2.5","hidden","md:block"],[1,"md:hidden"],[1,"hidden","md:block"],["cf-button","","size","medium",1,"md:justify-center",3,"disabled","click"],["icon","chevron_right","size","small","class","ml-2.5 text-white",4,"ngIf"],["class","text-neutral-white ml-2.5 animate-spin","icon","refresh","size","small",4,"ngIf"],[1,"flex","p-4","justify-between","border","border-neutral-gray-2","rounded","cursor-pointer",3,"click"],[1,"flex","space-x-12"],[1,"flex","flex-col","shrink-0"],[1,"w-20",3,"src"],[1,"text-express-sm"],[1,"flex","space-x-4"],[1,"flex","flex-col","space-y-2"],[1,"flex","items-center","space-x-2","text-express-xl","whitespace-nowrap"],["icon","location"],["icon","arrow_right"],[1,"flex","items-center","space-x-2","text-neutral-gray-4","text-body-md-short"],["icon","calendar"],["icon","plane"],[1,"flex"],[1,"border-l","border-dashed","border-neutral-gray-1","mr-4"],[1,"flex","flex-col","space-y-2","mr-8"],[1,"text-body-md"],[1,"flex","space-x-2","items-center"],[4,"ngIf"],["class","text-body-md-short whitespace-nowrap font-medium",4,"ngIf"],["size","medium",3,"checked","click"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.99998 1.33333C6.68144 1.33333 5.39251 1.72432 4.29618 2.45686C3.19985 3.18941 2.34537 4.2306 1.84079 5.44877C1.3362 6.66695 1.20418 8.00739 1.46141 9.3006C1.71865 10.5938 2.35359 11.7817 3.28594 12.714C4.21829 13.6464 5.40617 14.2813 6.69938 14.5386C7.99259 14.7958 9.33303 14.6638 10.5512 14.1592C11.7694 13.6546 12.8106 12.8001 13.5431 11.7038C14.2757 10.6075 14.6666 9.31854 14.6666 8C14.6615 6.23346 13.9575 4.54075 12.7084 3.29162C11.4592 2.04248 9.76651 1.33846 7.99998 1.33333ZM6.88887 11.0078L4.27387 8.39277C4.05695 8.17585 4.05695 7.82414 4.27387 7.60722C4.4908 7.39029 4.8425 7.39029 5.05943 7.60722L6.88887 9.43666L10.9405 5.38499C11.1575 5.16807 11.5092 5.16807 11.7261 5.385C11.943 5.60192 11.943 5.95363 11.7261 6.17055L6.88887 11.0078Z","fill","#07A35D"],["d","M7.99998 1.33333C6.68144 1.33333 5.39251 1.72432 4.29618 2.45686C3.19985 3.18941 2.34537 4.2306 1.84079 5.44877C1.3362 6.66695 1.20418 8.00739 1.46141 9.3006C1.71865 10.5938 2.35359 11.7817 3.28594 12.714C4.21829 13.6464 5.40617 14.2813 6.69938 14.5386C7.99259 14.7958 9.33303 14.6638 10.5512 14.1592C11.7694 13.6546 12.8106 12.8001 13.5431 11.7038C14.2757 10.6075 14.6666 9.31854 14.6666 8C14.6615 6.23346 13.9575 4.54075 12.7084 3.29162C11.4592 2.04248 9.76651 1.33846 7.99998 1.33333ZM6.88887 11.0078L4.27387 8.39277C4.05695 8.17585 4.05695 7.82414 4.27387 7.60722C4.4908 7.39029 4.8425 7.39029 5.05943 7.60722L6.88887 9.43666L10.9405 5.38499C11.1575 5.16807 11.5092 5.16807 11.7261 5.385C11.943 5.60192 11.943 5.95363 11.7261 6.17055L6.88887 11.0078Z","fill","#e29e1a"],[1,"text-body-md-short","whitespace-nowrap","font-medium"],[1,"flex","flex-col","py-4","px-3","bg-white","border","rounded","border-neutral-gray-1",3,"click"],[1,"flex","items-center","justify-between"],[1,"w-16",3,"src"],["class","text-body-md-short font-medium",4,"ngIf"],[1,"h-1","w-full","my-2","border-t","border-t-neutral-gray-1"],[1,"flex","justify-between"],[1,"flex","flex-col"],[1,"flex","items-center","space-x-2","text-express-xl"],[1,"text-body-md-short","font-medium"],["icon","chevron_right","size","small",1,"ml-2.5","text-white"],["icon","refresh","size","small",1,"text-neutral-white","ml-2.5","animate-spin"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Ch\u1ecdn h\xe0nh tr\xecnh c\u1ea7n h\u1ee7y"),e.qZA(),e.TgZ(4,"cf-icon",3),e.NdJ("click",function(){return i.onClose()}),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5)(7,"div",6),e.YNc(8,xi,35,17,"div",7),e._UZ(9,"div",8),e.qZA(),e.TgZ(10,"div",9),e.YNc(11,Ei,30,13,"div",10),e._UZ(12,"div",11),e.qZA()(),e.TgZ(13,"div",12)(14,"button",13),e.NdJ("click",function(){return i.onClose()}),e._UZ(15,"cf-icon",14)(16,"cf-icon",15),e.TgZ(17,"span",16),e._uU(18," H\u1ee7y d\u1ecbch v\u1ee5 "),e.qZA(),e.TgZ(19,"span",17),e._uU(20," H\u1ee7y "),e.qZA()(),e.TgZ(21,"button",18),e.NdJ("click",function(){return i.onDeleteJourney()}),e._uU(22," Ti\u1ebfp t\u1ee5c "),e.YNc(23,Zi,1,0,"cf-icon",19),e.YNc(24,Ti,1,0,"cf-icon",20),e.qZA()()()()),2&t&&(e.xp6(8),e.Q6J("ngForOf",i.journeys),e.xp6(3),e.Q6J("ngForOf",i.journeys),e.xp6(10),e.Q6J("disabled",i.isLoadingNextButton),e.xp6(2),e.Q6J("ngIf",!i.isLoadingNextButton),e.xp6(1),e.Q6J("ngIf",i.isLoadingNextButton))},dependencies:[m.ez,m.sg,m.O5,m.uU,p.AxE,p.Sm8,U.DW,E.N8,E.Xq,pe.o],encapsulation:2}),n})();function Ai(n,r){if(1&n&&(e.TgZ(0,"div",29)(1,"div",30),e.O4$(),e.TgZ(2,"svg",31),e._UZ(3,"path",32),e.qZA(),e.kcU(),e.TgZ(4,"div",10),e._uU(5,"Chi ti\u1ebft ph\xed h\u1ee7y"),e.qZA()(),e.TgZ(6,"div",33)(7,"div",34)(8,"div",30)(9,"div",35),e._uU(10,"Ph\xed h\u1ee7y"),e.qZA(),e._UZ(11,"cf-icon",36),e.qZA(),e.TgZ(12,"div",35),e._uU(13),e.ALo(14,"replace"),e.ALo(15,"number"),e.qZA()(),e.TgZ(16,"div",37)(17,"div",30)(18,"div",38),e._uU(19,"T\u1ed5ng ph\xed"),e.qZA()(),e.TgZ(20,"div",39),e._uU(21),e.ALo(22,"replace"),e.ALo(23,"number"),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(11),e.Q6J("cfTooltip","S\u1ed1 ti\u1ec1n ph\u1ea3i tr\u1ea3 \u0111\u1ec3 th\u1ef1c hi\u1ec7n h\xe0nh \u0111\u1ed9ng h\u1ee7y"),e.xp6(2),e.hij("",e.Dn7(14,3,e.lcZ(15,7,t.journeyConfirm.cancelFee),",","."),"\u0111"),e.xp6(8),e.hij("",e.Dn7(22,9,e.lcZ(23,13,t.journeyConfirm.cancelFee),",","."),"\u0111")}}function ki(n,r){if(1&n&&(e.TgZ(0,"div",29)(1,"div",30),e.O4$(),e.TgZ(2,"svg",31),e._UZ(3,"path",32),e.qZA(),e.kcU(),e.TgZ(4,"div",10),e._uU(5,"Chi ti\u1ebft ph\xed h\u1ee7y"),e.qZA()(),e.TgZ(6,"div",33)(7,"div",34)(8,"div",30)(9,"div",35),e._uU(10,"\u0110\xe3 thanh to\xe1n"),e.qZA(),e._UZ(11,"cf-icon",36),e.qZA(),e.TgZ(12,"div",40),e._uU(13),e.ALo(14,"replace"),e.ALo(15,"number"),e.qZA()(),e.TgZ(16,"div",34)(17,"div",30)(18,"div",35),e._uU(19,"Ph\xed h\u1ee7y"),e.qZA(),e._UZ(20,"cf-icon",36),e.qZA(),e.TgZ(21,"div",35),e._uU(22),e.ALo(23,"replace"),e.ALo(24,"number"),e.qZA()(),e.TgZ(25,"div",34)(26,"div",30)(27,"div",35),e._uU(28,"Kh\xf4ng ho\xe0n tr\u1ea3"),e.qZA(),e._UZ(29,"cf-icon",36),e.qZA(),e.TgZ(30,"div",35),e._uU(31),e.ALo(32,"replace"),e.ALo(33,"number"),e.qZA()(),e.TgZ(34,"div",37)(35,"div",30)(36,"div",38),e._uU(37,"Ho\xe0n b\u1ea3o l\u01b0u \u0111\u1ecbnh danh"),e.qZA()(),e.TgZ(38,"div",41),e._uU(39),e.ALo(40,"replace"),e.ALo(41,"number"),e.qZA()()(),e.TgZ(42,"div",42),e._UZ(43,"cf-icon",43),e.TgZ(44,"div",35),e._uU(45,"L\u01b0u \xfd: B\u1ea1n \u0111ang hu\u1ef7 h\xe0nh tr\xecnh tr\xean v\xe9 VietJet \u0111\xe3 xu\u1ea5t, s\u1ed1 ti\u1ec1n \u0111\u01b0\u1ee3c ho\xe0n l\u1ea1i (n\u1ebfu c\xf3) s\u1ebd d\u01b0\u1edbi d\u1ea1ng b\u1ea3o l\u01b0u \u0111\u1ecbnh danh h\xe0nh kh\xe1ch."),e.qZA()()()),2&n){const t=e.oxw();e.xp6(11),e.Q6J("cfTooltip","S\u1ed1 ti\u1ec1n \u0111\xe3 thanh to\xe1n, \u0111\u01b0\u1ee3c ghi nh\u1eadn trong c\xf4ng n\u1ee3"),e.xp6(2),e.hij("(",e.Dn7(14,7,e.lcZ(15,11,t.journeyConfirm.paid),",","."),"\u0111)"),e.xp6(7),e.Q6J("cfTooltip","S\u1ed1 ti\u1ec1n ph\u1ea3i tr\u1ea3 \u0111\u1ec3 th\u1ef1c hi\u1ec7n h\xe0nh \u0111\u1ed9ng h\u1ee7y"),e.xp6(2),e.hij("",e.Dn7(23,13,e.lcZ(24,17,t.journeyConfirm.cancelFee),",","."),"\u0111"),e.xp6(7),e.Q6J("cfTooltip","S\u1ed1 ti\u1ec1n kh\xf4ng \u0111\u01b0\u1ee3c ho\xe0n tr\u1ea3 theo quy \u0111\u1ecbnh c\u1ee7a VietJet Airlines"),e.xp6(2),e.hij("",e.Dn7(32,19,e.lcZ(33,23,t.journeyConfirm.noGiveBack),",","."),"\u0111"),e.xp6(8),e.hij("(",e.Dn7(40,25,e.lcZ(41,29,t.journeyConfirm.reservePrice),",","."),"\u0111)")}}function Ii(n,r){if(1&n&&(e.TgZ(0,"div",44)(1,"div",30),e.O4$(),e.TgZ(2,"svg",31),e._UZ(3,"path",32),e.qZA(),e.kcU(),e.TgZ(4,"div",10),e._uU(5,"Chi ti\u1ebft ph\xed h\u1ee7y"),e.qZA()(),e.TgZ(6,"div",33)(7,"div",34)(8,"div",30)(9,"div",35),e._uU(10,"Ph\xed h\u1ee7y"),e.qZA(),e._UZ(11,"cf-icon",36),e.qZA(),e.TgZ(12,"div",35),e._uU(13),e.ALo(14,"replace"),e.ALo(15,"number"),e.qZA()(),e.TgZ(16,"div",37)(17,"div",30)(18,"div",38),e._uU(19,"T\u1ed5ng ph\xed"),e.qZA()(),e.TgZ(20,"div",39),e._uU(21),e.ALo(22,"replace"),e.ALo(23,"number"),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(11),e.Q6J("cfTooltip","S\u1ed1 ti\u1ec1n ph\u1ea3i tr\u1ea3 \u0111\u1ec3 th\u1ef1c hi\u1ec7n h\xe0nh \u0111\u1ed9ng h\u1ee7y"),e.xp6(2),e.hij("",e.Dn7(14,3,e.lcZ(15,7,t.journeyConfirm.cancelFee),",","."),"\u0111"),e.xp6(8),e.hij("",e.Dn7(22,9,e.lcZ(23,13,t.journeyConfirm.cancelFee),",","."),"\u0111")}}function Ni(n,r){if(1&n&&(e.TgZ(0,"div",44)(1,"div",30),e.O4$(),e.TgZ(2,"svg",31),e._UZ(3,"path",32),e.qZA(),e.kcU(),e.TgZ(4,"div",10),e._uU(5,"Chi ti\u1ebft ph\xed h\u1ee7y"),e.qZA()(),e.TgZ(6,"div",33)(7,"div",34)(8,"div",30)(9,"div",35),e._uU(10,"\u0110\xe3 thanh to\xe1n"),e.qZA(),e._UZ(11,"cf-icon",36),e.qZA(),e.TgZ(12,"div",40),e._uU(13),e.ALo(14,"replace"),e.ALo(15,"number"),e.qZA()(),e.TgZ(16,"div",34)(17,"div",30)(18,"div",35),e._uU(19,"Ph\xed h\u1ee7y"),e.qZA(),e._UZ(20,"cf-icon",36),e.qZA(),e.TgZ(21,"div",35),e._uU(22),e.ALo(23,"replace"),e.ALo(24,"number"),e.qZA()(),e.TgZ(25,"div",34)(26,"div",30)(27,"div",35),e._uU(28,"Kh\xf4ng ho\xe0n tr\u1ea3"),e.qZA(),e._UZ(29,"cf-icon",36),e.qZA(),e.TgZ(30,"div",35),e._uU(31),e.ALo(32,"replace"),e.ALo(33,"number"),e.qZA()(),e.TgZ(34,"div",37)(35,"div",30)(36,"div",38),e._uU(37,"Ho\xe0n b\u1ea3o l\u01b0u \u0111\u1ecbnh danh"),e.qZA()(),e.TgZ(38,"div",41),e._uU(39),e.ALo(40,"replace"),e.ALo(41,"number"),e.qZA()()(),e.TgZ(42,"div",45),e._UZ(43,"cf-icon",43),e.TgZ(44,"div",35),e._uU(45,"L\u01b0u \xfd: B\u1ea1n \u0111ang hu\u1ef7 h\xe0nh tr\xecnh tr\xean v\xe9 VietJet \u0111\xe3 xu\u1ea5t, s\u1ed1 ti\u1ec1n \u0111\u01b0\u1ee3c ho\xe0n l\u1ea1i (n\u1ebfu c\xf3) s\u1ebd d\u01b0\u1edbi d\u1ea1ng b\u1ea3o l\u01b0u \u0111\u1ecbnh danh h\xe0nh kh\xe1ch."),e.qZA()()()),2&n){const t=e.oxw();e.xp6(11),e.Q6J("cfTooltip","S\u1ed1 ti\u1ec1n \u0111\xe3 thanh to\xe1n, \u0111\u01b0\u1ee3c ghi nh\u1eadn trong c\xf4ng n\u1ee3"),e.xp6(2),e.hij("(",e.Dn7(14,7,e.lcZ(15,11,t.journeyConfirm.paid),",","."),"\u0111)"),e.xp6(7),e.Q6J("cfTooltip","S\u1ed1 ti\u1ec1n ph\u1ea3i tr\u1ea3 \u0111\u1ec3 th\u1ef1c hi\u1ec7n h\xe0nh \u0111\u1ed9ng h\u1ee7y"),e.xp6(2),e.hij("",e.Dn7(23,13,e.lcZ(24,17,t.journeyConfirm.cancelFee),",","."),"\u0111"),e.xp6(7),e.Q6J("cfTooltip","S\u1ed1 ti\u1ec1n kh\xf4ng \u0111\u01b0\u1ee3c ho\xe0n tr\u1ea3 theo quy \u0111\u1ecbnh c\u1ee7a VietJet Airlines"),e.xp6(2),e.hij("",e.Dn7(32,19,e.lcZ(33,23,t.journeyConfirm.noGiveBack),",","."),"\u0111"),e.xp6(8),e.hij("(",e.Dn7(40,25,e.lcZ(41,29,t.journeyConfirm.reservePrice),",","."),"\u0111)")}}function Ui(n,r){1&n&&e._UZ(0,"cf-icon",46)}function qi(n,r){1&n&&e._UZ(0,"cf-icon",47)}let wi=(()=>{class n{constructor(t,i,o,a,l,d,x,b,g){this.ref=t,this.bottomSheetData=i,this.bottomSheetRef=o,this._modal=l,this._locationDataService=d,this._mobileDetectService=x,this._bottomSheetService=b,this._bookingDetailService=g,this.isLoadingNextButton=!1,a.registerIcons([p.UNF,p.Hge,p.fXw,p.s5C,p.NNX,p.toh,p.okA,p.o1t,p.B2I,p.rks]),t&&(this.journeyConfirm=t.data.journeyConfirm),i&&(this.journeyConfirm=i.journeyConfirm)}ngOnInit(){}onClose(){this.ref&&this.ref.close({type:"CANCLE"}),this.bottomSheetData&&this.bottomSheetRef.dismiss({type:"CANCLE"})}onConfirmDeleteJourney(){let t=this.journeyConfirm;this.isLoadingNextButton=!0,this._bookingDetailService.cancelJourney({airline:t.airline,cancelJourneyKey:t.journeyKey,bookingCode:t.pnr,confirmCharge:t.totalCharge}).subscribe({next:i=>{this.isLoadingNextButton=!1,"FAILED"==i.status?(this.ref&&this.ref.close({type:"FAILED",data:i.objectError.errorCode}),this.bottomSheetData&&this.bottomSheetRef.dismiss({type:"FAILED",data:i.objectError.errorCode})):(this.ref&&this.ref.close({type:"OK",data:this.journeyConfirm}),this.bottomSheetData&&this.bottomSheetRef.dismiss({type:"OK",data:this.journeyConfirm}))},error:i=>{this.isLoadingNextButton=!1}})}back(){this.ref&&this.ref.close({type:"BACK"}),this.bottomSheetData&&this.bottomSheetRef.dismiss({type:"BACK"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(S.gb,8),e.Y36(U.Rr,8),e.Y36(U.Zu,8),e.Y36(p.KNP),e.Y36(S.oE),e.Y36(Ne._),e.Y36(le.L),e.Y36(U.a2),e.Y36(Xe.P3))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-delete-each-journey-confirm"]],standalone:!0,features:[e.jDz],decls:50,vars:21,consts:[[1,"w-[772px]","min-h-[250px]","max-h-[600px]","overflow-hidden","flex","flex-col","rounded-lg","bg-neutral-white","md:w-screen","md:bg-neutral-gray-1","md:max-h-none","md:h-full"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-b-neutral-gray-1","md:hidden"],[1,"text-heading-sm","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"overflow-auto","md:flex","md:flex-col","md:justify-between","md:h-full"],[1,"bg-white","rounded","md:p-0","md:bg-transparent","md:overflow-y-auto"],[1,"px-6","py-4","space-y-6","md:hidden"],[1,"flex","items-center","space-x-4"],[1,"flex","items-center","space-x-2","text-heading-sm"],["icon","plane"],[1,"text-heading-sm"],[1,"flex","items-center","text-heading-sm","py-1","px-3","rounded","bg-neutral-gray-1"],["class","mt-6 flex flex-col",4,"ngIf"],[1,"hidden","p-4","md:flex","md:flex-col","space-y-4"],[1,"flex","flex-col","py-4","px-3","bg-white","border","rounded","border-neutral-gray-1","space-y-2"],[1,"text-body-md-long","font-medium"],["class","flex flex-col",4,"ngIf"],[1,"flex","justify-between","gap-x-4","py-8","px-6","md:p-4","md:bg-neutral-white"],["cf-button","","size","medium","type","border",1,"md:justify-center",3,"click"],["icon","close","size","small",1,"mr-2.5","md:hidden"],["icon","delete","size","small",1,"mr-2.5","hidden","md:block"],[1,"md:hidden"],[1,"hidden","md:block"],[1,"flex","items-center","space-x-2","whitespace-nowrap"],["cf-button","","size","medium","type","secondary",1,"md:w-full","md:justify-center",3,"click"],["icon","arrow_left","size","small",1,"mr-2.5"],["cf-button","","size","medium",1,"md:w-full","md:justify-center",3,"disabled","click"],["icon","chevron_right","size","small","class","ml-2.5 text-white",4,"ngIf"],["class","text-neutral-white ml-2.5 animate-spin","icon","refresh","size","small",4,"ngIf"],[1,"mt-6","flex","flex-col"],[1,"flex","items-center","space-x-2"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7.99998 2.65001C5.04525 2.65001 2.64998 5.04528 2.64998 8.00001C2.64998 10.9547 5.04525 13.35 7.99998 13.35C10.9547 13.35 13.35 10.9547 13.35 8.00001C13.35 5.04528 10.9547 2.65001 7.99998 2.65001ZM1.34998 8.00001C1.34998 4.32731 4.32728 1.35001 7.99998 1.35001C11.6727 1.35001 14.65 4.32731 14.65 8.00001C14.65 11.6727 11.6727 14.65 7.99998 14.65C4.32728 14.65 1.34998 11.6727 1.34998 8.00001ZM7.99998 3.35001C8.35896 3.35001 8.64998 3.64102 8.64998 4.00001V4.4208C9.04647 4.50873 9.42239 4.6786 9.73937 4.93041L10.016 5.15014C10.2971 5.37343 10.3439 5.78231 10.1206 6.0634C9.89731 6.34449 9.48843 6.39134 9.20735 6.16804L8.93075 5.94832C8.84625 5.88119 8.75151 5.8254 8.64998 5.78093V7.4145C9.06184 7.49756 9.46182 7.66254 9.80422 7.91935C10.3328 8.3158 10.65 8.88151 10.65 9.50001C10.65 10.1185 10.3328 10.6842 9.80422 11.0807C9.46182 11.3375 9.06184 11.5025 8.64998 11.5855V12C8.64998 12.359 8.35896 12.65 7.99998 12.65C7.64099 12.65 7.34998 12.359 7.34998 12V11.5855C6.93817 11.5024 6.53824 11.3374 6.19588 11.0807L5.60997 10.6412C5.32278 10.4258 5.26459 10.0184 5.47998 9.7312C5.69538 9.44402 6.1028 9.38582 6.38999 9.60122L6.9759 10.0407C7.08371 10.1215 7.21034 10.1886 7.34998 10.2394V8.57927C6.96001 8.49289 6.5829 8.32583 6.2604 8.06964C5.75362 7.66706 5.46166 7.10306 5.46166 6.50002C5.46166 5.89698 5.75362 5.33299 6.2604 4.93041C6.57743 4.67856 6.95341 4.50868 7.34998 4.42076V4.00001C7.34998 3.64102 7.64099 3.35001 7.99998 3.35001ZM7.34998 5.78085C7.24837 5.82533 7.15356 5.88115 7.06902 5.94832C6.83839 6.13153 6.76166 6.3353 6.76166 6.50002C6.76166 6.66475 6.83839 6.86852 7.06902 7.05173C7.15182 7.11751 7.24651 7.17373 7.34998 7.21904V5.78085ZM8.64998 8.76057V10.2394C8.78967 10.1887 8.91636 10.1216 9.0242 10.0407C9.27665 9.85133 9.34998 9.64928 9.34998 9.50001C9.34998 9.35073 9.27665 9.14868 9.0242 8.95934C8.91636 8.87845 8.78967 8.81136 8.64998 8.76057Z","fill","#0F172A"],[1,"mt-4","flex","flex-col","space-y-3"],[1,"flex","items-center","justify-between"],[1,"text-body-md-short"],["icon","circle_information",3,"cfTooltip"],[1,"flex","justify-between"],[1,"text-body-md-short","font-medium"],[1,"text-heading-lg","text-red-4"],[1,"text-body-md-short","text-secondary-5-4"],[1,"text-heading-lg","text-secondary-5-4"],[1,"flex","space-x-2","py-1.5","px-3","bg-secondary-2-1","rounded","mt-4"],["icon","info",1,"text-secondary-2-3"],[1,"flex","flex-col"],[1,"flex","space-x-2","py-1.5","px-3","bg-secondary-2-1","rounded","mt-3"],["icon","chevron_right","size","small",1,"ml-2.5","text-white"],["icon","refresh","size","small",1,"text-neutral-white","ml-2.5","animate-spin"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"X\xe1c nh\u1eadn chi ph\xed"),e.qZA(),e.TgZ(4,"cf-icon",3),e.NdJ("click",function(){return i.onClose()}),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),e._UZ(10,"cf-icon",9),e.TgZ(11,"div",10),e._uU(12," \u0110ang h\u1ee7y h\xe0nh tr\xecnh "),e.qZA()(),e.TgZ(13,"div",11)(14,"div"),e._uU(15),e.ALo(16,"date"),e.qZA()()(),e.YNc(17,Ai,24,15,"div",12),e.YNc(18,ki,46,31,"div",12),e.qZA(),e.TgZ(19,"div",13)(20,"div",14)(21,"div",8),e._UZ(22,"cf-icon",9),e.TgZ(23,"div",10),e._uU(24," \u0110ang h\u1ee7y h\xe0nh tr\xecnh "),e.qZA()(),e.TgZ(25,"div",11)(26,"div"),e._uU(27),e.TgZ(28,"span",15),e._uU(29),e.ALo(30,"date"),e.qZA()()()(),e.TgZ(31,"div",14),e.YNc(32,Ii,24,15,"div",16),e.YNc(33,Ni,46,31,"div",16),e.qZA()()(),e.TgZ(34,"div",17)(35,"button",18),e.NdJ("click",function(){return i.onClose()}),e._UZ(36,"cf-icon",19)(37,"cf-icon",20),e.TgZ(38,"span",21),e._uU(39," H\u1ee7y d\u1ecbch v\u1ee5 "),e.qZA(),e.TgZ(40,"span",22),e._uU(41," H\u1ee7y "),e.qZA()(),e.TgZ(42,"div",23)(43,"button",24),e.NdJ("click",function(){return i.back()}),e._UZ(44,"cf-icon",25),e._uU(45," Quay l\u1ea1i "),e.qZA(),e.TgZ(46,"button",26),e.NdJ("click",function(){return i.onConfirmDeleteJourney()}),e._uU(47," X\xe1c nh\u1eadn "),e.YNc(48,Ui,1,0,"cf-icon",27),e.YNc(49,qi,1,0,"cf-icon",28),e.qZA()()()()()),2&t&&(e.xp6(15),e.HOy("",i.journeyConfirm.startPointCode," \u2192 ",i.journeyConfirm.endPointCode," \u30fb ",e.xi3(16,15,i.journeyConfirm.startDate,"HH:mm - dd/MM/yyyy")," \u30fb ",i.journeyConfirm.journeyType,""),e.xp6(2),e.Q6J("ngIf","BOOKED"==i.journeyConfirm.status),e.xp6(1),e.Q6J("ngIf","ISSUED"==i.journeyConfirm.status),e.xp6(9),e.AsE("",i.journeyConfirm.startPointCode," \u2192 ",i.journeyConfirm.endPointCode," \u30fb "),e.xp6(2),e.AsE("",e.xi3(30,18,i.journeyConfirm.startDate,"HH:mm - dd/MM/yyyy")," \u30fb ",i.journeyConfirm.journeyType,""),e.xp6(3),e.Q6J("ngIf","BOOKED"==i.journeyConfirm.status),e.xp6(1),e.Q6J("ngIf","ISSUED"==i.journeyConfirm.status),e.xp6(13),e.Q6J("disabled",i.isLoadingNextButton),e.xp6(2),e.Q6J("ngIf",!i.isLoadingNextButton),e.xp6(1),e.Q6J("ngIf",i.isLoadingNextButton))},dependencies:[m.ez,m.O5,m.JJ,m.uU,p.AxE,p.Sm8,U.DW,E.N8,E.Xq,H,ce.Lk],encapsulation:2}),n})();function Bi(n,r){if(1&n&&(e.TgZ(0,"div",10),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(e.xi3(2,1,t.info.expirationDate,"dd/MM/yyyy"))}}function Pi(n,r){1&n&&(e.TgZ(0,"div",10),e._uU(1,"N/A"),e.qZA())}function Fi(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td",25),e._uU(2),e.qZA(),e.TgZ(3,"td",26),e._uU(4),e.qZA(),e.TgZ(5,"td",26),e._uU(6),e.ALo(7,"replace"),e.ALo(8,"number"),e.qZA()()),2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.type),e.xp6(2),e.Oqu(e.Dn7(7,3,e.lcZ(8,7,t.price),",","."))}}function Ji(n,r){if(1&n&&(e.TgZ(0,"div",18)(1,"div",19)(2,"div",27),e._uU(3,"H\xe0nh kh\xe1ch"),e.qZA(),e.TgZ(4,"div",21),e._uU(5),e.qZA()(),e.TgZ(6,"div",19)(7,"div",27),e._uU(8,"Lo\u1ea1i kh\xe1ch"),e.qZA(),e.TgZ(9,"div",21),e._uU(10),e.qZA()(),e.TgZ(11,"div",19)(12,"div",27),e._uU(13,"T\u1ed5ng b\u1ea3o l\u01b0u"),e.qZA(),e.TgZ(14,"div",21),e._uU(15),e.ALo(16,"replace"),e.ALo(17,"number"),e.qZA()()()),2&n){const t=r.$implicit;e.xp6(5),e.Oqu(t.name),e.xp6(5),e.Oqu(t.type),e.xp6(5),e.hij("",e.Dn7(16,3,e.lcZ(17,7,t.price),",","."),"\u0111 ")}}let Qi=(()=>{class n{constructor(t,i,o,a,l,d,x,b,g,A){this.ref=t,this.bottomSheetData=i,this.bottomSheetRef=o,this._modal=l,this._locationDataService=d,this._mobileDetectService=x,this._bottomSheetService=b,this._bookingDetailService=g,this._detectMobileService=A,a.registerIcons([p.UNF,p.Hge,p.fXw,p.s5C,p.NNX,p.toh,p.$S]),t&&(this.info=t.data.info),i&&(this.info=i.info)}onClose(){this.ref&&this.ref.close(!1),this.bottomSheetData&&this.bottomSheetRef.dismiss(!1)}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(S.gb,8),e.Y36(U.Rr,8),e.Y36(U.Zu,8),e.Y36(p.KNP),e.Y36(S.oE),e.Y36(Ne._),e.Y36(le.L),e.Y36(U.a2),e.Y36(Xe.P3),e.Y36(le.L))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-identity-reservation-info"]],standalone:!0,features:[e.jDz],decls:49,vars:10,consts:[[1,"w-[772px]","min-h-[250px]","max-h-[600px]","overflow-hidden","flex","flex-col","rounded-lg","bg-neutral-white","md:w-screen","md:bg-neutral-gray-1","md:max-h-none","md:h-full"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-b-neutral-gray-1","md:hidden"],[1,"text-heading-sm","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"overflow-auto","md:flex","md:flex-col","md:justify-between","md:h-full"],[1,"bg-white","rounded","md:p-0","md:bg-transparent","md:overflow-y-auto"],[1,"px-6","py-4","space-y-6","md:hidden"],[1,"flex","flex-col","space-y-2.5"],[1,"flex","items-center"],[1,"text-body-md-short","text-neutral-gray-5","w-40"],[1,"text-espressive-md-short","text-neutral-gray-6"],["class","text-espressive-md-short text-neutral-gray-6",4,"ngIf"],[1,"table-auto","w-full"],[1,"border-b","border-neutral-gray-1"],[1,"text-left","text-espressive-sm","text-neutral-gray-4","py-3"],[4,"ngFor","ngForOf"],[1,"text-neutral-gray-1","w-full","mb-4"],[1,"p-4","gap-y-3","md:flex","md:flex-col","hidden","w-full"],[1,"flex","flex-col","rounded-lg","bg-neutral-white","p-3","gap-y-2"],[1,"flex","items-center","gap-x-5"],[1,"text-body-sm","text-neutral-gray-4","w-[120px]"],[1,"text-espressive-md","text-neutral-gray-6"],["class","flex flex-col rounded-lg bg-neutral-white p-3 gap-y-2",4,"ngFor","ngForOf"],[1,"flex","justify-end","gap-x-4","py-8","px-6","md:p-4","md:bg-neutral-white"],["cf-button","","size","medium",1,"md:justify-center","md:w-full",3,"click"],[1,"text-body-md","text-neutral-black","py-3","uppercase"],[1,"text-body-md","text-neutral-black","py-3"],[1,"text-body-sm","text-neutral-gray-4","w-[104px]"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"B\u1ea3o l\u01b0u \u0111\u1ecbnh danh h\xe0nh kh\xe1ch"),e.qZA(),e.TgZ(4,"cf-icon",3),e.NdJ("click",function(){return i.onClose()}),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9),e._uU(11,"M\xe3 \u0111\u1eb7t ch\u1ed7"),e.qZA(),e.TgZ(12,"div",10),e._uU(13),e.qZA()(),e.TgZ(14,"div",8)(15,"div",9),e._uU(16,"Ng\xe0y h\u1ebft h\u1ea1n b\u1ea3o l\u01b0u"),e.qZA(),e.YNc(17,Bi,3,4,"div",11),e.YNc(18,Pi,2,0,"div",11),e.qZA()(),e.TgZ(19,"div")(20,"table",12)(21,"thead")(22,"tr",13)(23,"th",14),e._uU(24,"H\xe0nh kh\xe1ch"),e.qZA(),e.TgZ(25,"th",14),e._uU(26,"Lo\u1ea1i kh\xe1ch"),e.qZA(),e.TgZ(27,"th",14),e._uU(28,"T\u1ed5ng b\u1ea3o l\u01b0u"),e.qZA()()(),e.TgZ(29,"tbody"),e.YNc(30,Fi,9,9,"tr",15),e.qZA()(),e._UZ(31,"hr",16),e.qZA()(),e.TgZ(32,"div",17)(33,"div",18)(34,"div",19)(35,"div",20),e._uU(36,"M\xe3 \u0111\u1eb7t ch\u1ed7"),e.qZA(),e.TgZ(37,"div",21),e._uU(38),e.qZA()(),e.TgZ(39,"div",19)(40,"div",20),e._uU(41,"Ng\xe0y h\u1ebft h\u1ea1n b\u1ea3o l\u01b0u"),e.qZA(),e.TgZ(42,"div",21),e._uU(43),e.ALo(44,"date"),e.qZA()()(),e.YNc(45,Ji,18,9,"div",22),e.qZA()(),e.TgZ(46,"div",23)(47,"button",24),e.NdJ("click",function(){return i.onClose()}),e._uU(48," \u0110\xf3ng "),e.qZA()()()()),2&t&&(e.xp6(13),e.Oqu(i.info.pnr),e.xp6(4),e.Q6J("ngIf",i.info.expirationDate),e.xp6(1),e.Q6J("ngIf",!i.info.expirationDate),e.xp6(12),e.Q6J("ngForOf",i.info.passengers),e.xp6(8),e.Oqu(i.info.pnr),e.xp6(5),e.Oqu(e.xi3(44,7,i.info.expirationDate,"dd/MM/yyyy")),e.xp6(2),e.Q6J("ngForOf",i.info.passengers))},dependencies:[m.ez,m.sg,m.O5,m.JJ,m.uU,p.AxE,p.Sm8,U.DW,E.N8,E.Xq,H],encapsulation:2}),n})();var An=C(27898);function Si(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",31),e._uU(2),e.qZA(),e.BQk()),2&n){const t=r.$implicit;e.xp6(2),e.hij("",t," ")}}let kn=(()=>{class n{constructor(t,i,o,a){this.ref=t,this.bottomSheetData=i,this.bottomSheetRef=o,a.registerIcons([p.UNF]),t&&(this.bookingCode=t.data.bookingCode,this.listPaxName=t.data.listPaxName),i&&(this.bookingCode=i.bookingCode,this.listPaxName=i.listPaxName)}close(){this.ref&&this.ref.close(!1),this.bottomSheetData&&this.bottomSheetRef.dismiss(!1)}ok(){this.ref&&this.ref.close(!0),this.bottomSheetData&&this.bottomSheetRef.dismiss(!0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(S.gb,8),e.Y36(U.Rr,8),e.Y36(U.Zu,8),e.Y36(p.KNP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["confirm-separate"]],standalone:!0,features:[e.jDz],decls:36,vars:2,consts:[[1,"w-[377px]","rounded-lg","bg-neutral-white","flex","flex-col","md:w-screen"],[1,"flex","justify-end","items-center","px-6","py-[13px]","border-b","border-b-neutral-gray-1","md:hidden"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"px-6","py-2"],[1,"flex","flex-col","gap-2","justify-center","items-center","text-center"],["width","80","height","80","viewBox","0 0 80 80","fill","none","xmlns","http://www.w3.org/2000/svg"],["width","80","height","80","fill","white"],["d","M72.8737 46.6708C72.8797 51.2242 71.9344 55.7286 70.0983 59.8954H9.90136C7.93485 55.4182 6.99194 50.5587 7.14132 45.671C7.2907 40.7833 8.52862 35.9904 10.7649 31.6417C13.0011 27.293 16.1794 23.4979 20.068 20.5331C23.9567 17.5682 28.4579 15.5082 33.2435 14.5032C38.0291 13.4982 42.9787 13.5734 47.7315 14.7235C52.4843 15.8736 56.9207 18.0696 60.7174 21.1513C64.5141 24.2331 67.5755 28.123 69.6785 32.5378C71.7814 36.9525 72.873 41.7808 72.8737 46.6708Z","fill","#E7FFF4"],["d","M3.40918 59.8954H77.7661","stroke","#07A35D","stroke-width","1.5","stroke-miterlimit","10","stroke-linecap","round"],["d","M53.8891 67.0215H51.6553L49.8091 66.0308C49.6728 65.958 49.5206 65.92 49.366 65.92C49.2115 65.92 49.0593 65.958 48.923 66.0308L47.4891 66.7877C47.3527 66.8604 47.2006 66.8985 47.046 66.8985C46.8915 66.8985 46.7393 66.8604 46.603 66.7877L45.1691 66.0308C45.0327 65.958 44.8806 65.92 44.726 65.92C44.5715 65.92 44.4193 65.958 44.283 66.0308L42.8491 66.7877C42.7127 66.8604 42.5606 66.8985 42.406 66.8985C42.2515 66.8985 42.0993 66.8604 41.963 66.7877L40.4922 66.0308C40.3569 65.9581 40.2058 65.92 40.0522 65.92C39.8986 65.92 39.7475 65.9581 39.6122 66.0308L38.1537 66.7877C38.0185 66.8604 37.8673 66.8985 37.7137 66.8985C37.5602 66.8985 37.409 66.8604 37.2737 66.7877L35.8337 66.0308C35.6974 65.958 35.5452 65.92 35.3906 65.92C35.2361 65.92 35.0839 65.958 34.9476 66.0308L33.5137 66.7877C33.3774 66.8604 33.2252 66.8985 33.0707 66.8985C32.9161 66.8985 32.7639 66.8604 32.6276 66.7877L31.1937 66.0308C31.0574 65.958 30.9052 65.92 30.7507 65.92C30.5961 65.92 30.4439 65.958 30.3076 66.0308L28.6583 66.9046C28.5084 66.983 28.3414 67.0232 28.1722 67.0215H26.1107C25.9365 67.0089 25.7743 66.9282 25.6591 66.7969C25.544 66.6657 25.4851 66.4943 25.4953 66.32V23.0708C25.4851 22.8964 25.544 22.7251 25.6591 22.5938C25.7743 22.4626 25.9365 22.3819 26.1107 22.3692H53.8891C54.0633 22.3819 54.2255 22.4626 54.3406 22.5938C54.4558 22.7251 54.5147 22.8964 54.5045 23.0708V66.32C54.5147 66.4943 54.4558 66.6657 54.3406 66.7969C54.2255 66.9282 54.0633 67.0089 53.8891 67.0215Z","fill","white"],["d","M54.5048 23.0708V27.8708H25.4894V23.0708C25.4792 22.8964 25.5381 22.7251 25.6533 22.5938C25.7684 22.4626 25.9306 22.3819 26.1048 22.3692H53.8833C54.0585 22.3803 54.2223 22.4603 54.3387 22.5918C54.4552 22.7232 54.5149 22.8954 54.5048 23.0708Z","fill","#42BA84"],["d","M53.8891 67.0215H51.6553L49.8091 66.0308C49.6728 65.958 49.5206 65.92 49.366 65.92C49.2115 65.92 49.0593 65.958 48.923 66.0308L47.4891 66.7877C47.3527 66.8604 47.2006 66.8985 47.046 66.8985C46.8915 66.8985 46.7393 66.8604 46.603 66.7877L45.1691 66.0308C45.0328 65.958 44.8806 65.92 44.726 65.92C44.5715 65.92 44.4193 65.958 44.283 66.0308L42.8491 66.7877C42.7127 66.8604 42.5606 66.8985 42.406 66.8985C42.2515 66.8985 42.0993 66.8604 41.963 66.7877L40.4922 66.0308C40.3569 65.9581 40.2058 65.92 40.0522 65.92C39.8986 65.92 39.7475 65.9581 39.6122 66.0308L38.1537 66.7877C38.0185 66.8604 37.8673 66.8985 37.7137 66.8985C37.5602 66.8985 37.409 66.8604 37.2737 66.7877L35.8337 66.0308C35.6974 65.958 35.5452 65.92 35.3907 65.92C35.2361 65.92 35.0839 65.958 34.9476 66.0308L33.5137 66.7877C33.3774 66.8604 33.2252 66.8985 33.0707 66.8985C32.9161 66.8985 32.7639 66.8604 32.6276 66.7877L31.1937 66.0308C31.0574 65.958 30.9052 65.92 30.7507 65.92C30.5961 65.92 30.4439 65.958 30.3076 66.0308L28.6583 66.9046C28.5084 66.983 28.3414 67.0232 28.1722 67.0215H26.1107C25.9365 67.0089 25.7743 66.9282 25.6591 66.7969C25.544 66.6657 25.4851 66.4943 25.4953 66.32V23.0708C25.4851 22.8964 25.544 22.7251 25.6591 22.5938C25.7743 22.4626 25.9365 22.3819 26.1107 22.3692H53.8891C54.0633 22.3819 54.2255 22.4626 54.3406 22.5938C54.4558 22.7251 54.5147 22.8964 54.5045 23.0708V66.32C54.5147 66.4943 54.4558 66.6657 54.3406 66.7969C54.2255 66.9282 54.0633 67.0089 53.8891 67.0215V67.0215Z","stroke","#07A35D","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M34.8307 35.0769C34.8425 35.5327 34.6745 35.9748 34.363 36.3077C34.0474 36.6638 33.6065 36.8842 33.1322 36.9231V37.7723C33.1355 37.7908 33.1342 37.8098 33.1286 37.8277C33.1229 37.8456 33.113 37.8619 33.0998 37.8752C33.0865 37.8885 33.0702 37.8984 33.0523 37.904C33.0344 37.9097 33.0154 37.9109 32.9969 37.9077H32.4738C32.3815 37.9077 32.3322 37.8646 32.3322 37.7723V36.9231C31.694 36.8451 31.0905 36.5893 30.5907 36.1846C30.5746 36.1747 30.5608 36.1616 30.5502 36.146C30.5395 36.1305 30.5322 36.1129 30.5287 36.0943C30.5252 36.0758 30.5256 36.0567 30.53 36.0384C30.5343 36.02 30.5424 36.0027 30.5538 35.9877L30.9476 35.3723C30.9603 35.3557 30.9766 35.3423 30.9952 35.333C31.0139 35.3238 31.0345 35.319 31.0553 35.319C31.0762 35.319 31.0967 35.3238 31.1154 35.333C31.1341 35.3423 31.1504 35.3557 31.163 35.3723C31.5893 35.714 32.1127 35.9121 32.6584 35.9385C33.3538 35.9385 33.7476 35.5938 33.7476 35.0892C33.7476 33.7292 30.6707 34.2523 30.6707 32.0862C30.7036 31.6518 30.8891 31.2431 31.1943 30.9323C31.4995 30.6214 31.9047 30.4286 32.3384 30.3877V29.5385C32.3365 29.5194 32.3388 29.5001 32.3453 29.4821C32.3517 29.4641 32.3621 29.4477 32.3756 29.4341C32.3891 29.4206 32.4055 29.4102 32.4236 29.4038C32.4416 29.3973 32.4609 29.395 32.4799 29.3969H33.003C33.0953 29.3969 33.1384 29.4462 33.1384 29.5385V30.3446C33.6157 30.422 34.0734 30.5913 34.4861 30.8431C34.5031 30.8519 34.5181 30.8643 34.53 30.8793C34.5419 30.8944 34.5505 30.9118 34.5551 30.9304C34.5598 30.9491 34.5604 30.9685 34.557 30.9873C34.5536 31.0062 34.5462 31.0242 34.5353 31.04L34.1107 31.6554C34.1005 31.6729 34.0864 31.6879 34.0696 31.6993C34.0528 31.7107 34.0336 31.7181 34.0135 31.7211C33.9934 31.724 33.9729 31.7224 33.9535 31.7164C33.9341 31.7103 33.9163 31.7 33.9015 31.6862C33.5575 31.4432 33.1471 31.3122 32.7261 31.3108C32.1784 31.3108 31.7292 31.6123 31.7292 32.0492C31.7538 33.3415 34.8307 32.8431 34.8307 35.0769Z","fill","#84BAA2"],["d","M29.7168 41.5323H50.7076","stroke","#84BAA2","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M29.7168 45.2492H50.7076","stroke","#84BAA2","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M29.7168 48.9662H50.7076","stroke","#84BAA2","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M29.7168 52.6831H50.7076","stroke","#84BAA2","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M29.7168 56.4062H50.7076","stroke","#84BAA2","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M55.8211 75.4646C62.8631 75.4646 68.5719 69.7559 68.5719 62.7138C68.5719 55.6718 62.8631 49.9631 55.8211 49.9631C48.779 49.9631 43.0703 55.6718 43.0703 62.7138C43.0703 69.7559 48.779 75.4646 55.8211 75.4646Z","fill","#07A35D"],["d","M49.8034 63.9261L53.9511 68.3077C54.0476 68.4013 54.1767 68.4537 54.3111 68.4537C54.4455 68.4537 54.5746 68.4013 54.6711 68.3077L63.5019 59.2677C63.5401 59.2236 63.5687 59.172 63.5858 59.1162C63.6029 59.0604 63.6082 59.0016 63.6012 58.9436C63.5943 58.8857 63.5753 58.8298 63.5454 58.7797C63.5156 58.7295 63.4756 58.6861 63.428 58.6523L61.5019 57.0031C61.414 56.9384 61.3044 56.9106 61.1964 56.9255C61.0883 56.9404 60.9904 56.997 60.9234 57.0831L54.6403 63.7908C54.6038 63.8357 54.5582 63.8726 54.5067 63.8991C54.4551 63.9255 54.3986 63.941 54.3408 63.9444C54.2829 63.9479 54.225 63.9393 54.1706 63.9192C54.1162 63.8991 54.0666 63.868 54.0249 63.8277L51.9634 61.7723C51.9247 61.7289 51.8773 61.6942 51.8243 61.6705C51.7713 61.6467 51.7138 61.6344 51.6557 61.6344C51.5976 61.6344 51.5402 61.6467 51.4871 61.6705C51.4341 61.6942 51.3867 61.7289 51.348 61.7723L49.8096 63.3846C49.7433 63.4589 49.7062 63.5547 49.7051 63.6542C49.704 63.7538 49.7389 63.8503 49.8034 63.9261Z","fill","white"],["d","M27.9443 10.1908V17.0708","stroke","#07A35D","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M13.1631 25.7415H20.6031","stroke","#07A35D","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M16.6094 13.9754L22.2586 19.6308","stroke","#07A35D","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],[1,"text-heading-sm","text-neutral-gray-6"],[1,"text-body-md","text-neutral-gray-5"],[1,"text-express-md","font-semibold"],[1,"flex","flex-wrap","items-center","gap-2"],[4,"ngFor","ngForOf"],[1,"p-6","flex","gap-x-4"],["cf-button","","size","medium","type","secondary",1,"w-full","justify-center",3,"click"],["cf-button","","size","medium","color","primary-1",1,"w-full","justify-center",3,"click"],[1,"bg-neutral-gray-1","py-1.5","px-4","rounded-full","text-body-md-short","text-neutral-gray-6"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"cf-icon",2),e.NdJ("click",function(){return i.close()}),e.qZA()(),e.TgZ(3,"div",3)(4,"div",4),e.O4$(),e.TgZ(5,"svg",5),e._UZ(6,"rect",6)(7,"path",7)(8,"path",8)(9,"path",9)(10,"path",10)(11,"path",11)(12,"path",12)(13,"path",13)(14,"path",14)(15,"path",15)(16,"path",16)(17,"path",17)(18,"path",18)(19,"path",19)(20,"path",20)(21,"path",21)(22,"path",22),e.qZA(),e.kcU(),e.TgZ(23,"div",23),e._uU(24,"T\xe1ch h\xe0nh kh\xe1ch th\xe0nh c\xf4ng"),e.qZA(),e.TgZ(25,"div",24),e._uU(26," Nh\u1eefng h\xe0nh kh\xe1ch sau \u0111\xe3 \u0111\u01b0\u1ee3c t\xe1ch th\xe0nh c\xf4ng sang m\xe3 \u0111\u1eb7t ch\u1ed7 m\u1edbi "),e.TgZ(27,"span",25),e._uU(28),e.qZA()(),e.TgZ(29,"div",26),e.YNc(30,Si,3,1,"ng-container",27),e.qZA()()(),e.TgZ(31,"div",28)(32,"button",29),e.NdJ("click",function(){return i.close()}),e._uU(33," \u0110\xf3ng "),e.qZA(),e.TgZ(34,"button",30),e.NdJ("click",function(){return i.ok()}),e._uU(35," M\u1edf \u0111\u1eb7t ch\u1ed7 "),e.qZA()()()),2&t&&(e.xp6(28),e.Oqu(i.bookingCode),e.xp6(2),e.Q6J("ngForOf",i.listPaxName))},dependencies:[m.ez,m.sg,p.AxE,p.Sm8,E.N8,E.Xq],encapsulation:2}),n})();function Yi(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td",28)(3,"div",29)(4,"cf-checkbox",30),e.NdJ("checkChange",function(o){const l=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.checkedChange(o,l))}),e.qZA()()(),e.TgZ(5,"td",31),e._uU(6),e.qZA(),e.TgZ(7,"td",32),e._uU(8),e.qZA(),e.TgZ(9,"td",32),e._uU(10),e.qZA()(),e.BQk()}if(2&n){const t=r.$implicit;e.xp6(4),e.Q6J("checked",t.selected),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.type),e.xp6(2),e.Oqu(t.child)}}function Mi(n,r){1&n&&(e.TgZ(0,"span",33),e._uU(1,"V\u01b0\u1ee3t qu\xe1 s\u1ed1 ng\u01b0\u1eddi cho ph\xe9p"),e.qZA())}function Oi(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",34)(2,"div")(3,"cf-checkbox",30),e.NdJ("checkChange",function(o){const l=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.checkedChange(o,l))}),e.qZA()(),e.TgZ(4,"div",35)(5,"div",36)(6,"div",37),e._uU(7,"T\xean kh\xe1ch"),e.qZA(),e.TgZ(8,"div",38),e._uU(9),e.qZA()(),e.TgZ(10,"div",36)(11,"div",37),e._uU(12,"Lo\u1ea1i kh\xe1ch"),e.qZA(),e.TgZ(13,"div",38),e._uU(14),e.qZA()(),e.TgZ(15,"div",36)(16,"div",37),e._uU(17,"Em b\xe9 \u0111i k\xe8m"),e.qZA(),e.TgZ(18,"div",38),e._uU(19),e.qZA()()()(),e.BQk()}if(2&n){const t=r.$implicit;e.xp6(3),e.Q6J("checked",t.selected),e.xp6(6),e.Oqu(t.name),e.xp6(5),e.Oqu(t.type),e.xp6(5),e.Oqu(t.child)}}function Ri(n,r){1&n&&(e.TgZ(0,"span",33),e._uU(1,"V\u01b0\u1ee3t qu\xe1 s\u1ed1 ng\u01b0\u1eddi cho ph\xe9p"),e.qZA())}function ji(n,r){1&n&&e._UZ(0,"cf-spinner")}let Gi=(()=>{class n{constructor(t,i,o,a,l,d,x){this._modal=i,this.ref=o,this.bottomSheetData=a,this.bottomSheetRef=l,this._bottomSheetService=d,this._manageBookingService=x,this.maxPax=0,this.isFullPax=!1,this.isNonePax=!1,this.isLoading=!1,t.registerIcons([p.UNF,p.gW0,p.PcQ]),o&&(this.listPassengers=o.data.listPassengers,this.bookingDetail=o.data.bookingDetail),a&&(this.listPassengers=a.listPassengers,this.bookingDetail=a.bookingDetail),this.maxPax=this.listPassengers.length-1,this.checkPaxSeparate()}checkedChange(t,i){i.selected=t,this.checkPaxSeparate()}checkPaxSeparate(){this.isFullPax=this.listPassengers.every(t=>t.selected),this.isNonePax=this.listPassengers.every(t=>!t.selected)}close(){this.ref&&this.ref.close(!1),this.bottomSheetRef&&this.bottomSheetRef.dismiss(!1)}ok(){const t=this.listPassengers.filter(o=>o.selected);if("VJ"===this.bookingDetail.airline&&t.every(o=>"CHD"===o.type)){if(this.bottomSheetRef){const o=this._bottomSheetService.open(z.V0,{headerTitle:"Kh\xf4ng th\u1ec3 ti\u1ebfp t\u1ee5c",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",leftButtonIcon:"",data:{title:"",body:"Kh\xf4ng th\u1ec3 t\xe1ch m\u1ed9t m\xecnh tr\u1ebb em. Vui l\xf2ng t\xe1ch k\xe8m ng\u01b0\u1eddi l\u1edbn ho\u1eb7c li\xean h\u1ec7 Booker \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3.",okText:"\u0110\xf3ng",hasCancel:!1}});return void o.containerInstance._rightButtonClick.subscribe(a=>o.dismiss())}return void(this.ref&&this._modal.open(z.V0,{title:"Kh\xf4ng th\u1ec3 ti\u1ebfp t\u1ee5c",body:"Kh\xf4ng th\u1ec3 t\xe1ch m\u1ed9t m\xecnh tr\u1ebb em. Vui l\xf2ng t\xe1ch k\xe8m ng\u01b0\u1eddi l\u1edbn ho\u1eb7c li\xean h\u1ec7 Booker \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3.",okText:"\u0110\xf3ng",hasCancel:!1}))}const i={airline:this.bookingDetail.airline,oldBookingCode:this.bookingDetail.bookingCode,passengers:null==t?void 0:t.map(o=>({id:o.index,key:o.key}))};this.isLoading=!0,this._manageBookingService.splitPax(i).pipe((0,ge.x)(()=>this.isLoading=!1)).subscribe({next:o=>{var a,l;if("OK"===o.status){const d=o.data.splitResult.bookingInfo.bookingCode,x=o.data.splitResult.bookingInfo.passengers.map(b=>`${b.lastName} ${b.firstName}`);if(this.bottomSheetRef){const b=this._bottomSheetService.open(kn,{headerTitle:"",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",leftButtonIcon:"",data:{bookingCode:d,listPaxName:x}});return b.containerInstance._rightButtonClick.subscribe(g=>b.dismiss()),void b.afterDismissed().subscribe({next:g=>{this.bottomSheetRef.dismiss(g?d:this.bookingDetail.bookingCode)}})}this.ref&&this._modal.open(kn,{bookingCode:d,listPaxName:x}).afterClosed$.subscribe({next:g=>{this.ref.close(g.data?d:this.bookingDetail.bookingCode)}})}else{const d=(null===(l=null===(a=o.objectError)||void 0===a?void 0:a.errorDescription)||void 0===l?void 0:l.vi)||"C\xf3 l\u1ed7i x\u1ea3y ra trong qu\xe1 tr\xecnh T\xe1ch kh\xe1ch. Vui l\xf2ng th\u1eed l\u1ea1i.";this._modal.open(z.V0,{title:"T\xe1ch kh\xe1ch th\u1ea5t b\u1ea1i",body:d,okText:"\u0110\xf3ng",hasCancel:!1,cancelText:""})}},error:()=>{this._modal.open(z.V0,{title:"T\xe1ch kh\xe1ch th\u1ea5t b\u1ea1i",body:"C\xf3 l\u1ed7i x\u1ea3y ra trong qu\xe1 tr\xecnh T\xe1ch kh\xe1ch. Vui l\xf2ng th\u1eed l\u1ea1i.",okText:"\u0110\xf3ng",hasCancel:!1,cancelText:""})}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.KNP),e.Y36(S.oE),e.Y36(S.gb,8),e.Y36(U.Rr,8),e.Y36(U.Zu,8),e.Y36(U.a2),e.Y36(Se.fB))},n.\u0275cmp=e.Xpm({type:n,selectors:[["separate-passengers"]],hostAttrs:[1,"md:w-full"],standalone:!0,features:[e.jDz],decls:68,vars:9,consts:[[1,"w-[748px]","max-h-[600px]","overflow-hidden","rounded-lg","bg-neutral-white","flex","flex-col","md:hidden"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-b-neutral-gray-1","md:hidden"],[1,"text-heading-xs","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"p-6","flex","flex-col","gap-y-6","flex-1","overflow-auto"],[1,""],[1,"table-auto","w-full"],[1,"border-b","border-neutral-gray-1"],[1,"text-left","text-espressive-sm","text-neutral-gray-4","pb-3"],[4,"ngFor","ngForOf"],[1,"text-body-md"],[1,"font-semibold"],["class","text-primary-1-4 ml-2",4,"ngIf"],[1,"px-3","py-1.5","bg-functional-1-1","rounded"],[1,"text-express-md","flex","items-center","gap-x-2"],["icon","info","size","small",1,"text-functional-1-3"],[1,"pl-10","text-body-md-short"],[1,"p-6","flex","gap-x-4","justify-end"],["cf-button","","size","medium","type","secondary",1,"min-w-[100px]","justify-center",3,"click"],["cf-button","","size","medium","color","primary-1",1,"min-w-[100px]","justify-center",3,"disabled","click"],["icon","circle_check","size","small",1,"mr-2.5"],[1,"hidden","w-full","h-full","md:flex","flex-col","justify-between","overflow-hidden"],[1,"flex-1","bg-neutral-gray-1","p-4","flex","flex-col","gap-y-4","w-ful","h-full","overflow-y-auto"],[1,"flex","flex-col","gap-y-4"],[1,"bg-neutral-white","p-6","flex","justify-between","gap-x-4","w-full","shadow-sidebar"],["cf-button","","size","medium","type","secondary",1,"w-full","justify-center",3,"click"],["cf-button","","size","medium","color","primary-1",1,"w-full","justify-center",3,"disabled","click"],[4,"ngIf"],[1,"pt-4"],[1,"flex","justify-center","items-center"],["size","medium",3,"checked","checkChange"],[1,"text-body-md","text-neutral-black","pt-4","uppercase"],[1,"text-body-md","text-neutral-black","pt-4"],[1,"text-primary-1-4","ml-2"],[1,"p-3","rounded-lg","bg-neutral-white","flex","gap-x-4","items-center"],[1,"flex-1","flex","flex-col","gap-y-3"],[1,"flex","justify-between"],[1,"w-[104px]","text-body-sm","text-neutral-gray-4"],[1,"flex-1","text-express-md","text-neutral-gray-6"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Ch\u1ecdn h\xe0nh kh\xe1ch c\u1ea7n t\xe1ch"),e.qZA(),e.TgZ(4,"cf-icon",3),e.NdJ("click",function(){return i.close()}),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5)(7,"table",6)(8,"thead")(9,"tr",7),e._UZ(10,"th",8),e.TgZ(11,"th",8),e._uU(12,"T\xean kh\xe1ch"),e.qZA(),e.TgZ(13,"th",8),e._uU(14,"Lo\u1ea1i kh\xe1ch"),e.qZA(),e.TgZ(15,"th",8),e._uU(16,"Em b\xe9 \u0111i k\xe8m"),e.qZA()()(),e.TgZ(17,"tbody"),e.YNc(18,Yi,11,4,"ng-container",9),e.qZA()()(),e.TgZ(19,"div",10)(20,"span"),e._uU(21,"\u0110\u01b0\u1ee3c ch\u1ecdn t\u1ed1i \u0111a "),e.qZA(),e.TgZ(22,"span",11),e._uU(23),e.qZA(),e.YNc(24,Mi,2,0,"span",12),e.qZA(),e.TgZ(25,"div",13)(26,"div",14),e._UZ(27,"cf-icon",15),e.TgZ(28,"div"),e._uU(29,"L\u01b0u \xfd:"),e.qZA()(),e.TgZ(30,"div",16)(31,"div"),e._uU(32," \u2022\xa0\xa0H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 kh\xf4i ph\u1ee5c l\u1ea1i, vui l\xf2ng ki\u1ec3m tra th\u1eadt k\u1ef9 tr\u01b0\u1edbc khi b\u1ea5m X\xe1c nh\u1eadn "),e.qZA(),e.TgZ(33,"div"),e._uU(34," \u2022\xa0\xa0S\u1ed1 ti\u1ec1n b\u1ea3o l\u01b0u (n\u1ebfu c\xf3) s\u1ebd \u0111\u01b0\u1ee3c t\xe1ch ra theo \u0111\xfang t\xean h\xe0nh kh\xe1ch s\u1edf h\u1eefu "),e.qZA()()()(),e.TgZ(35,"div",17)(36,"button",18),e.NdJ("click",function(){return i.close()}),e._uU(37," \u0110\xf3ng "),e.qZA(),e.TgZ(38,"button",19),e.NdJ("click",function(){return i.ok()}),e._UZ(39,"cf-icon",20),e._uU(40," X\xe1c nh\u1eadn "),e.qZA()()(),e.TgZ(41,"div",21)(42,"div",22)(43,"div",23),e.YNc(44,Oi,20,4,"ng-container",9),e.qZA(),e.TgZ(45,"div",10)(46,"span"),e._uU(47,"\u0110\u01b0\u1ee3c ch\u1ecdn t\u1ed1i \u0111a "),e.qZA(),e.TgZ(48,"span",11),e._uU(49),e.qZA(),e.YNc(50,Ri,2,0,"span",12),e.qZA(),e.TgZ(51,"div",13)(52,"div",14),e._UZ(53,"cf-icon",15),e.TgZ(54,"div"),e._uU(55,"L\u01b0u \xfd:"),e.qZA()(),e.TgZ(56,"div",16)(57,"div"),e._uU(58," \u2022\xa0\xa0H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 kh\xf4i ph\u1ee5c l\u1ea1i, vui l\xf2ng ki\u1ec3m tra th\u1eadt k\u1ef9 tr\u01b0\u1edbc khi b\u1ea5m X\xe1c nh\u1eadn "),e.qZA(),e.TgZ(59,"div"),e._uU(60," \u2022\xa0\xa0S\u1ed1 ti\u1ec1n b\u1ea3o l\u01b0u (n\u1ebfu c\xf3) s\u1ebd \u0111\u01b0\u1ee3c t\xe1ch ra theo \u0111\xfang t\xean h\xe0nh kh\xe1ch s\u1edf h\u1eefu "),e.qZA()()()(),e.TgZ(61,"div",24)(62,"button",25),e.NdJ("click",function(){return i.close()}),e._uU(63," \u0110\xf3ng "),e.qZA(),e.TgZ(64,"button",26),e.NdJ("click",function(){return i.ok()}),e._UZ(65,"cf-icon",20),e._uU(66," X\xe1c nh\u1eadn "),e.qZA()()(),e.YNc(67,ji,1,0,"cf-spinner",27)),2&t&&(e.xp6(18),e.Q6J("ngForOf",i.listPassengers),e.xp6(5),e.hij("",i.maxPax," ng\u01b0\u1eddi."),e.xp6(1),e.Q6J("ngIf",i.isFullPax),e.xp6(14),e.Q6J("disabled",i.isFullPax||i.isNonePax),e.xp6(6),e.Q6J("ngForOf",i.listPassengers),e.xp6(5),e.hij("",i.maxPax," ng\u01b0\u1eddi."),e.xp6(1),e.Q6J("ngIf",i.isFullPax),e.xp6(14),e.Q6J("disabled",i.isFullPax||i.isNonePax),e.xp6(3),e.Q6J("ngIf",i.isLoading))},dependencies:[m.ez,m.sg,m.O5,p.AxE,p.Sm8,E.N8,E.Xq,An.u,U.DW,z.OR],encapsulation:2}),n})();var Pe=C(88516),ee=C(44143),rt=C(74713),se=C(57085),at=C(34541),Zn=C(3447),Fe=C(43201),st=C(35650);function Li(n,r){1&n&&(e.TgZ(0,"div",21),e._uU(1,"Ch\u1ecdn h\xe0nh kh\xe1ch c\u1ea7n ch\u1ec9nh s\u1eeda"),e.qZA())}function Hi(n,r){1&n&&(e.TgZ(0,"div",21),e._uU(1,"Ch\u1ec9nh s\u1eeda h\xe0nh kh\xe1ch"),e.qZA())}function Vi(n,r){1&n&&(e.TgZ(0,"div",22)(1,"div",23)(2,"div",24),e._UZ(3,"cf-icon",25),e.TgZ(4,"div"),e._uU(5,"\u0110\u1ed1i v\u1edbi VietJet Air, ch\u1ec9 c\xf3 th\u1ec3 thao t\xe1c tr\xean m\u1ed9t kh\xe1ch m\u1ed7i l\u1ea7n ch\u1ec9nh s\u1eeda th\xf4ng tin"),e.qZA()()()())}function zi(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td",33)(3,"div",34)(4,"cf-radio",35),e.NdJ("checkChange",function(){const a=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.checkedChange(a))}),e.qZA()()(),e.TgZ(5,"td",36),e._uU(6),e.qZA(),e.TgZ(7,"td",37),e._uU(8),e.qZA()(),e.BQk()}if(2&n){const t=r.$implicit;e.xp6(4),e.Q6J("checked",t.selected),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.type)}}function Ki(n,r){if(1&n&&(e.TgZ(0,"div",26)(1,"div",27)(2,"table",28)(3,"thead",29)(4,"tr",30),e._UZ(5,"th",31),e.TgZ(6,"th",31),e._uU(7,"T\xean kh\xe1ch"),e.qZA(),e.TgZ(8,"th",31),e._uU(9,"Lo\u1ea1i kh\xe1ch"),e.qZA()()(),e.TgZ(10,"tbody"),e.YNc(11,zi,9,3,"ng-container",32),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngForOf",t.listPassengers)}}function $i(n,r){1&n&&(e.TgZ(0,"div",38)(1,"div",23)(2,"div",24),e._UZ(3,"cf-icon",25),e.TgZ(4,"div"),e._uU(5,"\u0110\u1ed1i v\u1edbi VietJet Air, h\u1ecd t\xean ch\u1ec9 \u0111\u01b0\u1ee3c s\u1eeda t\u1ed1i \u0111a 2 k\xfd t\u1ef1 (bao g\u1ed3m kho\u1ea3ng tr\u1eafng) v\xe0 mi\u1ec5n ph\xed l\u1ea7n \u0111\u1ea7u. Vui l\xf2ng ki\u1ec3m tra k\u1ef9 tr\u01b0\u1edbc khi b\u1ea5m X\xe1c nh\u1eadn"),e.qZA()()()())}function Xi(n,r){1&n&&(e.TgZ(0,"div",39),e._uU(1," Th\xf4ng tin h\xe0nh kh\xe1ch "),e.qZA())}function Wi(n,r){if(1&n&&e._UZ(0,"cf-input-hint",54),2&n){const t=e.oxw(2);e.Q6J("hint",t.errorMessage.gender)}}function eo(n,r){if(1&n&&e._UZ(0,"cf-input-hint",54),2&n){const t=e.oxw(2);e.Q6J("hint",t.errorMessage.lastName)}}function to(n,r){if(1&n&&e._UZ(0,"cf-input-hint",54),2&n){const t=e.oxw(2);e.Q6J("hint",t.errorMessage.firstName)}}function no(n,r){if(1&n&&e._UZ(0,"cf-input-hint",54),2&n){const t=e.oxw(2);e.Q6J("hint",t.errorMessage.birthday)}}function io(n,r){if(1&n&&e._UZ(0,"cf-input-hint",54),2&n){const t=e.oxw(2);e.Q6J("hint",t.errorMessage.DoBChild)}}function oo(n,r){if(1&n&&e._UZ(0,"cf-input-hint",54),2&n){const t=e.oxw(2);e.Q6J("hint",t.errorMessage.DoBChildUnder)}}function ro(n,r){if(1&n&&e._UZ(0,"cf-input-hint",54),2&n){const t=e.oxw(2);e.Q6J("hint",t.errorMessage.DoBChildUpper)}}function ao(n,r){if(1&n&&e._UZ(0,"cf-input-hint",54),2&n){const t=e.oxw(2);e.Q6J("hint",t.errorMessage.DoBAdult)}}function so(n,r){if(1&n&&e._UZ(0,"cf-input-hint",54),2&n){const t=e.oxw(2);e.Q6J("hint",t.errorMessage.DoBInfant)}}function uo(n,r){1&n&&e._UZ(0,"cf-input-hint",54),2&n&&e.Q6J("hint","Ng\xe0y ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/MM/yyyy")}function lo(n,r){if(1&n&&(e.TgZ(0,"div",55)(1,"label",56),e._uU(2,"Thu\u1ed9c h\xe0nh kh\xe1ch ng\u01b0\u1eddi l\u1edbn"),e.qZA(),e.TgZ(3,"div",57)(4,"div"),e._uU(5),e.qZA(),e._UZ(6,"cf-icon",58),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(4),e.hij(" ",t.selectedPax.parentName," ")}}function co(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",40)(1,"div",41)(2,"div",27)(3,"cf-select",42)(4,"label",43),e._uU(5,"Gi\u1edbi t\xednh"),e.qZA(),e.YNc(6,Wi,1,1,"cf-input-hint",44),e.qZA()(),e.TgZ(7,"div",27)(8,"cf-input-group",45)(9,"label",46)(10,"span",47),e._uU(11,"H\u1ecd"),e.qZA()(),e.TgZ(12,"input",48),e.NdJ("blur",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onBlurInput(o,a.formGroup,"lastName"))}),e.qZA(),e.YNc(13,eo,1,1,"cf-input-hint",44),e.qZA()(),e.TgZ(14,"div",27)(15,"cf-input-group",45)(16,"label",46)(17,"span",47),e._uU(18,"T\xean \u0111\u1ec7m v\xe0 T\xean"),e.qZA()(),e.TgZ(19,"input",49),e.NdJ("blur",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onBlurInput(o,a.formGroup,"firstName"))}),e.qZA(),e.YNc(20,to,1,1,"cf-input-hint",44),e.qZA()(),e.TgZ(21,"div",27)(22,"cf-input-group",45),e._UZ(23,"cf-icon",50),e.TgZ(24,"label",46)(25,"span",47),e._uU(26,"Ng\xe0y sinh"),e.qZA(),e._uU(27,"\xa0 "),e.qZA(),e.TgZ(28,"input",51,52),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(29);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(29);return e.KtG(o.close())})("input",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.validateBirthday(o))}),e.qZA(),e.YNc(30,no,1,1,"cf-input-hint",44),e.YNc(31,io,1,1,"cf-input-hint",44),e.YNc(32,oo,1,1,"cf-input-hint",44),e.YNc(33,ro,1,1,"cf-input-hint",44),e.YNc(34,ao,1,1,"cf-input-hint",44),e.YNc(35,so,1,1,"cf-input-hint",44),e.YNc(36,uo,1,1,"cf-input-hint",44),e.qZA()(),e.YNc(37,lo,7,2,"div",53),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("status",t.formGroup.controls.gender.invalid&&(t.formGroup.controls.gender.dirty||t.formGroup.controls.gender.touched)?"error":"default")("data",t.optionsGender)("allowSearch",!1)("formControl",t.formGroup.controls.gender),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("ngIf",t.formGroup.controls.gender.hasError("required")&&(t.formGroup.controls.gender.touched||t.formGroup.controls.gender.dirty)),e.xp6(2),e.Q6J("status",t.formGroup.controls.lastName.invalid&&(t.formGroup.controls.lastName.dirty||t.formGroup.controls.lastName.touched)?"error":"default")("status","default"),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",t.formGroup.controls.lastName),e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.lastName.hasError("required")&&(t.formGroup.controls.lastName.touched||t.formGroup.controls.lastName.dirty)),e.xp6(2),e.Q6J("status",t.formGroup.controls.firstName.invalid&&(t.formGroup.controls.firstName.dirty||t.formGroup.controls.firstName.touched)?"error":"default")("status","default"),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",t.formGroup.controls.firstName),e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.firstName.hasError("required")&&(t.formGroup.controls.firstName.touched||t.formGroup.controls.firstName.dirty)),e.xp6(2),e.Q6J("status",t.formGroup.controls.birthday.invalid&&(t.formGroup.controls.birthday.dirty||t.formGroup.controls.birthday.touched)?"error":"default")("status","default"),e.xp6(3),e.Q6J("CfRequired",!0),e.xp6(3),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("formControl",t.formGroup.controls.birthday),e.xp6(2),e.Q6J("ngIf",t.formGroup.controls.birthday.hasError("required")&&(t.formGroup.controls.birthday.touched||t.formGroup.controls.birthday.dirty)),e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.birthday.hasError("DoBChild")&&t.formGroup.controls.birthday.touched),e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.birthday.hasError("DoBChildUnder")&&t.formGroup.controls.birthday.touched),e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.birthday.hasError("DoBChildUpper")&&t.formGroup.controls.birthday.touched),e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.birthday.hasError("DoBAdult")&&t.formGroup.controls.birthday.touched),e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.birthday.hasError("DoBInfant")&&t.formGroup.controls.birthday.touched),e.xp6(1),e.Q6J("ngIf",(null==t.formGroup.controls.birthday.errors||null==t.formGroup.controls.birthday.errors.ngbDate?null:t.formGroup.controls.birthday.errors.ngbDate.invalid)&&(t.formGroup.controls.birthday.dirty||t.formGroup.controls.birthday.touched)),e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.parent.value)}}function po(n,r){1&n&&e._UZ(0,"cf-icon",59)}function _o(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1," Ti\u1ebfp t\u1ee5c "),e.qZA())}function go(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1," X\xe1c nh\u1eadn "),e.qZA())}function fo(n,r){1&n&&e._UZ(0,"cf-icon",60)}function mo(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",62)(2,"div")(3,"cf-radio",35),e.NdJ("checkChange",function(){const a=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.checkedChange(a))}),e.qZA()(),e.TgZ(4,"div",63)(5,"div",64)(6,"div",65),e._uU(7,"T\xean kh\xe1ch"),e.qZA(),e.TgZ(8,"div",66),e._uU(9),e.qZA()(),e.TgZ(10,"div",64)(11,"div",65),e._uU(12,"Lo\u1ea1i kh\xe1ch"),e.qZA(),e.TgZ(13,"div",66),e._uU(14),e.qZA()()()(),e.BQk()}if(2&n){const t=r.$implicit;e.xp6(3),e.Q6J("checked",t.selected),e.xp6(6),e.Oqu(t.name),e.xp6(5),e.Oqu(t.type)}}function ho(n,r){if(1&n&&(e.TgZ(0,"div",61)(1,"div",23)(2,"div",24),e._UZ(3,"cf-icon",25),e.TgZ(4,"div"),e._uU(5,"\u0110\u1ed1i v\u1edbi VietJet Air, ch\u1ec9 c\xf3 th\u1ec3 thao t\xe1c tr\xean m\u1ed9t kh\xe1ch m\u1ed7i l\u1ea7n ch\u1ec9nh s\u1eeda th\xf4ng tin"),e.qZA()()(),e.TgZ(6,"div",40),e.YNc(7,mo,15,3,"ng-container",32),e.qZA()()),2&n){const t=e.oxw();e.xp6(7),e.Q6J("ngForOf",t.listPassengers)}}function xo(n,r){if(1&n&&e._UZ(0,"cf-input-hint",54),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.gender)}}function vo(n,r){if(1&n&&e._UZ(0,"cf-input-hint",54),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.lastName)}}function Co(n,r){if(1&n&&e._UZ(0,"cf-input-hint",54),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.firstName)}}function bo(n,r){if(1&n&&e._UZ(0,"cf-input-hint",54),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.birthday)}}function yo(n,r){if(1&n&&e._UZ(0,"cf-input-hint",54),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.DoBChild)}}function Eo(n,r){if(1&n&&e._UZ(0,"cf-input-hint",54),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.DoBChildUnder)}}function Zo(n,r){if(1&n&&e._UZ(0,"cf-input-hint",54),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.DoBChildUpper)}}function To(n,r){if(1&n&&e._UZ(0,"cf-input-hint",54),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.DoBAdult)}}function Do(n,r){if(1&n&&e._UZ(0,"cf-input-hint",54),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.DoBInfant)}}function Ao(n,r){if(1&n&&(e.TgZ(0,"div",55)(1,"label",56),e._uU(2,"Thu\u1ed9c h\xe0nh kh\xe1ch ng\u01b0\u1eddi l\u1edbn"),e.qZA(),e.TgZ(3,"div",57)(4,"div"),e._uU(5),e.qZA(),e._UZ(6,"cf-icon",58),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(4),e.hij(" ",t.selectedPax.parentName," ")}}function ko(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",40)(1,"div",41)(2,"div",27)(3,"cf-select",42)(4,"label",43),e._uU(5,"Gi\u1edbi t\xednh"),e.qZA(),e.YNc(6,xo,1,1,"cf-input-hint",44),e.qZA()(),e.TgZ(7,"div",27)(8,"cf-input-group",45)(9,"label",46)(10,"span",47),e._uU(11,"H\u1ecd"),e.qZA()(),e.TgZ(12,"input",48),e.NdJ("blur",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onBlurInput(o,a.formGroup,"lastName"))}),e.qZA(),e.YNc(13,vo,1,1,"cf-input-hint",44),e.qZA()(),e.TgZ(14,"div",27)(15,"cf-input-group",45)(16,"label",46)(17,"span",47),e._uU(18,"T\xean \u0111\u1ec7m v\xe0 T\xean"),e.qZA()(),e.TgZ(19,"input",49),e.NdJ("blur",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onBlurInput(o,a.formGroup,"firstName"))}),e.qZA(),e.YNc(20,Co,1,1,"cf-input-hint",44),e.qZA()(),e.TgZ(21,"div",27)(22,"cf-input-group",45),e._UZ(23,"cf-icon",50),e.TgZ(24,"label",46)(25,"span",47),e._uU(26,"Ng\xe0y sinh"),e.qZA(),e._uU(27,"\xa0 "),e.qZA(),e.TgZ(28,"input",51,52),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(29);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(29);return e.KtG(o.close())})("input",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.validateBirthday(o))}),e.qZA(),e.YNc(30,bo,1,1,"cf-input-hint",44),e.YNc(31,yo,1,1,"cf-input-hint",44),e.YNc(32,Eo,1,1,"cf-input-hint",44),e.YNc(33,Zo,1,1,"cf-input-hint",44),e.YNc(34,To,1,1,"cf-input-hint",44),e.YNc(35,Do,1,1,"cf-input-hint",44),e.qZA()(),e.YNc(36,Ao,7,2,"div",53),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("status",t.formGroup.controls.gender.invalid&&(t.formGroup.controls.gender.dirty||t.formGroup.controls.gender.touched)?"error":"default")("data",t.optionsGender)("allowSearch",!1)("formControl",t.formGroup.controls.gender),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("ngIf",t.formGroup.controls.gender.hasError("required")&&(t.formGroup.controls.gender.touched||t.formGroup.controls.gender.dirty)),e.xp6(2),e.Q6J("status",t.formGroup.controls.lastName.invalid&&(t.formGroup.controls.lastName.dirty||t.formGroup.controls.lastName.touched)?"error":"default")("status","default"),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",t.formGroup.controls.lastName),e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.lastName.hasError("required")&&(t.formGroup.controls.lastName.touched||t.formGroup.controls.lastName.dirty)),e.xp6(2),e.Q6J("status",t.formGroup.controls.firstName.invalid&&(t.formGroup.controls.firstName.dirty||t.formGroup.controls.firstName.touched)?"error":"default")("status","default"),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",t.formGroup.controls.firstName),e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.firstName.hasError("required")&&(t.formGroup.controls.firstName.touched||t.formGroup.controls.firstName.dirty)),e.xp6(2),e.Q6J("status",t.formGroup.controls.birthday.invalid&&(t.formGroup.controls.birthday.dirty||t.formGroup.controls.birthday.touched)?"error":"default")("status","default"),e.xp6(3),e.Q6J("CfRequired",!0),e.xp6(3),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("formControl",t.formGroup.controls.birthday),e.xp6(2),e.Q6J("ngIf",t.formGroup.controls.birthday.hasError("required")&&(t.formGroup.controls.birthday.touched||t.formGroup.controls.birthday.dirty)),e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.birthday.hasError("DoBChild")&&t.formGroup.controls.birthday.touched),e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.birthday.hasError("DoBChildUnder")&&t.formGroup.controls.birthday.touched),e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.birthday.hasError("DoBChildUpper")&&t.formGroup.controls.birthday.touched),e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.birthday.hasError("DoBAdult")&&t.formGroup.controls.birthday.touched),e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.birthday.hasError("DoBInfant")&&t.formGroup.controls.birthday.touched),e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.parent.value)}}function Io(n,r){if(1&n&&(e.TgZ(0,"div",67)(1,"div",23)(2,"div",24),e._UZ(3,"cf-icon",25),e.TgZ(4,"div"),e._uU(5,"\u0110\u1ed1i v\u1edbi VietJet Air, h\u1ecd t\xean ch\u1ec9 \u0111\u01b0\u1ee3c s\u1eeda t\u1ed1i \u0111a 2 k\xfd t\u1ef1 (bao g\u1ed3m kho\u1ea3ng tr\u1eafng) v\xe0 mi\u1ec5n ph\xed l\u1ea7n \u0111\u1ea7u. Vui l\xf2ng ki\u1ec3m tra k\u1ef9 tr\u01b0\u1edbc khi b\u1ea5m X\xe1c nh\u1eadn"),e.qZA()()(),e.TgZ(6,"div",68),e.YNc(7,ko,37,29,"div",9),e.qZA()()),2&n){const t=e.oxw();e.xp6(7),e.Q6J("ngIf","PAX_EDIT"==t.screenState)}}function No(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1," Ti\u1ebfp t\u1ee5c "),e.qZA())}function Uo(n,r){1&n&&e._UZ(0,"cf-icon",69)}function qo(n,r){1&n&&e._UZ(0,"cf-icon",59)}function wo(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1," X\xe1c nh\u1eadn "),e.qZA())}function Bo(n,r){1&n&&e._UZ(0,"cf-icon",60)}let Po=(()=>{class n{constructor(t,i,o,a,l,d,x,b){var g;this._modal=i,this.ref=o,this.bottomSheetData=a,this.bottomSheetRef=l,this._bottomSheetService=d,this._manageBookingService=x,this.fb=b,this.screenState="PAX_SELECT",this.optionsGender=[{name:"Nam",code:"MALE"},{name:"N\u1eef",code:"FEMALE"}],this.optionsParent=[],this.errorMessage={lastName:"H\u1ecd kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",firstName:"T\xean \u0111\u1ec7m v\xe0 T\xean kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",birthday:"Ng\xe0y sinh kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",DoBChild:"Ng\xe0y sinh kh\xf4ng h\u1ee3p l\u1ec7",DoBChildUnder:"Ng\xe0y sinh ph\u1ea3i t\u1eeb ng\xe0y {0} tr\u1edf v\u1ec1 tr\u01b0\u1edbc",DoBChildUpper:"Ng\xe0y sinh ph\u1ea3i t\u1eeb ng\xe0y {0} tr\u1edf v\u1ec1 sau",DoBInfant:"Ng\xe0y sinh ph\u1ea3i t\u1eeb ng\xe0y {0}",gender:"Gi\u1edbi t\xednh kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",email:"Email kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",emailFormat:"\u0110\u1ecbnh d\u1ea1ng kh\xf4ng h\u1ee3p l\u1ec7",phone:"Sdt kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",phoneBlacklisted:"Vui l\xf2ng nh\u1eadp sdt kh\xe1ch h\xe0ng, kh\xf4ng nh\u1eadp sdt c\u1ee7a \u0111\u1ea1i l\xfd",parentIndex:"Ng\u01b0\u1eddi l\u1edbn \u0111i k\xe8m kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",areaCode:"M\xe3 v\xf9ng kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",minlengthPhone:"\u0110i\u1ec7n tho\u1ea1i di \u0111\u1ed9ng t\u1ed1i thi\u1ec3u 7 s\u1ed1",maxlengthPhone:"\u0110i\u1ec7n tho\u1ea1i di \u0111\u1ed9ng t\u1ed1i \u0111a 11 s\u1ed1",agentId:"\u0110\u1ea1i l\xfd kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",ParentInfantDupplicate:"M\u1ed7i ng\u01b0\u1eddi l\u1edbn ch\u1ec9 c\xf3 t\u1ed1i \u0111a 1 em b\xe9 ph\u1ee5 thu\u1ed9c",DoBAdult:"Ng\u01b0\u1eddi l\u1edbn ph\u1ea3i l\u1edbn h\u01a1n 12 tu\u1ed5i"},this.isLoadingNextButton=!1,t.registerIcons([p.UNF,p.gW0,p.PcQ,p.$S]),o&&(this.listPassengers=o.data.listPassengers,this.bookingDetail=o.data.bookingDetail),a&&(this.listPassengers=a.listPassengers,this.bookingDetail=a.bookingDetail);let A=G(this.bookingDetail.journeys[0].startTime).toDate().getTime(),Z=(0,Fe.Z)(A,-2);Z=(0,st.Z)(Z,-1),G(null===(g=this.bookingDetail.journeys[0].startTime)||void 0===g?void 0:g.getTime()).toDate();let I=(0,Fe.Z)(A,-11),B=(0,Fe.Z)(A,-2);B=(0,st.Z)(B,1),this.errorMessage.DoBChildUnder=this.errorMessage.DoBChildUnder.replace("{0}",(0,m.p6)(Z,"dd/MM/yyyy","vi-VN")),this.errorMessage.DoBChildUpper=this.errorMessage.DoBChildUpper.replace("{0}",(0,m.p6)(I,"dd/MM/yyyy","vi-VN")),this.errorMessage.DoBInfant=this.errorMessage.DoBInfant.replace("{0}",(0,m.p6)(B,"dd/MM/yyyy","vi-VN"))}ngOnInit(){let t=this.listPassengers.filter(i=>i.selected)[0];t&&(this.selectedPax=t),t.parentName&&t.parentKey&&(this.optionsParent=[{name:t.parentName,code:t.parentKey}])}close(){this.ref&&this.ref.close(!1),this.bottomSheetRef&&this.bottomSheetRef.dismiss(!1)}validateBirthday(t){console.log(t.target.value),""==t.target.value&&this.formGroup.controls.birthday.setErrors({required:!0})}ok(){var t,i,o;if("PAX_SELECT"==this.screenState)switch(this.screenState="PAX_EDIT",this.selectedPax.type){case"ADT":this.formGroup=this.fb.group({firstName:[this.selectedPax.firstName,[v.kI.required]],lastName:[this.selectedPax.lastName,[v.kI.required]],gender:[this.selectedPax.gender,[v.kI.required]],birthday:[new Date(this.selectedPax.dayOfBirth),[v.kI.required]],parent:[this.selectedPax.parentKey]},{validator:[(0,se.Ab)("birthday"),(0,se.fJ)("birthday",null===(t=this.bookingDetail.journeys[0].startTime)||void 0===t?void 0:t.getTime())]});break;case"CHD":this.formGroup=this.fb.group({firstName:[this.selectedPax.firstName,[v.kI.required]],lastName:[this.selectedPax.lastName,[v.kI.required]],gender:[this.selectedPax.gender,[v.kI.required]],birthday:[new Date(this.selectedPax.dayOfBirth)],parent:[this.selectedPax.parentKey]},{validator:(0,se.$K)("birthday",null===(i=this.bookingDetail.journeys[0].startTime)||void 0===i?void 0:i.getTime())});break;case"INF":this.formGroup=this.fb.group({firstName:[this.selectedPax.firstName,[v.kI.required]],lastName:[this.selectedPax.lastName,[v.kI.required]],gender:[this.selectedPax.gender,[v.kI.required]],birthday:[new Date(this.selectedPax.dayOfBirth)],parent:[this.selectedPax.parentKey]},{validator:(0,se.DW)("birthday",null===(o=this.bookingDetail.journeys[0].startTime)||void 0===o?void 0:o.getTime())})}else if("PAX_EDIT"==this.screenState){let a="";switch(this.selectedPax.type){case"ADT":a="ADULT";break;case"CHD":a="CHILD";break;case"INF":a="INFANT"}let l={bookingCode:this.bookingDetail.bookingCode,airline:this.bookingDetail.airline,updatePassengerInfo:{birthDay:G(this.formGroup.value.birthday).format("YYYY-MM-DD"),firstName:this.formGroup.value.firstName,gender:this.formGroup.value.gender,key:this.selectedPax.key,lastName:this.formGroup.value.lastName,parentKey:this.formGroup.value.parent,type:a}};this.isLoadingNextButton=!0,this._manageBookingService.updatePaxInfo(l).subscribe({next:d=>{this.isLoadingNextButton=!1,"FAILED"==d.status?(this.ref&&this.ref.close({type:"FAILED",data:d.objectError}),this.bottomSheetData&&this.bottomSheetRef.dismiss({type:"FAILED",data:d.objectError})):(this.ref&&this.ref.close({type:"OK",data:""}),this.bottomSheetData&&this.bottomSheetRef.dismiss({type:"OK",data:""}))},error:d=>{this.isLoadingNextButton=!1}})}}onBlurInput(t,i,o){var a;const l=this.unicodeAndUppercase(t.target.value);null===(a=i.get(o))||void 0===a||a.setValue(l)}unicodeAndUppercase(t){return t=t.replace(/ +(?= )/g,""),(0,Zn.E)(t.trim()).toUpperCase()}checkedChange(t){t.selected=!0,t.parentName&&t.parentKey&&(this.optionsParent=[{name:t.parentName,code:t.parentKey}]),this.selectedPax=t,this.listPassengers.filter(i=>i.key!=t.key).forEach(i=>i.selected=!1)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.KNP),e.Y36(S.oE),e.Y36(S.gb,8),e.Y36(U.Rr,8),e.Y36(U.Zu,8),e.Y36(U.a2),e.Y36(Se.fB),e.Y36(v.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-update-pax-info"]],standalone:!0,features:[e.jDz],decls:31,vars:20,consts:[[1,"w-[748px]","max-h-[600px]","overflow-hidden","rounded-lg","bg-neutral-white","flex","flex-col","md:hidden"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-b-neutral-gray-1","md:hidden"],["class","text-heading-xs text-neutral-black",4,"ngIf"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],["class","flex px-6 pt-6 mb-6 w-full",4,"ngIf"],["class","px-6 flex flex-col gap-y-6 flex-1 overflow-auto",4,"ngIf"],["class","flex px-6 pt-6 w-full",4,"ngIf"],[1,"flex","flex-col","p-6"],["class","mb-4 text-heading-xs text-black md:hidden",4,"ngIf"],["class","flex flex-col gap-y-4",4,"ngIf"],[1,"p-6","flex","gap-x-4","justify-end"],["cf-button","","size","medium","type","secondary",1,"min-w-[100px]","justify-center",3,"click"],["cf-button","","size","medium","color","primary-1",1,"min-w-[100px]","justify-center",3,"disabled","click"],["class","mr-2.5","icon","circle_check","size","small",4,"ngIf"],[4,"ngIf"],["class","text-neutral-white ml-2.5 animate-spin","icon","refresh","size","small",4,"ngIf"],[1,"hidden","h-full","md:flex","flex-col","justify-between","overflow-hidden","w-screen"],["class","flex-1 bg-neutral-gray-1 p-4 flex flex-col gap-y-4 w-full h-full overflow-y-auto",4,"ngIf"],["class","hidden md:flex p-4 bg-neutral-gray-1 h-full flex-col space-y-4",4,"ngIf"],[1,"px-6","py-4","flex","gap-x-4","justify-end"],["class","ml-2.5","icon","chevron_right","size","small",4,"ngIf"],[1,"text-heading-xs","text-neutral-black"],[1,"flex","px-6","pt-6","mb-6","w-full"],[1,"px-3","py-1.5","bg-functional-1-1","rounded","w-full"],[1,"text-body-md-short","flex","items-center","gap-x-2"],["icon","info","size","small",1,"text-functional-1-3"],[1,"px-6","flex","flex-col","gap-y-6","flex-1","overflow-auto"],[1,""],[1,"table-auto","w-full"],[1,"sticky","top-0","bg-white"],[1,"border-b","border-neutral-gray-1"],[1,"text-left","text-espressive-sm","text-neutral-gray-4","pb-3"],[4,"ngFor","ngForOf"],[1,"pt-4"],[1,"flex","justify-center","items-center"],["size","medium",3,"checked","checkChange"],[1,"text-body-md","text-neutral-black","pt-4","uppercase"],[1,"text-body-md","text-neutral-black","pt-4"],[1,"flex","px-6","pt-6","w-full"],[1,"mb-4","text-heading-xs","text-black","md:hidden"],[1,"flex","flex-col","gap-y-4"],[1,"grid","grid-cols-3","gap-4","md:grid-cols-1"],["textField","name","valueField","code","placeholder","Ch\u1ecdn gi\u1edbi t\xednh",1,"md:w-full","md:max-w-none",3,"status","data","allowSearch","formControl"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5",3,"CfRequired"],["cfHint","",3,"hint",4,"ngIf"],[1,"grow-[400]","!w-full",3,"status"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5"],[3,"CfRequired"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp h\u1ecd",3,"formControl","blur"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp t\xean \u0111\u1ec7m v\xe0 t\xean",3,"formControl","blur"],["cfHeadIcon","","icon","calendar","size","small"],["autocomplete","off","cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Nh\u1eadp ng\xe0y sinh",1,"py-[7px]",3,"secondaryCalendar","displayMonths","formControl","input","dateSelect"],["dateFrom","cfDatepicker"],["class","flex flex-col w-full",4,"ngIf"],["cfHint","",3,"hint"],[1,"flex","flex-col","w-full"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5","mt-1",3,"CfRequired"],[1,"flex","py-2","px-3","rounded","border","border-neutral-gray-2","bg-neutral-gray-1","text-body-md","justify-between","items-center"],["icon","down"],["icon","circle_check","size","small",1,"mr-2.5"],["icon","refresh","size","small",1,"text-neutral-white","ml-2.5","animate-spin"],[1,"flex-1","bg-neutral-gray-1","p-4","flex","flex-col","gap-y-4","w-full","h-full","overflow-y-auto"],[1,"p-3","rounded-lg","bg-neutral-white","flex","gap-x-4","items-center"],[1,"flex-1","flex","flex-col","gap-y-3"],[1,"flex","justify-between"],[1,"w-[104px]","text-body-sm","text-neutral-gray-4"],[1,"flex-1","text-express-md","text-neutral-gray-6"],[1,"hidden","md:flex","p-4","bg-neutral-gray-1","h-full","flex-col","space-y-4"],[1,"flex","flex-col","p-4","w-full","bg-white","h-fit","rounded-lg"],["icon","chevron_right","size","small",1,"ml-2.5"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Li,2,0,"div",2),e.YNc(3,Hi,2,0,"div",2),e.TgZ(4,"cf-icon",3),e.NdJ("click",function(){return i.close()}),e.qZA()(),e.YNc(5,Vi,6,0,"div",4),e.YNc(6,Ki,12,1,"div",5),e.YNc(7,$i,6,0,"div",6),e.TgZ(8,"div",7),e.YNc(9,Xi,2,0,"div",8),e.YNc(10,co,38,30,"div",9),e.qZA(),e.TgZ(11,"div",10)(12,"button",11),e.NdJ("click",function(){return i.close()}),e._uU(13," \u0110\xf3ng "),e.qZA(),e.TgZ(14,"button",12),e.NdJ("click",function(){return i.ok()}),e.YNc(15,po,1,0,"cf-icon",13),e.YNc(16,_o,2,0,"span",14),e.YNc(17,go,2,0,"span",14),e.YNc(18,fo,1,0,"cf-icon",15),e.qZA()()(),e.TgZ(19,"div",16),e.YNc(20,ho,8,1,"div",17),e.YNc(21,Io,8,1,"div",18),e.TgZ(22,"div",19)(23,"button",11),e.NdJ("click",function(){return i.close()}),e._uU(24," \u0110\xf3ng "),e.qZA(),e.TgZ(25,"button",12),e.NdJ("click",function(){return i.ok()}),e.YNc(26,No,2,0,"span",14),e.YNc(27,Uo,1,0,"cf-icon",20),e.YNc(28,qo,1,0,"cf-icon",13),e.YNc(29,wo,2,0,"span",14),e.YNc(30,Bo,1,0,"cf-icon",15),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("ngIf","PAX_SELECT"==i.screenState),e.xp6(1),e.Q6J("ngIf","PAX_EDIT"==i.screenState),e.xp6(2),e.Q6J("ngIf","PAX_SELECT"==i.screenState),e.xp6(1),e.Q6J("ngIf","PAX_SELECT"==i.screenState),e.xp6(1),e.Q6J("ngIf","PAX_EDIT"==i.screenState),e.xp6(2),e.Q6J("ngIf","PAX_EDIT"==i.screenState),e.xp6(1),e.Q6J("ngIf","PAX_EDIT"==i.screenState),e.xp6(4),e.Q6J("disabled",i.isLoadingNextButton||"PAX_EDIT"==i.screenState&&i.formGroup.invalid),e.xp6(1),e.Q6J("ngIf",!i.isLoadingNextButton),e.xp6(1),e.Q6J("ngIf","PAX_SELECT"==i.screenState),e.xp6(1),e.Q6J("ngIf","PAX_EDIT"==i.screenState),e.xp6(1),e.Q6J("ngIf",i.isLoadingNextButton),e.xp6(2),e.Q6J("ngIf","PAX_SELECT"==i.screenState),e.xp6(1),e.Q6J("ngIf","PAX_EDIT"==i.screenState),e.xp6(4),e.Q6J("disabled",i.isLoadingNextButton||"PAX_EDIT"==i.screenState&&i.formGroup.invalid),e.xp6(1),e.Q6J("ngIf","PAX_SELECT"==i.screenState),e.xp6(1),e.Q6J("ngIf","PAX_SELECT"==i.screenState&&!i.isLoadingNextButton),e.xp6(1),e.Q6J("ngIf","PAX_EDIT"==i.screenState&&!i.isLoadingNextButton),e.xp6(1),e.Q6J("ngIf","PAX_EDIT"==i.screenState),e.xp6(1),e.Q6J("ngIf",i.isLoadingNextButton))},dependencies:[m.ez,m.sg,m.O5,p.AxE,p.Sm8,E.N8,E.Xq,pe.o,U.DW,rt.q,v.u5,v.Fj,v.JJ,v.UX,v.oH,at.C,ee.j$,ee.ND,ee.BN,ee.v2,Pe.Cs],encapsulation:2}),n})();function Fo(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td",20),e._uU(2),e.qZA(),e.TgZ(3,"td",20),e._uU(4),e.qZA(),e.TgZ(5,"td",20),e._uU(6),e.qZA(),e.TgZ(7,"td",20),e._uU(8),e.qZA(),e.TgZ(9,"td",20),e._uU(10),e.qZA(),e.TgZ(11,"td",20),e._uU(12),e.qZA()()),2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.dateTime),e.xp6(2),e.Oqu(t.reservation),e.xp6(2),e.Oqu(t.user),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.Oqu(t.oldValue),e.xp6(2),e.Oqu(t.newValue)}}function Jo(n,r){if(1&n&&(e.TgZ(0,"div",21)(1,"div",22)(2,"div",23),e._uU(3,"Th\u1eddi gian"),e.qZA(),e.TgZ(4,"div",24),e._uU(5),e.qZA()(),e.TgZ(6,"div",22)(7,"div",23),e._uU(8,"M\xe3 \u0111\u1eb7t ch\u1ed7"),e.qZA(),e.TgZ(9,"div",24),e._uU(10),e.qZA()(),e.TgZ(11,"div",22)(12,"div",23),e._uU(13,"T\xe0i kho\u1ea3n"),e.qZA(),e.TgZ(14,"div",24),e._uU(15),e.qZA()(),e.TgZ(16,"div",22)(17,"div",23),e._uU(18,"M\xf4 t\u1ea3"),e.qZA(),e.TgZ(19,"div",24),e._uU(20),e.qZA()(),e.TgZ(21,"div",22)(22,"div",23),e._uU(23,"Gi\xe1 tr\u1ecb c\u0169"),e.qZA(),e.TgZ(24,"div",24),e._uU(25),e.qZA()(),e.TgZ(26,"div",22)(27,"div",23),e._uU(28,"Gi\xe1 tr\u1ecb m\u1edbi"),e.qZA(),e.TgZ(29,"div",24),e._uU(30),e.qZA()()()),2&n){const t=r.$implicit;e.xp6(5),e.Oqu(t.dateTime),e.xp6(5),e.Oqu(t.reservation),e.xp6(5),e.Oqu(t.user),e.xp6(5),e.Oqu(t.description),e.xp6(5),e.Oqu(t.oldValue),e.xp6(5),e.Oqu(t.newValue)}}let Qo=(()=>{class n{constructor(t,i,o,a,l,d,x,b,g,A){this.ref=t,this.bottomSheetData=i,this.bottomSheetRef=o,this._modal=l,this._locationDataService=d,this._mobileDetectService=x,this._bottomSheetService=b,this._bookingDetailService=g,this._detectMobileService=A,this.auditLogs=[],a.registerIcons([p.UNF,p.Hge,p.fXw,p.s5C,p.NNX,p.toh,p.$S]),t&&(this.auditLogs=t.data.auditLogs,this.pnr=t.data.pnr),i&&(this.auditLogs=i.auditLogs,this.pnr=i.pnr)}ngOnInit(){}onClose(){this.ref&&this.ref.close({type:"CANCLE"}),this.bottomSheetData&&this.bottomSheetRef.dismiss({type:"CANCLE"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(S.gb,8),e.Y36(U.Rr,8),e.Y36(U.Zu,8),e.Y36(p.KNP),e.Y36(S.oE),e.Y36(Ne._),e.Y36(le.L),e.Y36(U.a2),e.Y36(Xe.P3),e.Y36(le.L))},n.\u0275cmp=e.Xpm({type:n,selectors:[["audit-log"]],standalone:!0,features:[e.jDz],decls:40,vars:4,consts:[[1,"w-[1000px]","min-h-[250px]","max-h-[600px]","overflow-hidden","flex","flex-col","rounded-lg","bg-neutral-white","md:w-screen","md:bg-neutral-gray-1","md:max-h-none","md:h-full"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-b-neutral-gray-1","md:hidden"],[1,"text-heading-sm","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"overflow-auto","md:flex","md:flex-col","md:justify-between","md:h-full"],[1,"bg-white","rounded","md:p-0","md:bg-transparent","md:overflow-y-auto"],[1,"px-6","py-4","space-y-6","md:hidden"],[1,"flex","flex-col","space-y-2"],[1,"text-heading-sm"],[1,"text-body-sm","text-neutral-gray-4"],[1,"w-full","h-[340px]","block","overflow-y-scroll"],[1,"border-b","border-b-neutral-gray-1","sticky","top-0","bg-white"],[1,"p-3","text-express-sm","text-neutral-gray-4","text-left"],[4,"ngFor","ngForOf"],[1,"hidden","p-4","md:flex","md:flex-col","space-y-4","bg-white"],[1,"hidden","p-4","md:flex","md:flex-col","space-y-4"],["class","flex flex-col rounded-lg bg-neutral-white p-3 gap-y-2 ng-star-inserted",4,"ngFor","ngForOf"],[1,"flex","justify-end","gap-x-4","py-8","px-6","md:p-4","md:bg-neutral-white"],[1,"flex","items-end","space-x-2","whitespace-nowrap"],["cf-button","","type","secondary","size","medium",1,"md:w-full","md:justify-center",3,"click"],[1,"text-body-md-short","text-neutral-gray-6","p-3","align-top"],[1,"flex","flex-col","rounded-lg","bg-neutral-white","p-3","gap-y-2","ng-star-inserted"],[1,"flex","gap-x-5"],[1,"text-body-sm","text-neutral-gray-4","w-[104px]","shrink-0"],[1,"text-espressive-md","text-neutral-gray-6"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Ki\u1ec3m to\xe1n \u0111\u1eb7t ch\u1ed7"),e.qZA(),e.TgZ(4,"cf-icon",3),e.NdJ("click",function(){return i.onClose()}),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),e._uU(10),e.qZA(),e.TgZ(11,"div",9),e._uU(12,"T\u1ea5t c\u1ea3 t\xednh theo gi\u1edd \u0111\u1ecba ph\u01b0\u01a1ng"),e.qZA()(),e.TgZ(13,"table",10)(14,"tr",11)(15,"th",12),e._uU(16,"Th\u1eddi gian"),e.qZA(),e.TgZ(17,"th",12),e._uU(18,"M\xe3 \u0111\u1eb7t ch\u1ed7"),e.qZA(),e.TgZ(19,"th",12),e._uU(20,"T\xe0i kho\u1ea3n"),e.qZA(),e.TgZ(21,"th",12),e._uU(22,"M\xf4 t\u1ea3"),e.qZA(),e.TgZ(23,"th",12),e._uU(24,"Gi\xe1 tr\u1ecb c\u0169"),e.qZA(),e.TgZ(25,"th",12),e._uU(26,"Gi\xe1 tr\u1ecb m\u1edbi"),e.qZA()(),e.YNc(27,Fo,13,6,"tr",13),e.qZA()(),e.TgZ(28,"div",14)(29,"div",7)(30,"div",8),e._uU(31),e.qZA(),e.TgZ(32,"div",9),e._uU(33,"T\u1ea5t c\u1ea3 t\xednh theo gi\u1edd \u0111\u1ecba ph\u01b0\u01a1ng"),e.qZA()()(),e.TgZ(34,"div",15),e.YNc(35,Jo,31,6,"div",16),e.qZA()(),e.TgZ(36,"div",17)(37,"div",18)(38,"button",19),e.NdJ("click",function(){return i.onClose()}),e._uU(39," \u0110\xf3ng "),e.qZA()()()()()),2&t&&(e.xp6(10),e.hij("M\xe3 s\u1ed1 \u0111\u1eb7t ch\u1ed7: ",i.pnr,""),e.xp6(17),e.Q6J("ngForOf",i.auditLogs),e.xp6(4),e.hij("M\xe3 s\u1ed1 \u0111\u1eb7t ch\u1ed7: ",i.pnr,""),e.xp6(4),e.Q6J("ngForOf",i.auditLogs))},dependencies:[m.ez,m.sg,p.AxE,p.Sm8,U.DW,E.N8,E.Xq],encapsulation:2}),n})();var In=C(86938);function So(n,r){1&n&&(e.O4$(),e.kcU(),e.TgZ(0,"span"),e._uU(1,"Flychills d\u1ecbch"),e.qZA())}function Yo(n,r){1&n&&(e.O4$(),e.kcU(),e.TgZ(0,"span"),e._uU(1,"Hi\u1ec7n n\u1ed9i dung g\u1ed1c"),e.qZA())}function Mo(n,r){1&n&&(e.O4$(),e.kcU(),e._UZ(0,"cf-icon",27))}function Oo(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.translate())}),e.O4$(),e.TgZ(1,"svg",12)(2,"g",13),e._UZ(3,"path",14)(4,"path",15)(5,"path",16)(6,"path",17)(7,"path",18)(8,"path",19)(9,"path",20)(10,"path",21)(11,"path",22),e.qZA(),e.TgZ(12,"defs")(13,"clipPath",23),e._UZ(14,"rect",24),e.qZA()()(),e.YNc(15,So,2,0,"span",25),e.YNc(16,Yo,2,0,"span",25),e.YNc(17,Mo,1,0,"cf-icon",26),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("type","border")("disabled",t.translateLoading),e.xp6(15),e.Q6J("ngIf","ORIGIN"==t.translateMode),e.xp6(1),e.Q6J("ngIf","VI"==t.translateMode),e.xp6(1),e.Q6J("ngIf",t.translateLoading)}}function Ro(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"cf-icon",37),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw(3);return e.KtG(a.onChange(o))}),e.qZA()}}function jo(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"cf-icon",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw(3);return e.KtG(a.onChange(o))}),e.qZA()}}function Go(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.header)}}function Lo(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.headerVi)}}function Ho(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",39),e._uU(2),e.qZA(),e.BQk()),2&n){const t=r.$implicit;e.xp6(2),e.hij(" ",t," ")}}function Vo(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Ho,3,1,"ng-container",33),e.BQk()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngForOf",t.details)}}function zo(n,r){1&n&&e._UZ(0,"div",42)}function Ko(n,r){if(1&n&&(e.ynx(0),e.YNc(1,zo,1,0,"div",40),e.TgZ(2,"pre",41),e._uU(3),e.qZA(),e.BQk()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(2),e.Oqu(t.detailsVI)}}function $o(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Vo,2,1,"ng-container",25),e.YNc(2,Ko,4,2,"ng-container",25),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf","ORIGIN"==t.translateMode),e.xp6(1),e.Q6J("ngIf","VI"==t.translateMode)}}function Xo(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",34),e.YNc(2,Ro,1,0,"cf-icon",35),e.YNc(3,jo,1,0,"cf-icon",36),e.YNc(4,Go,2,1,"span",25),e.YNc(5,Lo,2,1,"span",25),e.qZA(),e.YNc(6,$o,3,2,"ng-container",25),e.BQk()),2&n){const t=r.$implicit,i=e.oxw(3);e.xp6(2),e.Q6J("ngIf",!t.isShowDetail),e.xp6(1),e.Q6J("ngIf",t.isShowDetail),e.xp6(1),e.Q6J("ngIf","ORIGIN"==i.translateMode),e.xp6(1),e.Q6J("ngIf","VI"==i.translateMode),e.xp6(1),e.Q6J("ngIf",t.isShowDetail)}}function Wo(n,r){if(1&n&&(e.TgZ(0,"div",28)(1,"div",30)(2,"div",31),e._uU(3),e.qZA()(),e.TgZ(4,"div",32),e.YNc(5,Xo,7,5,"ng-container",33),e.qZA()()),2&n){const t=r.$implicit;e.xp6(3),e.HOy(" ",t.departure," ",t.arrival," ",t.qualifier," Fare Basis ",t.fareBasic," "),e.xp6(2),e.Q6J("ngForOf",t.rules)}}function er(n,r){if(1&n&&(e.TgZ(0,"div",28),e.YNc(1,Wo,6,5,"div",29),e.qZA()),2&n){const t=e.oxw();e.ekj("-mt-[38px]",t.isPermissionTranslate),e.xp6(1),e.Q6J("ngForOf",t.fareRuleBspDisplay)}}function tr(n,r){1&n&&(e.TgZ(0,"div",43),e._uU(1,"Li\xean h\u1ec7 booker \u0111\u1ec3 bi\u1ebft th\xf4ng tin ch\xednh x\xe1c"),e.qZA())}let nr=(()=>{class n{constructor(t,i,o,a,l,d){this.ref=t,this.bottomSheetData=i,this.bottomSheetRef=o,this._aiService=l,this._permissionService=d,this.translateLoading=!1,this.isTranslateTitle=!1,this.headerViMap=new Map,this.translateMode="ORIGIN",this.isPermissionTranslate=!1,a.registerIcons([p.UNF,p.kPk,p.mAV,p.$S]),this.isPermissionTranslate=this._permissionService.hasPermission(ue.or.CanTranslateFareRule),this.ref&&(this.fareRuleBsp=this.ref.data.fareRuleBsp),i&&(this.fareRuleBsp=this.bottomSheetData.fareRuleBsp),this.proccessFareRule()}ngOnChanges(t){t.fareRuleBsp&&this.proccessFareRule()}proccessFareRule(){this.fareRuleBsp&&(this.fareRuleBspDisplay=this.fareRuleBsp.map(t=>{var i;return Object.assign(Object.assign({},t),{qualifier:null!==(i=t.qualifier)&&void 0!==i?i:"ADT",rules:t.rules.map(o=>Object.assign(Object.assign({},o),{isShowDetail:!1,headerVi:"",detailsVI:"",isLoading:!1}))})}))}close(){this.ref&&this.ref.close(!1),this.bottomSheetRef&&this.bottomSheetRef.dismiss(!1)}onChange(t){t.isShowDetail=!t.isShowDetail,t.isShowDetail&&"VI"===this.translateMode&&""==t.detailsVI&&this.translateRule(t)}translate(){if("ORIGIN"===this.translateMode)if(1==this.isTranslateTitle)this.translateMode="VI";else{this.collapseAllDetais();let t=this.fareRuleBspDisplay.flatMap(i=>i.rules.map(o=>o.header));this.translateLoading=!0,this._aiService.getTranslateFareClassTitle(t).subscribe({next:i=>{console.log(i),i.forEach(o=>{this.headerViMap.set(o.original,o.vi)}),this.translateHeaders(),this.translateMode="VI",this.translateLoading=!1,this.isTranslateTitle=!0}})}else"VI"===this.translateMode&&(this.translateMode="ORIGIN")}collapseAllDetais(){for(let t=0;t<this.fareRuleBspDisplay.length;t++)for(let i=0;i<this.fareRuleBspDisplay[t].rules.length;i++)this.fareRuleBspDisplay[t].rules[i].isShowDetail=!1}translateHeaders(){for(let t=0;t<this.fareRuleBspDisplay.length;t++)for(let i=0;i<this.fareRuleBspDisplay[t].rules.length;i++)this.fareRuleBspDisplay[t].rules[i].headerVi=this.headerViMap.get(this.fareRuleBspDisplay[t].rules[i].header)}translateRule(t){if(t.isLoading=!0,""==t.detailsVI){let i=t.details.join("\n");this._aiService.translateFareClass(i).subscribe({next:o=>{t.isLoading=!1,console.log(o),t.detailsVI=o.replace(/\*\*(.*?)\*\*/g,"$1")},error:o=>{401==o&&this._aiService.checkToken().subscribe({next:a=>{this.translateRule(t)}})}})}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(S.gb,8),e.Y36(U.Rr,8),e.Y36(U.Zu,8),e.Y36(p.KNP),e.Y36(In.Y),e.Y36(ue.$A))},n.\u0275cmp=e.Xpm({type:n,selectors:[["fare-rule-modal"]],inputs:{fareRuleBsp:"fareRuleBsp",listFareRuleInternational:"listFareRuleInternational"},standalone:!0,features:[e.TTD,e.jDz],decls:13,vars:3,consts:[[1,"w-[748px]","max-h-[600px]","rounded-lg","bg-neutral-white","flex","flex-col","md:w-full","md:h-full"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-b-neutral-gray-1","md:hidden"],[1,"text-heading-xs","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"p-6","overflow-auto","flex","flex-col"],[1,"shrink-0","sticky","top-0","left-0","w-fit","self-end","bg-white"],["class","shrink-0 sticky top-0 left-0 w-fit self-end","cf-button","",3,"type","disabled","click",4,"ngIf"],["class","flex flex-col gap-y-4",3,"-mt-[38px]",4,"ngIf"],["class","text-espressive-sm",4,"ngIf"],[1,"p-6","flex","gap-x-4","justify-end","md:hidden"],["cf-button","","size","medium","color","primary-1",1,"w-[100px]","justify-center",3,"click"],["cf-button","",1,"shrink-0","sticky","top-0","left-0","w-fit","self-end",3,"type","disabled","click"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg",1,"mr-2"],["clip-path","url(#clip0_7719_8694)"],["d","M14.3333 2.66663H7.99997C7.96419 2.66663 7.92866 2.67225 7.89463 2.68328L7.81463 2.70994C7.63994 2.76806 7.54544 2.95678 7.60357 3.13144C7.60391 3.1325 7.60428 3.13353 7.60463 3.13459L10.9553 12.9259L8.74863 15.4473C8.6275 15.5859 8.64166 15.7965 8.78028 15.9176C8.8411 15.9708 8.91916 16 8.99994 15.9999H14.3333C15.2538 16 16 15.2538 16 14.3333V4.33331C16 3.41281 15.2538 2.66663 14.3333 2.66663Z","fill","#ECEFF1"],["d","M11.6365 12.862C11.5824 12.743 11.4638 12.6667 11.3332 12.6666H7.99985C7.81575 12.6666 7.6665 12.8159 7.6665 13C7.6665 13.04 7.67372 13.0798 7.68785 13.1173L8.68785 15.784C8.72913 15.8938 8.8251 15.9738 8.9405 15.9946C8.9601 15.998 8.97994 15.9998 8.99985 16C9.09594 15.9999 9.18729 15.9583 9.2505 15.886L11.5838 13.2193C11.67 13.1208 11.6906 12.9811 11.6365 12.862Z","fill","#D22216"],["d","M14.3335 7.33331H9.66684C9.48275 7.33331 9.3335 7.18406 9.3335 6.99997C9.3335 6.81588 9.48275 6.66663 9.66684 6.66663H14.3335C14.5176 6.66663 14.6668 6.81588 14.6668 6.99997C14.6668 7.18406 14.5176 7.33331 14.3335 7.33331Z","fill","#455A64"],["d","M11.6668 7.33334C11.4827 7.33334 11.3335 7.18409 11.3335 7V6.33334C11.3335 6.14925 11.4827 6 11.6668 6C11.8509 6 12.0002 6.14925 12.0002 6.33334V7C12.0002 7.18409 11.8509 7.33334 11.6668 7.33334Z","fill","#455A64"],["d","M10.667 11.3333C10.4829 11.3332 10.3338 11.1838 10.334 10.9997C10.3341 10.8921 10.3861 10.7912 10.4737 10.7287C11.9337 9.69131 13.0004 7.57663 13.0004 6.99997C13.0004 6.81588 13.1496 6.66663 13.3337 6.66663C13.5178 6.66663 13.667 6.81588 13.667 6.99997C13.667 7.87863 12.3824 10.1906 10.8604 11.2713C10.8039 11.3116 10.7364 11.3333 10.667 11.3333Z","fill","#455A64"],["d","M13.3335 12C13.2501 12.0001 13.1697 11.9689 13.1082 11.9126C12.8668 11.6913 10.7362 9.72327 10.3582 8.79196C10.2888 8.62131 10.3708 8.42671 10.5415 8.35731C10.7122 8.2879 10.9068 8.36999 10.9762 8.54065C11.2488 9.21265 12.9335 10.8473 13.5595 11.42C13.6957 11.5438 13.7058 11.7546 13.582 11.8909C13.5184 11.9608 13.428 12.0005 13.3335 12Z","fill","#455A64"],["d","M11.6487 12.892L7.31534 0.225344C7.26919 0.0905625 7.14247 0 7 0H1.66666C0.746188 0 0 0.746188 0 1.66666V11.6667C0 12.5871 0.746188 13.3333 1.66666 13.3333H11.3333C11.5174 13.3333 11.6666 13.1841 11.6666 13C11.6667 12.9633 11.6606 12.9268 11.6487 12.892Z","fill","#E03C31"],["d","M6.33327 9.33334C6.19233 9.33338 6.06661 9.24475 6.01926 9.112L4.66661 5.324L3.31395 9.112C3.24511 9.28275 3.05089 9.36535 2.88014 9.2965C2.71905 9.23156 2.63483 9.05378 2.68661 8.888L4.35327 4.22134C4.4348 4.04813 4.64133 3.97378 4.81455 4.05528C4.88751 4.08963 4.94623 4.14834 4.98061 4.22134L6.64726 8.888C6.70933 9.06084 6.61989 9.25134 6.44726 9.314C6.41064 9.32697 6.37208 9.3335 6.33327 9.33334Z","fill","#FAFAFA"],["d","M5.33319 7.33331H3.99985C3.81575 7.33331 3.6665 7.18406 3.6665 6.99997C3.6665 6.81588 3.81575 6.66663 3.99985 6.66663H5.33319C5.51729 6.66663 5.66654 6.81588 5.66654 6.99997C5.6665 7.18406 5.51729 7.33331 5.33319 7.33331Z","fill","#FAFAFA"],["id","clip0_7719_8694"],["width","16","height","16","fill","white"],[4,"ngIf"],["class","text-primary-1-4 ml-1 animate-spin","size","small","icon","refresh",4,"ngIf"],["size","small","icon","refresh",1,"text-primary-1-4","ml-1","animate-spin"],[1,"flex","flex-col","gap-y-4"],["class","flex flex-col gap-y-4",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","w-full"],[1,"text-heading-sm","text-neutral-gray-6"],[1,"flex","flex-col","gap-y-2"],[4,"ngFor","ngForOf"],[1,"text-body-md","flex","gap-x-2","items-center"],["class","text-neutral-gray-6 cursor-pointer","size","medium","icon","caret_right",3,"click",4,"ngIf"],["class","text-neutral-gray-6 cursor-pointer","size","medium","icon","caret_down",3,"click",4,"ngIf"],["size","medium","icon","caret_right",1,"text-neutral-gray-6","cursor-pointer",3,"click"],["size","medium","icon","caret_down",1,"text-neutral-gray-6","cursor-pointer",3,"click"],[1,"text-body-md","pl-12"],["class","w-full bg-neutral-gray-2 h-4 rounded-md animate-pulse",4,"ngIf"],[1,"text-body-md","pl-8","whitespace-pre-wrap"],[1,"w-full","bg-neutral-gray-2","h-4","rounded-md","animate-pulse"],[1,"text-espressive-sm"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"\u0110i\u1ec1u ki\u1ec7n gi\xe1 v\xe9"),e.qZA(),e.TgZ(4,"cf-icon",3),e.NdJ("click",function(){return i.close()}),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5),e.YNc(7,Oo,18,5,"button",6),e.qZA(),e.YNc(8,er,2,3,"div",7),e.YNc(9,tr,2,0,"div",8),e.qZA(),e.TgZ(10,"div",9)(11,"button",10),e.NdJ("click",function(){return i.close()}),e._uU(12," \u0110\xf3ng "),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("ngIf",i.fareRuleBspDisplay&&i.isPermissionTranslate),e.xp6(1),e.Q6J("ngIf",i.fareRuleBspDisplay),e.xp6(1),e.Q6J("ngIf",!i.fareRuleBspDisplay))},dependencies:[m.ez,m.sg,m.O5,p.AxE,p.Sm8,E.N8,E.Xq],encapsulation:2}),n})();var Nn=C(57716);function ir(n,r){1&n&&e._UZ(0,"div",31)}function or(n,r){1&n&&e._UZ(0,"cf-input-hint",32),2&n&&e.Q6J("hint","S\u1ed1 h\u1ed9 chi\u1ebfu kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function rr(n,r){1&n&&e._UZ(0,"cf-input-hint",32),2&n&&e.Q6J("hint","Qu\u1ed1c t\u1ecbch kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function ar(n,r){1&n&&e._UZ(0,"cf-input-hint",32),2&n&&e.Q6J("hint","Qu\u1ed1c gia kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function sr(n,r){1&n&&e._UZ(0,"cf-input-hint",33),2&n&&e.Q6J("hint","Ng\xe0y c\u1ea5p kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function ur(n,r){1&n&&e._UZ(0,"cf-input-hint",33),2&n&&e.Q6J("hint","Ng\xe0y c\u1ea5p h\u1ed9 chi\u1ebfu ph\u1ea3i tr\u01b0\u1edbc ng\xe0y h\u1ebft h\u1ea1n")}function lr(n,r){1&n&&e._UZ(0,"cf-input-hint",32),2&n&&e.Q6J("hint","Ng\xe0y h\u1ebft h\u1ea1n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function cr(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.YNc(1,ir,1,0,"div",9),e.TgZ(2,"div",10)(3,"div",11)(4,"cf-input-group",12)(5,"label",13),e._uU(6," Gi\u1edbi t\xednh "),e.qZA(),e._UZ(7,"input",14),e.qZA(),e.TgZ(8,"cf-input-group",12)(9,"label",13),e._uU(10," H\u1ecd "),e.qZA(),e._UZ(11,"input",14),e.qZA(),e.TgZ(12,"cf-input-group",12)(13,"label",13),e._uU(14," T\xean \u0111\u1ec7m v\xe0 T\xean "),e.qZA(),e._UZ(15,"input",14),e.qZA(),e.TgZ(16,"cf-input-group",12)(17,"label",13),e._uU(18," Ng\xe0y sinh "),e.qZA(),e._UZ(19,"input",14),e.qZA()(),e.TgZ(20,"div",15)(21,"div",16)(22,"cf-input-group",17)(23,"label",18),e._uU(24," S\u1ed1 h\u1ed9 chi\u1ebfu "),e.qZA(),e._UZ(25,"input",19),e.YNc(26,or,1,1,"cf-input-hint",20),e.qZA(),e.TgZ(27,"cf-select",21)(28,"label",18),e._uU(29," Qu\u1ed1c t\u1ecbch "),e.qZA(),e.YNc(30,rr,1,1,"cf-input-hint",20),e.qZA(),e.TgZ(31,"cf-select",22)(32,"label",18),e._uU(33," Qu\u1ed1c gia c\u1ea5p h\u1ed9 chi\u1ebfu "),e.qZA(),e.YNc(34,ar,1,1,"cf-input-hint",20),e.qZA(),e.TgZ(35,"div")(36,"cf-input-group",23),e._UZ(37,"cf-icon",24),e.TgZ(38,"label",18),e._uU(39," Ng\xe0y c\u1ea5p "),e.qZA(),e.TgZ(40,"input",25,26),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(41);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(41);return e.KtG(o.close())}),e.qZA(),e.YNc(42,sr,1,1,"cf-input-hint",27),e.YNc(43,ur,1,1,"cf-input-hint",27),e.qZA()(),e.TgZ(44,"div")(45,"cf-input-group",23),e._UZ(46,"cf-icon",24),e.TgZ(47,"label",18),e._uU(48," Ng\xe0y h\u1ebft h\u1ea1n "),e.qZA(),e.TgZ(49,"input",28,29),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(50);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(50);return e.KtG(o.close())}),e.qZA(),e.YNc(51,lr,1,1,"cf-input-hint",20),e.qZA(),e.TgZ(52,"div",30),e._uU(53,"C\xf2n h\u1ea1n tr\xean 6 th\xe1ng so v\u1edbi ng\xe0y k\u1ebft th\xfac h\xe0nh tr\xecnh"),e.qZA()()()()(),e.BQk()}if(2&n){const t=r.$implicit,i=r.index,o=e.oxw();e.xp6(1),e.Q6J("ngIf",i),e.xp6(3),e.Q6J("disabled",!0)("status","default"),e.xp6(3),e.Q6J("formControl",o.getFormControlInArray(t,"gender")),e.xp6(1),e.Q6J("disabled",!0)("status","default"),e.xp6(3),e.Q6J("formControl",o.getFormControlInArray(t,"lastName")),e.xp6(1),e.Q6J("disabled",!0)("status","default"),e.xp6(3),e.Q6J("formControl",o.getFormControlInArray(t,"firstName")),e.xp6(1),e.Q6J("disabled",!0)("status","default"),e.xp6(3),e.Q6J("formControl",o.getFormControlInArray(t,"birthday")),e.xp6(4),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",o.getFormControlInArray(t,"number")),e.xp6(1),e.Q6J("ngIf",t.controls.number.hasError("required")&&(t.controls.number.touched||t.controls.number.dirty)),e.xp6(1),e.Q6J("data",o.countryOption)("allowSearch",!0)("formControl",o.getFormControlInArray(t,"nationality")),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("ngIf",t.controls.nationality.hasError("required")&&(t.controls.nationality.touched||t.controls.nationality.dirty)),e.xp6(1),e.Q6J("data",o.countryOption)("allowSearch",!0)("formControl",o.getFormControlInArray(t,"issuanceCountry")),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("ngIf",t.controls.issuanceCountry.hasError("required")&&(t.controls.issuanceCountry.touched||t.controls.issuanceCountry.dirty)),e.xp6(2),e.Q6J("status",t.controls.issuanceDate.invalid&&(t.controls.issuanceDate.dirty||t.controls.issuanceDate.touched)?"error":"default"),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("maxDate",o.currentDate)("formControl",o.getFormControlInArray(t,"issuanceDate")),e.xp6(2),e.Q6J("ngIf",t.controls.issuanceDate.hasError("required")&&(t.controls.issuanceDate.touched||t.controls.issuanceDate.dirty)),e.xp6(1),e.Q6J("ngIf",t.controls.issuanceDate.hasError("issuanceDateInvalid")&&(t.controls.issuanceDate.touched||t.controls.issuanceDate.dirty)),e.xp6(2),e.Q6J("status","default"),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("minDate",o.currentDate)("formControl",o.getFormControlInArray(t,"expiryDate")),e.xp6(2),e.Q6J("ngIf",t.controls.expiryDate.hasError("required")&&(t.controls.expiryDate.touched||t.controls.expiryDate.dirty))}}function dr(n,r){1&n&&e._UZ(0,"cf-input-hint",32),2&n&&e.Q6J("hint","S\u1ed1 h\u1ed9 chi\u1ebfu kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function pr(n,r){1&n&&e._UZ(0,"cf-input-hint",32),2&n&&e.Q6J("hint","Qu\u1ed1c t\u1ecbch kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function _r(n,r){1&n&&e._UZ(0,"cf-input-hint",32),2&n&&e.Q6J("hint","Qu\u1ed1c gia kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function gr(n,r){1&n&&e._UZ(0,"cf-input-hint",33),2&n&&e.Q6J("hint","Ng\xe0y c\u1ea5p kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function fr(n,r){1&n&&e._UZ(0,"cf-input-hint",33),2&n&&e.Q6J("hint","Ng\xe0y c\u1ea5p h\u1ed9 chi\u1ebfu ph\u1ea3i tr\u01b0\u1edbc ng\xe0y h\u1ebft h\u1ea1n")}function mr(n,r){1&n&&e._UZ(0,"cf-input-hint",32),2&n&&e.Q6J("hint","Ng\xe0y h\u1ebft h\u1ea1n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function hr(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"div",31),e.TgZ(2,"div",10)(3,"div",11)(4,"cf-input-group",12)(5,"label",13),e._uU(6," Gi\u1edbi t\xednh "),e.qZA(),e._UZ(7,"input",14),e.qZA(),e.TgZ(8,"cf-input-group",12)(9,"label",13),e._uU(10," H\u1ecd "),e.qZA(),e._UZ(11,"input",14),e.qZA(),e.TgZ(12,"cf-input-group",12)(13,"label",13),e._uU(14," T\xean \u0111\u1ec7m v\xe0 T\xean "),e.qZA(),e._UZ(15,"input",14),e.qZA(),e.TgZ(16,"cf-input-group",12)(17,"label",13),e._uU(18," Ng\xe0y sinh "),e.qZA(),e._UZ(19,"input",14),e.qZA()(),e.TgZ(20,"div",15)(21,"div",16)(22,"cf-input-group",17)(23,"label",18),e._uU(24," S\u1ed1 h\u1ed9 chi\u1ebfu "),e.qZA(),e._UZ(25,"input",19),e.YNc(26,dr,1,1,"cf-input-hint",20),e.qZA(),e.TgZ(27,"cf-select",21)(28,"label",18),e._uU(29," Qu\u1ed1c t\u1ecbch "),e.qZA(),e.YNc(30,pr,1,1,"cf-input-hint",20),e.qZA(),e.TgZ(31,"cf-select",22)(32,"label",18),e._uU(33," Qu\u1ed1c gia c\u1ea5p h\u1ed9 chi\u1ebfu "),e.qZA(),e.YNc(34,_r,1,1,"cf-input-hint",20),e.qZA(),e.TgZ(35,"div")(36,"cf-input-group",23),e._UZ(37,"cf-icon",24),e.TgZ(38,"label",18),e._uU(39," Ng\xe0y c\u1ea5p "),e.qZA(),e.TgZ(40,"input",25,26),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(41);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(41);return e.KtG(o.close())}),e.qZA(),e.YNc(42,gr,1,1,"cf-input-hint",27),e.YNc(43,fr,1,1,"cf-input-hint",27),e.qZA()(),e.TgZ(44,"div")(45,"cf-input-group",23),e._UZ(46,"cf-icon",24),e.TgZ(47,"label",18),e._uU(48," Ng\xe0y h\u1ebft h\u1ea1n "),e.qZA(),e.TgZ(49,"input",28,29),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(50);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(50);return e.KtG(o.close())}),e.qZA(),e.YNc(51,mr,1,1,"cf-input-hint",20),e.qZA(),e.TgZ(52,"div",30),e._uU(53,"C\xf2n h\u1ea1n tr\xean 6 th\xe1ng so v\u1edbi ng\xe0y k\u1ebft th\xfac h\xe0nh tr\xecnh"),e.qZA()()()()(),e.BQk()}if(2&n){const t=r.$implicit,i=e.oxw();e.xp6(4),e.Q6J("disabled",!0)("status","default"),e.xp6(3),e.Q6J("formControl",i.getFormControlInArray(t,"gender")),e.xp6(1),e.Q6J("disabled",!0)("status","default"),e.xp6(3),e.Q6J("formControl",i.getFormControlInArray(t,"lastName")),e.xp6(1),e.Q6J("disabled",!0)("status","default"),e.xp6(3),e.Q6J("formControl",i.getFormControlInArray(t,"firstName")),e.xp6(1),e.Q6J("disabled",!0)("status","default"),e.xp6(3),e.Q6J("formControl",i.getFormControlInArray(t,"birthday")),e.xp6(4),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",i.getFormControlInArray(t,"number")),e.xp6(1),e.Q6J("ngIf",t.controls.number.hasError("required")&&(t.controls.number.touched||t.controls.number.dirty)),e.xp6(1),e.Q6J("data",i.countryOption)("allowSearch",!0)("formControl",i.getFormControlInArray(t,"nationality")),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("ngIf",t.controls.nationality.hasError("required")&&(t.controls.nationality.touched||t.controls.nationality.dirty)),e.xp6(1),e.Q6J("data",i.countryOption)("allowSearch",!0)("formControl",i.getFormControlInArray(t,"issuanceCountry")),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("ngIf",t.controls.issuanceCountry.hasError("required")&&(t.controls.issuanceCountry.touched||t.controls.issuanceCountry.dirty)),e.xp6(2),e.Q6J("status",t.controls.issuanceDate.invalid&&(t.controls.issuanceDate.dirty||t.controls.issuanceDate.touched)?"error":"default"),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("maxDate",i.currentDate)("formControl",i.getFormControlInArray(t,"issuanceDate")),e.xp6(2),e.Q6J("ngIf",t.controls.issuanceDate.hasError("required")&&(t.controls.issuanceDate.touched||t.controls.issuanceDate.dirty)),e.xp6(1),e.Q6J("ngIf",t.controls.issuanceDate.hasError("issuanceDateInvalid")&&(t.controls.issuanceDate.touched||t.controls.issuanceDate.dirty)),e.xp6(2),e.Q6J("status","default"),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("minDate",i.currentDate)("formControl",i.getFormControlInArray(t,"expiryDate")),e.xp6(2),e.Q6J("ngIf",t.controls.expiryDate.hasError("required")&&(t.controls.expiryDate.touched||t.controls.expiryDate.dirty))}}function xr(n,r){1&n&&e._UZ(0,"cf-input-hint",32),2&n&&e.Q6J("hint","S\u1ed1 h\u1ed9 chi\u1ebfu kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function vr(n,r){1&n&&e._UZ(0,"cf-input-hint",32),2&n&&e.Q6J("hint","Qu\u1ed1c t\u1ecbch kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function Cr(n,r){1&n&&e._UZ(0,"cf-input-hint",32),2&n&&e.Q6J("hint","Qu\u1ed1c gia kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function br(n,r){1&n&&e._UZ(0,"cf-input-hint",32),2&n&&e.Q6J("hint","Ng\xe0y h\u1ebft h\u1ea1n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function yr(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"div",31),e.TgZ(2,"div",10)(3,"div",11)(4,"cf-input-group",12)(5,"label",13),e._uU(6," Gi\u1edbi t\xednh "),e.qZA(),e._UZ(7,"input",14),e.qZA(),e.TgZ(8,"cf-input-group",12)(9,"label",13),e._uU(10," H\u1ecd "),e.qZA(),e._UZ(11,"input",14),e.qZA(),e.TgZ(12,"cf-input-group",12)(13,"label",13),e._uU(14," T\xean \u0111\u1ec7m v\xe0 T\xean "),e.qZA(),e._UZ(15,"input",14),e.qZA(),e.TgZ(16,"cf-input-group",12)(17,"label",13),e._uU(18," Ng\xe0y sinh "),e.qZA(),e._UZ(19,"input",14),e.qZA(),e.TgZ(20,"cf-input-group",12)(21,"label",13),e._uU(22," Thu\u1ed9c h\xe0nh kh\xe1ch ng\u01b0\u1eddi l\u1edbn "),e.qZA(),e._UZ(23,"input",14),e.qZA()(),e.TgZ(24,"div",15)(25,"div",16)(26,"cf-input-group",17)(27,"label",18),e._uU(28," S\u1ed1 h\u1ed9 chi\u1ebfu "),e.qZA(),e._UZ(29,"input",19),e.YNc(30,xr,1,1,"cf-input-hint",20),e.qZA(),e.TgZ(31,"cf-select",21)(32,"label",18),e._uU(33," Qu\u1ed1c t\u1ecbch "),e.qZA(),e.YNc(34,vr,1,1,"cf-input-hint",20),e.qZA(),e.TgZ(35,"cf-select",22)(36,"label",18),e._uU(37," Qu\u1ed1c gia c\u1ea5p h\u1ed9 chi\u1ebfu "),e.qZA(),e.YNc(38,Cr,1,1,"cf-input-hint",20),e.qZA(),e.TgZ(39,"div")(40,"cf-input-group",23),e._UZ(41,"cf-icon",24),e.TgZ(42,"label",18),e._uU(43," Ng\xe0y h\u1ebft h\u1ea1n "),e.qZA(),e.TgZ(44,"input",28,29),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(45);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(45);return e.KtG(o.close())}),e.qZA(),e.YNc(46,br,1,1,"cf-input-hint",20),e.qZA(),e.TgZ(47,"div",30),e._uU(48,"C\xf2n h\u1ea1n tr\xean 6 th\xe1ng so v\u1edbi ng\xe0y k\u1ebft th\xfac h\xe0nh tr\xecnh"),e.qZA()()()()(),e.BQk()}if(2&n){const t=r.$implicit,i=e.oxw();e.xp6(4),e.Q6J("disabled",!0)("status","default"),e.xp6(3),e.Q6J("formControl",i.getFormControlInArray(t,"gender")),e.xp6(1),e.Q6J("disabled",!0)("status","default"),e.xp6(3),e.Q6J("formControl",i.getFormControlInArray(t,"lastName")),e.xp6(1),e.Q6J("disabled",!0)("status","default"),e.xp6(3),e.Q6J("formControl",i.getFormControlInArray(t,"firstName")),e.xp6(1),e.Q6J("disabled",!0)("status","default"),e.xp6(3),e.Q6J("formControl",i.getFormControlInArray(t,"birthday")),e.xp6(1),e.Q6J("disabled",!0)("status","default"),e.xp6(3),e.Q6J("formControl",i.getFormControlInArray(t,"parent")),e.xp6(4),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",i.getFormControlInArray(t,"number")),e.xp6(1),e.Q6J("ngIf",t.controls.number.hasError("required")&&(t.controls.number.touched||t.controls.number.dirty)),e.xp6(1),e.Q6J("data",i.countryOption)("allowSearch",!0)("formControl",i.getFormControlInArray(t,"nationality")),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("ngIf",t.controls.nationality.hasError("required")&&(t.controls.nationality.touched||t.controls.nationality.dirty)),e.xp6(1),e.Q6J("data",i.countryOption)("allowSearch",!0)("formControl",i.getFormControlInArray(t,"issuanceCountry")),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("ngIf",t.controls.issuanceCountry.hasError("required")&&(t.controls.issuanceCountry.touched||t.controls.issuanceCountry.dirty)),e.xp6(2),e.Q6J("status","default"),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("minDate",i.currentDate)("formControl",i.getFormControlInArray(t,"expiryDate")),e.xp6(2),e.Q6J("ngIf",t.controls.expiryDate.hasError("required")&&(t.controls.expiryDate.touched||t.controls.expiryDate.dirty))}}let Er=(()=>{class n{constructor(t,i,o,a,l,d,x){this._cfRegister=t,this.fb=i,this._locationDataService=o,this.calendar=a,this.ref=l,this.bottomSheetData=d,this.bottomSheetRef=x,t.registerIcons([p.PcQ]),this.countryOption=this._locationDataService.getAllCountryOption(),this.currentDate=a.getToday(),l&&(this.listPaxUpdate=l.data.listPaxUpdate),d&&(this.listPaxUpdate=d.listPaxUpdate)}ngOnInit(){this.initFormGroup()}initFormGroup(){this.formGroup=this.fb.group({adultPassenger:this.fb.array([]),childPassenger:this.fb.array([]),infantPassenger:this.fb.array([])}),this.initAdultFormGroup(),this.initChildFormGroup(),this.initInfantFormGroup()}getFormArray(t){return this.formGroup.controls[t]}initAdultFormGroup(){var t;null===(t=this.listPaxUpdate)||void 0===t||t.filter(i=>"ADT"===i.type).forEach(i=>{const o={issuanceDate:new Date(D.zk.issuanceDate),expiryDate:new Date(D.zk.expiryDate),issuanceCountry:"",nationality:"",number:""};i.number!==D.zk.number&&(o.issuanceDate=i.issuanceDate?new Date(i.issuanceDate):new Date(D.zk.issuanceDate),o.expiryDate=i.expiryDate?new Date(i.expiryDate):new Date(D.zk.expiryDate),o.issuanceCountry=i.issuanceCountry||"",o.nationality=i.nationality||"",o.number=i.number||"");const a=this.fb.group({index:[i.index],birthday:[i.dayOfBirth?G(new Date(i.dayOfBirth)).format("DD/MM/YYYY"):""],firstName:[i.firstName],lastName:[i.lastName],gender:[this.getGender(i.gender)],issuanceDate:[o.issuanceDate,[v.kI.required]],expiryDate:[o.expiryDate,[v.kI.required]],issuanceCountry:[o.issuanceCountry,[v.kI.required]],nationality:[o.nationality,[v.kI.required]],number:[o.number,[v.kI.required]]},{validators:[(0,se.i4)("issuanceDate","expiryDate")]});this.getFormArray("adultPassenger").push(a)})}initChildFormGroup(){var t;null===(t=this.listPaxUpdate)||void 0===t||t.filter(i=>"CHD"===i.type).forEach(i=>{const o={issuanceDate:new Date(D.zk.issuanceDate),expiryDate:new Date(D.zk.expiryDate),issuanceCountry:"",nationality:"",number:""};i.number!==D.zk.number&&(o.issuanceDate=i.issuanceDate?new Date(i.issuanceDate):new Date(D.zk.issuanceDate),o.expiryDate=i.expiryDate?new Date(i.expiryDate):new Date(D.zk.expiryDate),o.issuanceCountry=i.issuanceCountry||"",o.nationality=i.nationality||"",o.number=i.number||"");const a=this.fb.group({index:[i.index],birthday:[i.dayOfBirth?G(new Date(i.dayOfBirth)).format("DD/MM/YYYY"):""],firstName:[i.firstName],lastName:[i.lastName],gender:[this.getGender(i.gender)],issuanceDate:[o.issuanceDate,[v.kI.required]],expiryDate:[o.expiryDate,[v.kI.required]],issuanceCountry:[o.issuanceCountry,[v.kI.required]],nationality:[o.nationality,[v.kI.required]],number:[o.number,[v.kI.required]]},{validators:[(0,se.i4)("issuanceDate","expiryDate")]});this.getFormArray("childPassenger").push(a)})}initInfantFormGroup(){var t,i;const o=null===(t=this.listPaxUpdate)||void 0===t?void 0:t.filter(a=>"ADT"===a.type);null===(i=this.listPaxUpdate)||void 0===i||i.filter(a=>"INF"===a.type).forEach(a=>{const l=o.find(b=>b.key===a.parentKey),d={issuanceDate:new Date(D.zk.issuanceDate),expiryDate:new Date(D.zk.expiryDate),issuanceCountry:"",nationality:"",number:""};a.number!==D.zk.number&&(d.issuanceDate=a.issuanceDate?new Date(a.issuanceDate):new Date(D.zk.issuanceDate),d.expiryDate=a.expiryDate?new Date(a.expiryDate):new Date(D.zk.expiryDate),d.issuanceCountry=a.issuanceCountry||"",d.nationality=a.nationality||"",d.number=a.number||"");const x=this.fb.group({index:[a.index],birthday:[a.dayOfBirth?G(new Date(a.dayOfBirth)).format("DD/MM/YYYY"):""],firstName:[a.firstName],lastName:[a.lastName],gender:[this.getGender(a.gender)],issuanceDate:[d.issuanceDate,[v.kI.required]],expiryDate:[d.expiryDate,[v.kI.required]],issuanceCountry:[d.issuanceCountry,[v.kI.required]],nationality:[d.nationality,[v.kI.required]],number:[d.number,[v.kI.required]],parent:[l?`${l.lastName} ${l.firstName}`:""]},{validators:[(0,se.i4)("issuanceDate","expiryDate")]});this.getFormArray("infantPassenger").push(x)})}getGender(t){switch(t.toUpperCase()){case"FEMALE":return"N\u1eef";case"MALE":return"Nam";default:return""}}ok(){if(this.formGroup.invalid)return;const t=this.formGroup.value,i=[...t.adultPassenger,...t.childPassenger,...t.infantPassenger];this.ref&&this.ref.close(i),this.bottomSheetData&&this.bottomSheetRef.dismiss(i)}close(){this.ref&&this.ref.close(!1),this.bottomSheetData&&this.bottomSheetRef.dismiss(!1)}getFormControlInArray(t,i){return t.controls[i]}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.KNP),e.Y36(v.qu),e.Y36(Ne._),e.Y36(Pe.jH),e.Y36(S.gb,8),e.Y36(U.Rr,8),e.Y36(U.Zu,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["update-passport-info"]],hostAttrs:[1,"w-full"],standalone:!0,features:[e.jDz],decls:14,vars:4,consts:[[1,"w-[748px]","max-h-[600px]","md:max-h-full","md:w-full","md:h-full","overflow-hidden","rounded-lg","bg-neutral-white","flex","flex-col","md:justify-between"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-b-neutral-gray-1","md:hidden"],[1,"text-heading-xs","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"p-6","overflow-auto","flex","flex-col","gap-y-4"],[4,"ngFor","ngForOf"],[1,"p-6","flex","gap-x-4","justify-end","md:justify-between"],["cf-button","","size","medium","type","secondary",1,"min-w-[100px]","md:w-full","justify-center",3,"click"],["cf-button","","size","medium","color","primary-1",1,"min-w-fit","md:w-full","justify-center",3,"disabled","click"],["class","w-full border-t border-neutral-gray-1",4,"ngIf"],[1,"flex","flex-col","gap-y-4"],[1,"grid","grid-cols-3","gap-4","md:grid-cols-1"],[1,"grow-[400]","!w-full",3,"disabled","status"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5"],["cf-input","","size","medium","autocomplete","off",3,"formControl"],[1,""],[1,"grid","grid-cols-2","gap-4","md:grid-cols-1"],[1,"grow-[400]","!w-full"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5",3,"CfRequired"],["cf-input","","size","medium","autocomplete","off","CfRemoveAccents","","placeholder","Nh\u1eadp s\u1ed1 h\u1ed9 chi\u1ebfu","type","text",3,"formControl"],["cfHint","","class","text-primary-1-4",3,"hint",4,"ngIf"],["textField","name","valueField","code","placeholder","Ch\u1ecdn qu\u1ed1c t\u1ecbch",1,"md:w-full","md:max-w-none","!max-w-full",3,"data","allowSearch","formControl"],["textField","name","valueField","code","placeholder","Ch\u1ecdn n\u01a1i c\u1ea5p",1,"md:w-full","md:max-w-none","!max-w-full",3,"data","allowSearch","formControl"],[1,"grow-[400]","!w-full",3,"status"],["cfHeadIcon","","icon","calendar","size","small"],["autocomplete","off","cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Nh\u1eadp ng\xe0y c\u1ea5p",1,"py-[7px]",3,"secondaryCalendar","displayMonths","maxDate","formControl","input","dateSelect"],["issuanceDatepicker","cfDatepicker"],["cfHint","",3,"hint",4,"ngIf"],["autocomplete","off","cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Nh\u1eadp ng\xe0y h\u1ebft h\u1ea1n",1,"py-[7px]",3,"secondaryCalendar","displayMonths","minDate","formControl","input","dateSelect"],["dateFrom","cfDatepicker"],[1,"text-body-sm","mt-1.5"],[1,"w-full","border-t","border-neutral-gray-1"],["cfHint","",1,"text-primary-1-4",3,"hint"],["cfHint","",3,"hint"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Ch\u1ec9nh s\u1eeda h\u1ed9 chi\u1ebfu"),e.qZA(),e.TgZ(4,"cf-icon",3),e.NdJ("click",function(){return i.close()}),e.qZA()(),e.TgZ(5,"div",4),e.YNc(6,cr,54,41,"ng-container",5),e.YNc(7,hr,54,40,"ng-container",5),e.YNc(8,yr,49,35,"ng-container",5),e.qZA(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return i.close()}),e._uU(11," \u0110\xf3ng "),e.qZA(),e.TgZ(12,"button",8),e.NdJ("click",function(){return i.ok()}),e._uU(13," \u0110\u1ed3ng \xfd & Xu\u1ea5t v\xe9 "),e.qZA()()()),2&t&&(e.xp6(6),e.Q6J("ngForOf",i.getFormArray("adultPassenger").controls),e.xp6(1),e.Q6J("ngForOf",i.getFormArray("childPassenger").controls),e.xp6(1),e.Q6J("ngForOf",i.getFormArray("infantPassenger").controls),e.xp6(4),e.Q6J("disabled",i.formGroup.invalid))},dependencies:[m.ez,m.sg,m.O5,p.AxE,p.Sm8,E.N8,E.Xq,ee.j$,ee.ND,ee.BN,ee.v2,rt.q,v.UX,v.Fj,v.JJ,v.oH,Pe.Cs,Nn.p,at.C],encapsulation:2}),n})();var Un=C(87683),qn=C(65858),Zr=C(7453),Tr=C(25614),Dr=C(78372);function Ar(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.lnq("k\xe8m ",t.child.type," - ",t.child.lastName,"/",t.child.firstName,"")}}function kr(n,r){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.YNc(2,Ar,2,3,"span",14),e.qZA()),2&n){const t=r.$implicit,i=r.index;e.xp6(1),e.HOy(" ",i+1,". ",t.type," - ",t.lastName,"/",t.firstName," "),e.xp6(1),e.Q6J("ngIf",t.child&&t.child.lastName)}}function Ir(n,r){if(1&n&&(e.TgZ(0,"div",15),e._uU(1),e.qZA()),2&n){const t=r.$implicit,i=r.index;e.xp6(1),e.gL8(" ",i+1,". ",t.flightNumber," ",t.departDate," ",t.route," ",t.startTime," ",t.endTime," ")}}function Nr(n,r){1&n&&(e.TgZ(0,"span",16),e._uU(1," H\xe3ng VJ: H\u1ec7 th\u1ed1ng s\u1ebd h\u1ee7y PNR hi\u1ec7n t\u1ea1i \u0111\u1ec3 th\u1ef1c hi\u1ec7n rebook "),e.qZA())}function Ur(n,r){1&n&&(e.TgZ(0,"span",16),e._uU(1," H\xe3ng VN: \u0110\u1eb7t l\u1ea1i \u0111\xfang s\u1ed1 l\u01b0\u1ee3ng & th\xf4ng tin kh\xe1ch hi\u1ec7n t\u1ea1i s\u1ebd gi\u1eef \u0111\u01b0\u1ee3c PNR g\u1ed1c "),e.qZA())}let Tn=(()=>{class n{constructor(t,i,o,a){this.ref=t,this.bottomSheetData=i,this.bottomSheetRef=o,this.cfIconRegister=a,a.registerIcons([p.UNF]),this.ref&&(this.rebookDataConfirm=this.ref.data.rebookDataConfirm),i&&(this.rebookDataConfirm=i.rebookDataConfirm)}close(){this.ref&&this.ref.close(!1),this.bottomSheetData&&this.bottomSheetRef.dismiss(!1)}ok(){this.ref&&this.ref.close(!0),this.bottomSheetData&&this.bottomSheetRef.dismiss(!0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(S.gb,8),e.Y36(U.Rr,8),e.Y36(U.Zu,8),e.Y36(p.KNP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["rebook-pnr-confirm"]],standalone:!0,features:[e.jDz],decls:22,vars:4,consts:[[1,"w-[480px]","flex","flex-col","rounded-lg","bg-neutral-white","md:w-screen"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-b-neutral-gray-1","md:hidden"],[1,"text-heading-xs","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"py-4","px-6","text-body-md","flex","flex-col","gap-y-4"],[1,"text-express-md"],[4,"ngFor","ngForOf"],["class","uppercase",4,"ngFor","ngForOf"],[1,"w-full","py-1.5","px-3","bg-functional-1-1","rounded","flex","items-center","gap-x-3"],["icon","info","size","small",1,"text-functional-1-3"],["class","text-body-md-short",4,"ngIf"],[1,"flex","justify-end","gap-x-4","pb-6","pr-6","md:p-4"],["cf-button","","size","medium","type","secondary",1,"md:w-full","md:justify-center",3,"click"],["cf-button","","size","medium","color","primary-1",1,"md:w-full","md:justify-center",3,"click"],[4,"ngIf"],[1,"uppercase"],[1,"text-body-md-short"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"X\xe1c nh\u1eadn Rebook"),e.qZA(),e.TgZ(4,"cf-icon",3),e.NdJ("click",function(){return i.close()}),e.qZA()(),e.TgZ(5,"div",4)(6,"div")(7,"div",5),e._uU(8,"Th\xf4ng tin h\xe0nh kh\xe1ch"),e.qZA(),e.YNc(9,kr,3,5,"div",6),e.TgZ(10,"div",5),e._uU(11,"Th\xf4ng tin h\xe0nh tr\xecnh"),e.qZA(),e.YNc(12,Ir,2,6,"div",7),e.qZA(),e.TgZ(13,"div",8),e._UZ(14,"cf-icon",9),e.YNc(15,Nr,2,0,"span",10),e.YNc(16,Ur,2,0,"span",10),e.qZA()(),e.TgZ(17,"div",11)(18,"button",12),e.NdJ("click",function(){return i.close()}),e._uU(19," \u0110\xf3ng "),e.qZA(),e.TgZ(20,"button",13),e.NdJ("click",function(){return i.ok()}),e._uU(21," Rebook "),e.qZA()()()),2&t&&(e.xp6(9),e.Q6J("ngForOf",i.rebookDataConfirm.passengers),e.xp6(3),e.Q6J("ngForOf",i.rebookDataConfirm.segments),e.xp6(3),e.Q6J("ngIf","VJ"===i.rebookDataConfirm.provider),e.xp6(1),e.Q6J("ngIf","VN"===i.rebookDataConfirm.provider))},dependencies:[m.ez,m.sg,m.O5,p.AxE,p.Sm8,E.N8,E.Xq],encapsulation:2}),n})();var qr=C(2225),wr=C(9497),Br=C(85522),Pr=C(99251);const Fr=["parentSelectInfant"];function Jr(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"input",36,37),e.NdJ("change",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onFilesSelected(o))}),e.qZA(),e.TgZ(3,"button",38),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(2);return e.KtG(o.click())}),e._uU(4," Upload th\xf4ng tin t\u1ea5t c\u1ea3 kh\xe1ch "),e.qZA()()}}function Qr(n,r){if(1&n&&(e.TgZ(0,"div",60),e._uU(1),e.qZA()),2&n){const t=e.oxw().index;e.xp6(1),e.hij(" Ng\u01b0\u1eddi l\u1edbn ",t+1," ")}}function Sr(n,r){if(1&n&&(e.TgZ(0,"div",60),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.controls.lastName.value.toUpperCase()+" "+t.controls.firstName.value.toUpperCase()," ")}}function Yr(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"input",61,62),e.NdJ("change",function(o){e.CHM(t);const a=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onFilesSelected(o,a))}),e.qZA(),e.TgZ(3,"button",38),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(2);return e.KtG(o.click())}),e._uU(4," Upload th\xf4ng tin kh\xe1ch n\xe0y "),e.qZA()()}}function Mr(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(2);e.Q6J("hint",t.errorMessage.gender)}}function Or(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(2);e.Q6J("hint",t.errorMessage.lastName)}}function Rr(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(2);e.Q6J("hint",t.errorMessage.firstName)}}function jr(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(2);e.Q6J("hint",t.errorMessage.DoBAdult)}}function Gr(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(4);e.Q6J("hint",t.errorMessage.cccdNumber)}}function Lr(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(4);e.Q6J("hint",t.errorMessage.minlengthCccdNumber)}}function Hr(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(4);e.Q6J("hint",t.errorMessage.maxlengthCccdNumber)}}function Vr(n,r){if(1&n&&(e.TgZ(0,"div")(1,"cf-input-group",30),e._UZ(2,"input",72),e.YNc(3,Gr,1,1,"cf-input-hint",25),e.YNc(4,Lr,1,1,"cf-input-hint",25),e.YNc(5,Hr,1,1,"cf-input-hint",25),e.qZA()()),2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(1),e.Q6J("status",t.controls.cccdNumber.invalid&&(t.controls.cccdNumber.dirty||t.controls.cccdNumber.touched)?"error":"default"),e.xp6(1),e.Q6J("formControl",i.getFormControlInArray(t,"cccdNumber")),e.xp6(1),e.Q6J("ngIf",t.controls.cccdNumber.hasError("required")&&(t.controls.cccdNumber.touched||t.controls.cccdNumber.dirty)),e.xp6(1),e.Q6J("ngIf",t.controls.cccdNumber.hasError("minlength")&&(t.controls.cccdNumber.touched||t.controls.cccdNumber.dirty)),e.xp6(1),e.Q6J("ngIf",t.controls.cccdNumber.hasError("maxlength")&&(t.controls.cccdNumber.touched||t.controls.cccdNumber.dirty))}}function zr(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(4);e.Q6J("hint",t.errorMessage.maxlengthPassportNumber)}}function Kr(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(4);e.Q6J("hint",t.errorMessage.passportNumber)}}function $r(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(4);e.Q6J("hint",t.errorMessage.nationality)}}function Xr(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(4);e.Q6J("hint",t.errorMessage.issuanceCountry)}}function Wr(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(4);e.Q6J("hint",t.errorMessage.issuanceDate)}}function ea(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(4);e.Q6J("hint",t.errorMessage.issuanceDateInvalid)}}function ta(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(4);e.Q6J("hint",t.errorMessage.expiryDate)}}function na(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",73)(1,"cf-input-group",30)(2,"label",23),e._uU(3," S\u1ed1 h\u1ed9 chi\u1ebfu "),e.qZA(),e._UZ(4,"input",74),e.YNc(5,zr,1,1,"cf-input-hint",25),e.YNc(6,Kr,1,1,"cf-input-hint",25),e.qZA(),e.TgZ(7,"cf-select",75)(8,"label",23),e._uU(9," Qu\u1ed1c t\u1ecbch "),e.qZA(),e.YNc(10,$r,1,1,"cf-input-hint",25),e.qZA(),e.TgZ(11,"cf-select",76)(12,"label",23),e._uU(13," Qu\u1ed1c gia c\u1ea5p h\u1ed9 chi\u1ebfu "),e.qZA(),e.YNc(14,Xr,1,1,"cf-input-hint",25),e.qZA(),e.TgZ(15,"div")(16,"cf-input-group",30),e._UZ(17,"cf-icon",49),e.TgZ(18,"label",23),e._uU(19," Ng\xe0y c\u1ea5p "),e.qZA(),e.TgZ(20,"input",77,78),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(21);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(21);return e.KtG(o.close())}),e.qZA(),e.YNc(22,Wr,1,1,"cf-input-hint",25),e.YNc(23,ea,1,1,"cf-input-hint",25),e.qZA()(),e.TgZ(24,"div")(25,"cf-input-group",30),e._UZ(26,"cf-icon",49),e.TgZ(27,"label",23),e._uU(28," Ng\xe0y h\u1ebft h\u1ea1n "),e.qZA(),e.TgZ(29,"input",79,80),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(30);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(30);return e.KtG(o.close())}),e.qZA(),e.YNc(31,ta,1,1,"cf-input-hint",25),e.qZA(),e.TgZ(32,"div",81),e._uU(33," C\xf2n h\u1ea1n tr\xean 6 th\xe1ng so v\u1edbi ng\xe0y b\u1eaft \u0111\u1ea7u h\xe0nh tr\xecnh"),e.qZA()()()}if(2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(1),e.Q6J("status",t.controls.number.invalid&&(t.controls.number.dirty||t.controls.number.touched)?"error":"default"),e.xp6(3),e.Q6J("formControl",i.getFormControlInArray(t,"number")),e.xp6(1),e.Q6J("ngIf",t.controls.number.hasError("maxlength")&&(t.controls.number.touched||t.controls.number.dirty)),e.xp6(1),e.Q6J("ngIf",t.controls.number.hasError("required")&&(t.controls.number.touched||t.controls.number.dirty)),e.xp6(1),e.Q6J("status",t.controls.nationality.invalid&&(t.controls.nationality.dirty||t.controls.nationality.touched)?"error":"default")("data",i.countryOption)("allowSearch",!0)("formControl",i.getFormControlInArray(t,"nationality")),e.xp6(3),e.Q6J("ngIf",t.controls.nationality.hasError("required")&&(t.controls.nationality.touched||t.controls.nationality.dirty)),e.xp6(1),e.Q6J("data",i.countryOption)("status",t.controls.issuanceCountry.invalid&&(t.controls.issuanceCountry.dirty||t.controls.issuanceCountry.touched)?"error":"default")("allowSearch",!0)("formControl",i.getFormControlInArray(t,"issuanceCountry")),e.xp6(3),e.Q6J("ngIf",t.controls.issuanceCountry.hasError("required")&&(t.controls.issuanceCountry.touched||t.controls.issuanceCountry.dirty)),e.xp6(2),e.Q6J("status",t.controls.issuanceDate.invalid&&(t.controls.issuanceDate.dirty||t.controls.issuanceDate.touched)?"error":"default"),e.xp6(4),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("maxDate",i.currentDate)("formControl",i.getFormControlInArray(t,"issuanceDate")),e.xp6(2),e.Q6J("ngIf",t.controls.issuanceDate.hasError("required")&&(t.controls.issuanceDate.touched||t.controls.issuanceDate.dirty)),e.xp6(1),e.Q6J("ngIf",t.controls.issuanceDate.hasError("issuanceDateInvalid")&&(t.controls.issuanceDate.touched||t.controls.issuanceDate.dirty)),e.xp6(2),e.Q6J("status",t.controls.expiryDate.invalid&&(t.controls.expiryDate.dirty||t.controls.expiryDate.touched)?"error":"default"),e.xp6(4),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("minDate",i.currentDate)("formControl",i.getFormControlInArray(t,"expiryDate")),e.xp6(2),e.Q6J("ngIf",t.controls.expiryDate.hasError("required")&&(t.controls.expiryDate.touched||t.controls.expiryDate.dirty))}}function ia(n,r){1&n&&(e.TgZ(0,"div",82),e._uU(1," Khuy\u1ebfn ngh\u1ecb nh\u1eadp CCCD/H\u1ed9 chi\u1ebfu kh\xe1ch h\xe0ng, n\u1ebfu kh\xf4ng h\xe3ng s\u1ebd kh\xf4ng h\u1ed7 tr\u1ee3 khi g\u1eb7p s\u1ef1 c\u1ed1 "),e.qZA())}function oa(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",64)(1,"div",65)(2,"label",66),e._uU(3," Gi\u1ea5y t\u1edd t\xf9y th\xe2n "),e.qZA(),e.TgZ(4,"div")(5,"div",43)(6,"cf-radio-group",67),e.NdJ("checkChange",function(o){e.CHM(t);const a=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onIdentityChange(o,a))}),e.TgZ(7,"cf-radio",68),e._uU(8," CCCD "),e.qZA(),e.TgZ(9,"cf-radio",69),e._uU(10," H\u1ed9 chi\u1ebfu "),e.qZA(),e.TgZ(11,"cf-radio",68),e._uU(12,"Kh\xf4ng c\xf3"),e.qZA()(),e.YNc(13,Vr,6,5,"div",4),e.YNc(14,na,34,27,"div",70),e.YNc(15,ia,2,0,"div",71),e.qZA()()()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(4),e.Q6J("formControl",i.getFormControlInArray(t,"documentType")),e.xp6(1),e.Q6J("disabled",i.hasAirportInternational)("value",i.CF_IDENTIFY_TYPE.CCCD),e.xp6(2),e.Q6J("value",i.CF_IDENTIFY_TYPE.PASSPORT),e.xp6(2),e.Q6J("disabled",i.hasVJAirline&&i.hasRouteGroupRequire)("value",i.CF_IDENTIFY_TYPE.NON_IDENTIFY),e.xp6(2),e.Q6J("ngIf",t.value.documentType===i.CF_IDENTIFY_TYPE.CCCD),e.xp6(1),e.Q6J("ngIf",t.value.documentType===i.CF_IDENTIFY_TYPE.PASSPORT),e.xp6(1),e.Q6J("ngIf",t.value.documentType===i.CF_IDENTIFY_TYPE.NON_IDENTIFY)}}function ra(n,r){1&n&&(e.TgZ(0,"div",83),e._UZ(1,"cf-icon",84),e.TgZ(2,"span"),e._uU(3,"Th\xf4ng tin b\u1ed5 sung"),e.qZA()())}function aa(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",null,39)(2,"div",18)(3,"div",40)(4,"div",41),e.YNc(5,Qr,2,1,"div",42),e.YNc(6,Sr,2,1,"div",42),e.qZA(),e.YNc(7,Yr,5,0,"div",4),e.qZA(),e.TgZ(8,"div",43)(9,"div",44)(10,"div",41)(11,"cf-select",45)(12,"label",46),e._uU(13,"Gi\u1edbi t\xednh"),e.qZA(),e.YNc(14,Mr,1,1,"cf-input-hint",25),e.qZA()(),e.TgZ(15,"div",41)(16,"cf-input-group",30)(17,"label",23)(18,"span",24),e._uU(19,"H\u1ecd"),e.qZA()(),e.TgZ(20,"input",47),e.NdJ("blur",function(o){const l=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.onBlurInput(o,l,"lastName"))}),e.qZA(),e.YNc(21,Or,1,1,"cf-input-hint",25),e.qZA()(),e.TgZ(22,"div",41)(23,"cf-input-group",30)(24,"label",23)(25,"span",24),e._uU(26,"T\xean \u0111\u1ec7m v\xe0 T\xean"),e.qZA()(),e.TgZ(27,"input",48),e.NdJ("blur",function(o){const l=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.onBlurInput(o,l,"firstName"))}),e.qZA(),e.YNc(28,Rr,1,1,"cf-input-hint",25),e.qZA()(),e.TgZ(29,"div",41)(30,"cf-input-group",30),e._UZ(31,"cf-icon",49),e.TgZ(32,"label",23)(33,"span"),e._uU(34,"Ng\xe0y sinh"),e.qZA(),e._uU(35,"\xa0 "),e.TgZ(36,"span",50),e._uU(37," (L\u1edbn h\u01a1n 12 tu\u1ed5i) "),e.qZA()(),e.TgZ(38,"input",51,52),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(39);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(39);return e.KtG(o.close())}),e.qZA(),e.YNc(40,jr,1,1,"cf-input-hint",25),e.qZA()()(),e.YNc(41,oa,16,10,"div",53),e.TgZ(42,"cf-collapse",54)(43,"cf-collapse-panel",55),e.YNc(44,ra,4,0,"ng-template",null,56,e.W1O),e.TgZ(46,"div",57)(47,"cf-input-group",58)(48,"label",23),e._uU(49," Bamboo Airways (QH) "),e.qZA(),e._UZ(50,"input",59),e.qZA(),e.TgZ(51,"cf-input-group",58)(52,"label",23),e._uU(53," Vietnam Airlines (VNA) "),e.qZA(),e._UZ(54,"input",59),e.qZA()()()()()()()}if(2&n){const t=r.$implicit,i=e.MAs(45),o=e.oxw();e.xp6(5),e.Q6J("ngIf",!(t.controls.firstName.valid&&t.controls.lastName.valid)),e.xp6(1),e.Q6J("ngIf",t.controls.firstName.valid&&t.controls.lastName.valid),e.xp6(1),e.Q6J("ngIf",o.canExtractImageToDocument),e.xp6(4),e.Q6J("status",t.controls.gender.invalid&&(t.controls.gender.dirty||t.controls.gender.touched)?"error":"default")("data",o.optionsGender)("allowSearch",!1)("formControl",o.getFormControlInArray(t,"gender")),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("ngIf",t.controls.gender.hasError("required")&&(t.controls.gender.touched||t.controls.gender.dirty)),e.xp6(2),e.Q6J("status",t.controls.lastName.invalid&&(t.controls.lastName.dirty||t.controls.lastName.touched)?"error":"default"),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",o.getFormControlInArray(t,"lastName")),e.xp6(1),e.Q6J("ngIf",t.controls.lastName.hasError("required")&&(t.controls.lastName.touched||t.controls.lastName.dirty)),e.xp6(2),e.Q6J("status",t.controls.firstName.invalid&&(t.controls.firstName.dirty||t.controls.firstName.touched)?"error":"default"),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",o.getFormControlInArray(t,"firstName")),e.xp6(1),e.Q6J("ngIf",t.controls.firstName.hasError("required")&&(t.controls.firstName.touched||t.controls.firstName.dirty)),e.xp6(2),e.Q6J("status",t.controls.birthday.invalid&&(t.controls.birthday.dirty||t.controls.birthday.touched)?"error":"default")("status","default"),e.xp6(8),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("formControl",o.getFormControlInArray(t,"birthday")),e.xp6(2),e.Q6J("ngIf",t.controls.birthday.hasError("DoBAdult")&&t.controls.birthday.touched),e.xp6(1),e.Q6J("ngIf",o.hasAirportInternational||o.hasVJAirline),e.xp6(2),e.Q6J("title",i)("active",!1),e.xp6(7),e.Q6J("formControl",o.getFormControlInArray(t,"membershipQH")),e.xp6(4),e.Q6J("formControl",o.getFormControlInArray(t,"membershipVN"))}}function sa(n,r){if(1&n&&(e.TgZ(0,"div",91),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).index;e.xp6(1),e.hij(" Tr\u1ebb em ",t+1," ")}}function ua(n,r){if(1&n&&(e.TgZ(0,"div",91),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t.controls.lastName.value.toUpperCase()+" "+t.controls.firstName.value.toUpperCase()," ")}}function la(n,r){if(1&n&&(e.YNc(0,sa,2,1,"div",90),e.YNc(1,ua,2,1,"div",90)),2&n){const t=e.oxw().$implicit;e.Q6J("ngIf",!(t.controls.firstName.valid&&t.controls.lastName.valid)),e.xp6(1),e.Q6J("ngIf",t.controls.firstName.valid&&t.controls.lastName.valid)}}function ca(n,r){if(1&n&&(e.TgZ(0,"div",95),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).index;e.xp6(1),e.hij(" Tr\u1ebb em ",t+1," ")}}function da(n,r){if(1&n&&(e.TgZ(0,"div",95),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t.controls.lastName.value.toUpperCase()+" "+t.controls.firstName.value.toUpperCase()," ")}}function pa(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"input",61,62),e.NdJ("change",function(o){e.CHM(t);const a=e.oxw(2).$implicit,l=e.oxw();return e.KtG(l.onFilesSelected(o,a))}),e.qZA(),e.TgZ(3,"button",38),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(2);return e.KtG(o.click())}),e._uU(4," Upload th\xf4ng tin kh\xe1ch n\xe0y "),e.qZA()()}}function _a(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.gender)}}function ga(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.lastName)}}function fa(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.firstName)}}function ma(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.birthday)}}function ha(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.DoBChild)}}function xa(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.DoBChildUnder)}}function va(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.DoBChildUpper)}}function Ca(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.cccdNumber)}}function ba(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.minlengthCccdNumber)}}function ya(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.maxlengthCccdNumber)}}function Ea(n,r){if(1&n&&(e.TgZ(0,"div")(1,"cf-input-group",30),e._UZ(2,"input",72),e.YNc(3,Ca,1,1,"cf-input-hint",25),e.YNc(4,ba,1,1,"cf-input-hint",25),e.YNc(5,ya,1,1,"cf-input-hint",25),e.qZA()()),2&n){const t=e.oxw(3).$implicit,i=e.oxw();e.xp6(1),e.Q6J("status",t.controls.cccdNumber.invalid&&(t.controls.cccdNumber.dirty||t.controls.cccdNumber.touched)?"error":"default"),e.xp6(1),e.Q6J("formControl",i.getFormControlInArray(t,"cccdNumber")),e.xp6(1),e.Q6J("ngIf",t.controls.cccdNumber.hasError("required")&&(t.controls.cccdNumber.touched||t.controls.cccdNumber.dirty)),e.xp6(1),e.Q6J("ngIf",t.controls.cccdNumber.hasError("minlength")&&(t.controls.cccdNumber.touched||t.controls.cccdNumber.dirty)),e.xp6(1),e.Q6J("ngIf",t.controls.cccdNumber.hasError("maxlength")&&(t.controls.cccdNumber.touched||t.controls.cccdNumber.dirty))}}function Za(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.maxlengthPassportNumber)}}function Ta(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.passportNumber)}}function Da(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.nationality)}}function Aa(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.issuanceCountry)}}function ka(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.issuanceDate)}}function Ia(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.issuanceDateInvalid)}}function Na(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.expiryDate)}}function Ua(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",73)(1,"cf-input-group",30)(2,"label",23),e._uU(3," S\u1ed1 h\u1ed9 chi\u1ebfu "),e.qZA(),e._UZ(4,"input",74),e.YNc(5,Za,1,1,"cf-input-hint",25),e.YNc(6,Ta,1,1,"cf-input-hint",25),e.qZA(),e.TgZ(7,"cf-select",75)(8,"label",23),e._uU(9," Qu\u1ed1c t\u1ecbch "),e.qZA(),e.YNc(10,Da,1,1,"cf-input-hint",25),e.qZA(),e.TgZ(11,"cf-select",76)(12,"label",23),e._uU(13," Qu\u1ed1c gia c\u1ea5p h\u1ed9 chi\u1ebfu "),e.qZA(),e.YNc(14,Aa,1,1,"cf-input-hint",25),e.qZA(),e.TgZ(15,"div")(16,"cf-input-group",30),e._UZ(17,"cf-icon",49),e.TgZ(18,"label",23),e._uU(19," Ng\xe0y c\u1ea5p "),e.qZA(),e.TgZ(20,"input",77,78),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(21);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(21);return e.KtG(o.close())}),e.qZA(),e.YNc(22,ka,1,1,"cf-input-hint",25),e.YNc(23,Ia,1,1,"cf-input-hint",25),e.qZA()(),e.TgZ(24,"div")(25,"cf-input-group",30),e._UZ(26,"cf-icon",49),e.TgZ(27,"label",23),e._uU(28," Ng\xe0y h\u1ebft h\u1ea1n "),e.qZA(),e.TgZ(29,"input",79,80),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(30);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(30);return e.KtG(o.close())}),e.qZA(),e.YNc(31,Na,1,1,"cf-input-hint",25),e.qZA(),e.TgZ(32,"div",81),e._uU(33," C\xf2n h\u1ea1n tr\xean 6 th\xe1ng so v\u1edbi ng\xe0y b\u1eaft \u0111\u1ea7u h\xe0nh tr\xecnh"),e.qZA()()()}if(2&n){const t=e.oxw(3).$implicit,i=e.oxw();e.xp6(1),e.Q6J("status",t.controls.number.invalid&&(t.controls.number.dirty||t.controls.number.touched)?"error":"default"),e.xp6(3),e.Q6J("formControl",i.getFormControlInArray(t,"number")),e.xp6(1),e.Q6J("ngIf",t.controls.number.hasError("maxlength")&&(t.controls.number.touched||t.controls.number.dirty)),e.xp6(1),e.Q6J("ngIf",t.controls.number.hasError("required")&&(t.controls.number.touched||t.controls.number.dirty)),e.xp6(1),e.Q6J("status",t.controls.nationality.invalid&&(t.controls.nationality.dirty||t.controls.nationality.touched)?"error":"default")("data",i.countryOption)("allowSearch",!0)("formControl",i.getFormControlInArray(t,"nationality")),e.xp6(3),e.Q6J("ngIf",t.controls.nationality.hasError("required")&&(t.controls.nationality.touched||t.controls.nationality.dirty)),e.xp6(1),e.Q6J("data",i.countryOption)("status",t.controls.issuanceCountry.invalid&&(t.controls.issuanceCountry.dirty||t.controls.issuanceCountry.touched)?"error":"default")("allowSearch",!0)("formControl",i.getFormControlInArray(t,"issuanceCountry")),e.xp6(3),e.Q6J("ngIf",t.controls.issuanceCountry.hasError("required")&&(t.controls.issuanceCountry.touched||t.controls.issuanceCountry.dirty)),e.xp6(2),e.Q6J("status",t.controls.issuanceDate.invalid&&(t.controls.issuanceDate.dirty||t.controls.issuanceDate.touched)?"error":"default"),e.xp6(4),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("maxDate",i.currentDate)("formControl",i.getFormControlInArray(t,"issuanceDate")),e.xp6(2),e.Q6J("ngIf",t.controls.issuanceDate.hasError("required")&&(t.controls.issuanceDate.touched||t.controls.issuanceDate.dirty)),e.xp6(1),e.Q6J("ngIf",t.controls.issuanceDate.hasError("issuanceDateInvalid")&&(t.controls.issuanceDate.touched||t.controls.issuanceDate.dirty)),e.xp6(2),e.Q6J("status",t.controls.expiryDate.invalid&&(t.controls.expiryDate.dirty||t.controls.expiryDate.touched)?"error":"default"),e.xp6(4),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("minDate",i.currentDate)("formControl",i.getFormControlInArray(t,"expiryDate")),e.xp6(2),e.Q6J("ngIf",t.controls.expiryDate.hasError("required")&&(t.controls.expiryDate.touched||t.controls.expiryDate.dirty))}}function qa(n,r){1&n&&(e.TgZ(0,"div",82),e._uU(1," Khuy\u1ebfn ngh\u1ecb nh\u1eadp CCCD/H\u1ed9 chi\u1ebfu kh\xe1ch h\xe0ng, n\u1ebfu kh\xf4ng h\xe3ng s\u1ebd kh\xf4ng h\u1ed7 tr\u1ee3 khi g\u1eb7p s\u1ef1 c\u1ed1 "),e.qZA())}function wa(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",64)(1,"div",65)(2,"label",66),e._uU(3," Gi\u1ea5y t\u1edd t\xf9y th\xe2n "),e.qZA(),e.TgZ(4,"div")(5,"div",43)(6,"cf-radio-group",67),e.NdJ("checkChange",function(o){e.CHM(t);const a=e.oxw(2).$implicit,l=e.oxw();return e.KtG(l.onIdentityChange(o,a))}),e.TgZ(7,"cf-radio",68),e._uU(8," CCCD "),e.qZA(),e.TgZ(9,"cf-radio",69),e._uU(10," H\u1ed9 chi\u1ebfu "),e.qZA(),e.TgZ(11,"cf-radio",68),e._uU(12,"Kh\xf4ng c\xf3"),e.qZA()(),e.YNc(13,Ea,6,5,"div",4),e.YNc(14,Ua,34,27,"div",70),e.YNc(15,qa,2,0,"div",71),e.qZA()()()()}if(2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(4),e.Q6J("formControl",i.getFormControlInArray(t,"documentType")),e.xp6(1),e.Q6J("disabled",i.hasAirportInternational)("value",i.CF_IDENTIFY_TYPE.CCCD),e.xp6(2),e.Q6J("value",i.CF_IDENTIFY_TYPE.PASSPORT),e.xp6(2),e.Q6J("disabled",i.hasVJAirline&&i.hasRouteGroupRequire)("value",i.CF_IDENTIFY_TYPE.NON_IDENTIFY),e.xp6(2),e.Q6J("ngIf",t.value.documentType===i.CF_IDENTIFY_TYPE.CCCD),e.xp6(1),e.Q6J("ngIf",t.value.documentType===i.CF_IDENTIFY_TYPE.PASSPORT),e.xp6(1),e.Q6J("ngIf",t.value.documentType===i.CF_IDENTIFY_TYPE.NON_IDENTIFY)}}function Ba(n,r){1&n&&(e.TgZ(0,"div",96),e._uU(1," Th\xf4ng tin b\u1ed5 sung "),e.qZA())}function Pa(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",40)(1,"div"),e.YNc(2,ca,2,1,"div",92),e.YNc(3,da,2,1,"div",92),e.qZA(),e.YNc(4,pa,5,0,"div",4),e.qZA(),e.TgZ(5,"div",43)(6,"div",44)(7,"div",41)(8,"cf-select",45)(9,"label",46),e._uU(10,"Gi\u1edbi t\xednh"),e.qZA(),e.YNc(11,_a,1,1,"cf-input-hint",25),e.qZA()(),e.TgZ(12,"div",41)(13,"cf-input-group",30)(14,"label",23)(15,"span",24),e._uU(16,"H\u1ecd"),e.qZA()(),e.TgZ(17,"input",93),e.NdJ("blur",function(o){e.CHM(t);const a=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onBlurInput(o,a,"lastName"))}),e.qZA(),e.YNc(18,ga,1,1,"cf-input-hint",25),e.qZA()(),e.TgZ(19,"div",41)(20,"cf-input-group",30)(21,"label",23)(22,"span",24),e._uU(23,"T\xean \u0111\u1ec7m v\xe0 T\xean"),e.qZA()(),e.TgZ(24,"input",48),e.NdJ("blur",function(o){e.CHM(t);const a=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onBlurInput(o,a,"firstName"))}),e.qZA(),e.YNc(25,fa,1,1,"cf-input-hint",25),e.qZA()(),e.TgZ(26,"div",41)(27,"cf-input-group",30),e._UZ(28,"cf-icon",49),e.TgZ(29,"label",23)(30,"span",24),e._uU(31,"Ng\xe0y sinh"),e.qZA(),e._uU(32,"\xa0 "),e.TgZ(33,"span",50),e._uU(34," (Tu\u1ed5i 2 - 12) "),e.qZA()(),e.TgZ(35,"input",51,52),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(36);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(36);return e.KtG(o.close())}),e.qZA(),e.YNc(37,ma,1,1,"cf-input-hint",25),e.YNc(38,ha,1,1,"cf-input-hint",25),e.YNc(39,xa,1,1,"cf-input-hint",25),e.YNc(40,va,1,1,"cf-input-hint",25),e.qZA()()(),e.YNc(41,wa,16,10,"div",53),e.TgZ(42,"cf-collapse",54)(43,"cf-collapse-panel",55),e.YNc(44,Ba,2,0,"ng-template",null,56,e.W1O),e.TgZ(46,"div",57)(47,"cf-input-group",58)(48,"label",23),e._uU(49," Bamboo Airways (QH) "),e.qZA(),e._UZ(50,"input",94),e.qZA(),e.TgZ(51,"cf-input-group",58)(52,"label",23),e._uU(53," Vietnam Airlines (VNA) "),e.qZA(),e._UZ(54,"input",94),e.qZA()()()()()}if(2&n){const t=e.MAs(45),i=e.oxw().$implicit,o=e.oxw();e.xp6(2),e.Q6J("ngIf",!(i.controls.firstName.valid&&i.controls.lastName.valid)),e.xp6(1),e.Q6J("ngIf",i.controls.firstName.valid&&i.controls.lastName.valid),e.xp6(1),e.Q6J("ngIf",o.canExtractImageToDocument),e.xp6(4),e.Q6J("status",i.controls.gender.invalid&&(i.controls.gender.dirty||i.controls.gender.touched)?"error":"default")("data",o.optionsGender)("allowSearch",!1)("formControl",o.getFormControlInArray(i,"gender")),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("ngIf",i.controls.gender.hasError("required")&&(i.controls.gender.touched||i.controls.gender.dirty)),e.xp6(2),e.Q6J("status",i.controls.lastName.invalid&&(i.controls.lastName.dirty||i.controls.lastName.touched)?"error":"default")("status","default"),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",o.getFormControlInArray(i,"lastName")),e.xp6(1),e.Q6J("ngIf",i.controls.lastName.hasError("required")&&(i.controls.lastName.touched||i.controls.lastName.dirty)),e.xp6(2),e.Q6J("status",i.controls.firstName.invalid&&(i.controls.firstName.dirty||i.controls.firstName.touched)?"error":"default")("status","default"),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",o.getFormControlInArray(i,"firstName")),e.xp6(1),e.Q6J("ngIf",i.controls.firstName.hasError("required")&&(i.controls.firstName.touched||i.controls.firstName.dirty)),e.xp6(2),e.Q6J("status",i.controls.birthday.invalid&&(i.controls.birthday.dirty||i.controls.birthday.touched)?"error":"default")("status","default"),e.xp6(3),e.Q6J("CfRequired",!0),e.xp6(5),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("formControl",o.getFormControlInArray(i,"birthday")),e.xp6(2),e.Q6J("ngIf",i.controls.birthday.hasError("required")&&(i.controls.birthday.touched||i.controls.birthday.dirty)),e.xp6(1),e.Q6J("ngIf",i.controls.birthday.hasError("DoBChild")&&i.controls.birthday.touched),e.xp6(1),e.Q6J("ngIf",i.controls.birthday.hasError("DoBChildUnder")&&i.controls.birthday.touched),e.xp6(1),e.Q6J("ngIf",i.controls.birthday.hasError("DoBChildUpper")&&i.controls.birthday.touched),e.xp6(1),e.Q6J("ngIf",o.hasAirportInternational),e.xp6(2),e.Q6J("title",t)("active",!1),e.xp6(7),e.Q6J("formControl",o.getFormControlInArray(i,"membershipQH")),e.xp6(4),e.Q6J("formControl",o.getFormControlInArray(i,"membershipVN"))}}function Fa(n,r){if(1&n&&(e.ynx(0,null,85),e.TgZ(2,"cf-collapse",86)(3,"cf-collapse-panel",87),e.YNc(4,la,2,2,"ng-template",null,56,e.W1O),e.GkF(6,88),e.qZA()(),e.TgZ(7,"div",18),e.GkF(8,88),e.YNc(9,Pa,55,34,"ng-template",null,89,e.W1O),e.qZA(),e.BQk()),2&n){const t=e.MAs(5),i=e.MAs(10);e.xp6(3),e.Q6J("title",t)("active",!0),e.xp6(3),e.Q6J("ngTemplateOutlet",i),e.xp6(2),e.Q6J("ngTemplateOutlet",i)}}function Ja(n,r){if(1&n&&(e.TgZ(0,"div",95),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).index;e.xp6(1),e.hij(" Em b\xe9 ",t+1,"")}}function Qa(n,r){if(1&n&&(e.TgZ(0,"div",95),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t.controls.lastName.value.toUpperCase()+" "+t.controls.firstName.value.toUpperCase()," ")}}function Sa(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"input",61,62),e.NdJ("change",function(o){e.CHM(t);const a=e.oxw(2).$implicit,l=e.oxw();return e.KtG(l.onFilesSelected(o,a))}),e.qZA(),e.TgZ(3,"button",38),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(2);return e.KtG(o.click())}),e._uU(4," Upload th\xf4ng tin kh\xe1ch n\xe0y "),e.qZA()()}}function Ya(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.gender)}}function Ma(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.lastName)}}function Oa(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.firstName)}}function Ra(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.birthday)}}function ja(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.DoBInfant)}}function Ga(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.parentIndex)}}function La(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.ParentInfantDupplicate)}}function Ha(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.cccdNumber)}}function Va(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.minlengthCccdNumber)}}function za(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.maxlengthCccdNumber)}}function Ka(n,r){if(1&n&&(e.TgZ(0,"div")(1,"cf-input-group",30),e._UZ(2,"input",72),e.YNc(3,Ha,1,1,"cf-input-hint",25),e.YNc(4,Va,1,1,"cf-input-hint",25),e.YNc(5,za,1,1,"cf-input-hint",25),e.qZA()()),2&n){const t=e.oxw(3).$implicit,i=e.oxw();e.xp6(1),e.Q6J("status",t.controls.cccdNumber.invalid&&(t.controls.cccdNumber.dirty||t.controls.cccdNumber.touched)?"error":"default"),e.xp6(1),e.Q6J("formControl",i.getFormControlInArray(t,"cccdNumber")),e.xp6(1),e.Q6J("ngIf",t.controls.cccdNumber.hasError("required")&&(t.controls.cccdNumber.touched||t.controls.cccdNumber.dirty)),e.xp6(1),e.Q6J("ngIf",t.controls.cccdNumber.hasError("minlength")&&(t.controls.cccdNumber.touched||t.controls.cccdNumber.dirty)),e.xp6(1),e.Q6J("ngIf",t.controls.cccdNumber.hasError("maxlength")&&(t.controls.cccdNumber.touched||t.controls.cccdNumber.dirty))}}function $a(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.maxlengthPassportNumber)}}function Xa(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.passportNumber)}}function Wa(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.nationality)}}function es(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.issuanceCountry)}}function ts(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.issuanceDate)}}function ns(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.issuanceDateInvalid)}}function is(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.expiryDate)}}function os(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",73)(1,"cf-input-group",30)(2,"label",23),e._uU(3," S\u1ed1 h\u1ed9 chi\u1ebfu "),e.qZA(),e._UZ(4,"input",74),e.YNc(5,$a,1,1,"cf-input-hint",25),e.YNc(6,Xa,1,1,"cf-input-hint",25),e.qZA(),e.TgZ(7,"cf-select",75)(8,"label",23),e._uU(9," Qu\u1ed1c t\u1ecbch "),e.qZA(),e.YNc(10,Wa,1,1,"cf-input-hint",25),e.qZA(),e.TgZ(11,"cf-select",76)(12,"label",23),e._uU(13," Qu\u1ed1c gia c\u1ea5p h\u1ed9 chi\u1ebfu "),e.qZA(),e.YNc(14,es,1,1,"cf-input-hint",25),e.qZA(),e.TgZ(15,"div")(16,"cf-input-group",30),e._UZ(17,"cf-icon",49),e.TgZ(18,"label",23),e._uU(19," Ng\xe0y c\u1ea5p "),e.qZA(),e.TgZ(20,"input",77,78),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(21);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(21);return e.KtG(o.close())}),e.qZA(),e.YNc(22,ts,1,1,"cf-input-hint",25),e.YNc(23,ns,1,1,"cf-input-hint",25),e.qZA()(),e.TgZ(24,"div")(25,"cf-input-group",30),e._UZ(26,"cf-icon",49),e.TgZ(27,"label",23),e._uU(28," Ng\xe0y h\u1ebft h\u1ea1n "),e.qZA(),e.TgZ(29,"input",79,80),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(30);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(30);return e.KtG(o.close())}),e.qZA(),e.YNc(31,is,1,1,"cf-input-hint",25),e.qZA(),e.TgZ(32,"div",81),e._uU(33," C\xf2n h\u1ea1n tr\xean 6 th\xe1ng so v\u1edbi ng\xe0y b\u1eaft \u0111\u1ea7u h\xe0nh tr\xecnh"),e.qZA()()()}if(2&n){const t=e.oxw(3).$implicit,i=e.oxw();e.xp6(1),e.Q6J("status",t.controls.number.invalid&&(t.controls.number.dirty||t.controls.number.touched)?"error":"default"),e.xp6(3),e.Q6J("formControl",i.getFormControlInArray(t,"number")),e.xp6(1),e.Q6J("ngIf",t.controls.number.hasError("maxlength")&&(t.controls.number.touched||t.controls.number.dirty)),e.xp6(1),e.Q6J("ngIf",t.controls.number.hasError("required")&&(t.controls.number.touched||t.controls.number.dirty)),e.xp6(1),e.Q6J("status",t.controls.nationality.invalid&&(t.controls.nationality.dirty||t.controls.nationality.touched)?"error":"default")("data",i.countryOption)("allowSearch",!0)("formControl",i.getFormControlInArray(t,"nationality")),e.xp6(3),e.Q6J("ngIf",t.controls.nationality.hasError("required")&&(t.controls.nationality.touched||t.controls.nationality.dirty)),e.xp6(1),e.Q6J("data",i.countryOption)("status",t.controls.issuanceCountry.invalid&&(t.controls.issuanceCountry.dirty||t.controls.issuanceCountry.touched)?"error":"default")("allowSearch",!0)("formControl",i.getFormControlInArray(t,"issuanceCountry")),e.xp6(3),e.Q6J("ngIf",t.controls.issuanceCountry.hasError("required")&&(t.controls.issuanceCountry.touched||t.controls.issuanceCountry.dirty)),e.xp6(2),e.Q6J("status",t.controls.issuanceDate.invalid&&(t.controls.issuanceDate.dirty||t.controls.issuanceDate.touched)?"error":"default"),e.xp6(4),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("maxDate",i.currentDate)("formControl",i.getFormControlInArray(t,"issuanceDate")),e.xp6(2),e.Q6J("ngIf",t.controls.issuanceDate.hasError("required")&&(t.controls.issuanceDate.touched||t.controls.issuanceDate.dirty)),e.xp6(1),e.Q6J("ngIf",t.controls.issuanceDate.hasError("issuanceDateInvalid")&&(t.controls.issuanceDate.touched||t.controls.issuanceDate.dirty)),e.xp6(2),e.Q6J("status",t.controls.expiryDate.invalid&&(t.controls.expiryDate.dirty||t.controls.expiryDate.touched)?"error":"default"),e.xp6(4),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("minDate",i.currentDate)("formControl",i.getFormControlInArray(t,"expiryDate")),e.xp6(2),e.Q6J("ngIf",t.controls.expiryDate.hasError("required")&&(t.controls.expiryDate.touched||t.controls.expiryDate.dirty))}}function rs(n,r){1&n&&(e.TgZ(0,"div",82),e._uU(1," Khuy\u1ebfn ngh\u1ecb nh\u1eadp CCCD/H\u1ed9 chi\u1ebfu kh\xe1ch h\xe0ng, n\u1ebfu kh\xf4ng h\xe3ng s\u1ebd kh\xf4ng h\u1ed7 tr\u1ee3 khi g\u1eb7p s\u1ef1 c\u1ed1 "),e.qZA())}function as(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",64)(1,"div",65)(2,"label",66),e._uU(3," Gi\u1ea5y t\u1edd t\xf9y th\xe2n "),e.qZA(),e.TgZ(4,"div")(5,"div",43)(6,"cf-radio-group",67),e.NdJ("checkChange",function(o){e.CHM(t);const a=e.oxw(2).$implicit,l=e.oxw();return e.KtG(l.onIdentityChange(o,a))}),e.TgZ(7,"cf-radio",68),e._uU(8," CCCD "),e.qZA(),e.TgZ(9,"cf-radio",69),e._uU(10," H\u1ed9 chi\u1ebfu "),e.qZA(),e.TgZ(11,"cf-radio",69),e._uU(12,"Kh\xf4ng c\xf3"),e.qZA()(),e.YNc(13,Ka,6,5,"div",4),e.YNc(14,os,34,27,"div",70),e.YNc(15,rs,2,0,"div",71),e.qZA()()()()}if(2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(4),e.Q6J("formControl",i.getFormControlInArray(t,"documentType")),e.xp6(1),e.Q6J("disabled",i.hasAirportInternational)("value",i.CF_IDENTIFY_TYPE.CCCD),e.xp6(2),e.Q6J("value",i.CF_IDENTIFY_TYPE.PASSPORT),e.xp6(2),e.Q6J("value",i.CF_IDENTIFY_TYPE.NON_IDENTIFY),e.xp6(2),e.Q6J("ngIf",t.value.documentType===i.CF_IDENTIFY_TYPE.CCCD),e.xp6(1),e.Q6J("ngIf",t.value.documentType===i.CF_IDENTIFY_TYPE.PASSPORT),e.xp6(1),e.Q6J("ngIf",t.value.documentType===i.CF_IDENTIFY_TYPE.NON_IDENTIFY)}}function ss(n,r){1&n&&(e.TgZ(0,"div",96),e._uU(1," Th\xf4ng tin b\u1ed5 sung "),e.qZA())}function us(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",40)(1,"div"),e.YNc(2,Ja,2,1,"div",92),e.YNc(3,Qa,2,1,"div",92),e.qZA(),e.YNc(4,Sa,5,0,"div",4),e.qZA(),e.TgZ(5,"div",43)(6,"div",44)(7,"div",41)(8,"cf-select",45)(9,"label",23)(10,"span",24),e._uU(11,"Gi\u1edbi t\xednh"),e.qZA()(),e.YNc(12,Ya,1,1,"cf-input-hint",25),e.qZA()(),e.TgZ(13,"div",41)(14,"cf-input-group",30)(15,"label",23)(16,"span",24),e._uU(17,"H\u1ecd"),e.qZA()(),e.TgZ(18,"input",93),e.NdJ("blur",function(o){e.CHM(t);const a=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onBlurInput(o,a,"lastName"))}),e.qZA(),e.YNc(19,Ma,1,1,"cf-input-hint",25),e.qZA()(),e.TgZ(20,"div",41)(21,"cf-input-group",30)(22,"label",23)(23,"span",24),e._uU(24,"T\xean \u0111\u1ec7m v\xe0 T\xean"),e.qZA()(),e.TgZ(25,"input",48),e.NdJ("blur",function(o){e.CHM(t);const a=e.oxw().$implicit,l=e.oxw();return e.KtG(l.onBlurInput(o,a,"firstName"))}),e.qZA(),e.YNc(26,Oa,1,1,"cf-input-hint",25),e.qZA()(),e.TgZ(27,"div",41)(28,"div")(29,"cf-input-group",30),e._UZ(30,"cf-icon",49),e.TgZ(31,"label",23)(32,"span",24),e._uU(33,"Ng\xe0y sinh"),e.qZA(),e._uU(34,"\xa0 "),e.TgZ(35,"span",50),e._uU(36," (Nh\u1ecf h\u01a1n 2 tu\u1ed5i) "),e.qZA()(),e.TgZ(37,"input",99,52),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(38);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(38);return e.KtG(o.close())}),e.qZA(),e.YNc(39,Ra,1,1,"cf-input-hint",25),e.YNc(40,ja,1,1,"cf-input-hint",25),e.qZA()()(),e.TgZ(41,"div",41)(42,"cf-select",100,101)(44,"label",23)(45,"span",24),e._uU(46,"Thu\u1ed9c h\xe0nh kh\xe1ch ng\u01b0\u1eddi l\u1edbn"),e.qZA()(),e.YNc(47,Ga,1,1,"cf-input-hint",25),e.YNc(48,La,1,1,"cf-input-hint",25),e.qZA()()(),e.YNc(49,as,16,9,"div",53),e.TgZ(50,"cf-collapse",54)(51,"cf-collapse-panel",55),e.YNc(52,ss,2,0,"ng-template",null,56,e.W1O),e.TgZ(54,"div",57)(55,"cf-input-group",58)(56,"label",23),e._uU(57," Bamboo Airways (QH) "),e.qZA(),e._UZ(58,"input",59),e.qZA(),e.TgZ(59,"cf-input-group",58)(60,"label",23),e._uU(61," Vietnam Airlines (VNA) "),e.qZA(),e._UZ(62,"input",59),e.qZA()()()()()}if(2&n){const t=e.MAs(53),i=e.oxw().$implicit,o=e.oxw();e.xp6(2),e.Q6J("ngIf",!(i.controls.firstName.valid&&i.controls.lastName.valid)),e.xp6(1),e.Q6J("ngIf",i.controls.firstName.valid&&i.controls.lastName.valid),e.xp6(1),e.Q6J("ngIf",o.canExtractImageToDocument),e.xp6(4),e.Q6J("status",i.controls.gender.invalid&&(i.controls.gender.dirty||i.controls.gender.touched)?"error":"default")("data",o.optionsGender)("allowSearch",!1)("formControl",o.getFormControlInArray(i,"gender")),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("ngIf",i.controls.gender.hasError("required")&&(i.controls.gender.touched||i.controls.gender.dirty)),e.xp6(2),e.Q6J("status",i.controls.lastName.invalid&&(i.controls.lastName.dirty||i.controls.lastName.touched)?"error":"default"),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",o.getFormControlInArray(i,"lastName")),e.xp6(1),e.Q6J("ngIf",i.controls.lastName.hasError("required")&&(i.controls.lastName.touched||i.controls.lastName.dirty)),e.xp6(2),e.Q6J("status",i.controls.firstName.invalid&&(i.controls.firstName.dirty||i.controls.firstName.touched)?"error":"default"),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",o.getFormControlInArray(i,"firstName")),e.xp6(1),e.Q6J("ngIf",i.controls.firstName.hasError("required")&&(i.controls.firstName.touched||i.controls.firstName.dirty)),e.xp6(3),e.Q6J("status",i.controls.birthday.invalid&&(i.controls.birthday.dirty||i.controls.birthday.touched)?"error":"default"),e.xp6(3),e.Q6J("CfRequired",!0),e.xp6(5),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("maxDate",o.currentDate)("formControl",o.getFormControlInArray(i,"birthday")),e.xp6(2),e.Q6J("ngIf",i.controls.birthday.hasError("required")&&(i.controls.birthday.touched||i.controls.birthday.dirty)),e.xp6(1),e.Q6J("ngIf",i.controls.birthday.hasError("DoBInfant")&&i.controls.birthday.touched),e.xp6(2),e.Q6J("status",i.controls.parentIndex.invalid&&(i.controls.parentIndex.dirty||i.controls.parentIndex.touched)?"error":"default")("data",o.optionsAdultPassenger)("allowSearch",!1)("formControl",i.controls.parentIndex),e.xp6(3),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("ngIf",i.controls.parentIndex.hasError("required")&&(i.controls.parentIndex.touched||i.controls.parentIndex.dirty)),e.xp6(1),e.Q6J("ngIf",i.controls.parentIndex.hasError("ParentInfantDupplicate")&&(i.controls.parentIndex.touched||i.controls.parentIndex.dirty)),e.xp6(1),e.Q6J("ngIf",o.hasAirportInternational),e.xp6(2),e.Q6J("title",t)("active",!1),e.xp6(7),e.Q6J("formControl",o.getFormControlInArray(i,"membershipQH")),e.xp6(4),e.Q6J("formControl",o.getFormControlInArray(i,"membershipVN"))}}function ls(n,r){if(1&n&&(e.ynx(0,null,97),e.TgZ(2,"div",18),e.GkF(3,88),e.YNc(4,us,63,37,"ng-template",null,98,e.W1O),e.qZA(),e.BQk()),2&n){const t=e.MAs(5);e.xp6(3),e.Q6J("ngTemplateOutlet",t)}}function cs(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw(2);e.Q6J("hint",t.errorMessage.agentId)}}function ds(n,r){1&n&&e._UZ(0,"cf-icon",106)}function ps(n,r){1&n&&(e.TgZ(0,"div",109),e._uU(1," Remark c\xf4ng khai"),e.qZA())}function _s(n,r){1&n&&(e.TgZ(0,"div",109),e._uU(1," Remark"),e.qZA())}function gs(n,r){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,ps,2,0,"div",107),e.YNc(2,_s,2,0,"div",107),e.TgZ(3,"div"),e._UZ(4,"textarea",108),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.canPublicRemark&&t.canPrivateRemark),e.xp6(1),e.Q6J("ngIf",t.canPublicRemark&&!t.canPrivateRemark),e.xp6(2),e.Q6J("formControl",t.getFormControlInArray(t.formGroup,"publicRemark"))}}function fs(n,r){if(1&n&&(e.TgZ(0,"div")(1,"div",109),e._uU(2,"Remark b\xed m\u1eadt"),e.qZA(),e.TgZ(3,"div"),e._UZ(4,"textarea",108),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("formControl",t.getFormControlInArray(t.formGroup,"secretRemark"))}}const ms=function(n){return{"opacity-50 pointer-events-none cursor-default":n}};function hs(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",102)(1,"div",14)(2,"div",15),e._UZ(3,"div",16),e.TgZ(4,"div",17),e._uU(5,"Ch\u1ecdn \u0111\u1ea1i l\xfd s\u1edf h\u1eefu"),e.qZA()()(),e.TgZ(6,"div",103)(7,"div",3)(8,"cf-select",104),e.NdJ("selectedChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onSelectAgent(o))}),e.TgZ(9,"label",23)(10,"span",24),e._uU(11,"Thu\u1ed9c \u0111\u1ea1i l\xfd"),e.qZA()(),e.YNc(12,cs,1,1,"cf-input-hint",25),e.qZA(),e.YNc(13,ds,1,0,"cf-icon",105),e.qZA(),e.YNc(14,gs,5,3,"div",4),e.YNc(15,fs,5,1,"div",4),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(8),e.Q6J("ngClass",e.VKq(11,ms,t.isDisableAgentOption))("status",t.formGroup.controls.agentId.invalid&&(t.formGroup.controls.agentId.dirty||t.formGroup.controls.agentId.touched)?"error":"default")("data",t.agentOption)("ngModel",t.agentSelected)("allowSearch",!0)("formControl",t.getFormControlInArray(t.formGroup,"agentId")),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("ngIf",t.formGroup.controls.agentId.hasError("required")&&(t.formGroup.controls.agentId.touched||t.formGroup.controls.agentId.dirty)),e.xp6(1),e.Q6J("ngIf",t.isDisableAgentOption),e.xp6(1),e.Q6J("ngIf",t.canPublicRemark),e.xp6(1),e.Q6J("ngIf",t.canPrivateRemark)}}function xs(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw();e.Q6J("hint",t.errorMessage.areaCode)}}function vs(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw();e.Q6J("hint",t.errorMessage.phone)}}function Cs(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw();e.Q6J("hint",t.errorMessage.minlengthPhone)}}function bs(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw();e.Q6J("hint",t.errorMessage.maxlengthPhone)}}function ys(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw();e.Q6J("hint",t.errorMessage.phoneBlacklisted)}}function Es(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw();e.Q6J("hint",t.errorMessage.email)}}function Zs(n,r){if(1&n&&e._UZ(0,"cf-input-hint",63),2&n){const t=e.oxw();e.Q6J("hint",t.errorMessage.emailFormat)}}function Ts(n,r){1&n&&(e.TgZ(0,"cf-spinner")(1,"div",110),e._uU(2,"Flychills cam k\u1ebft kh\xf4ng l\u01b0u tr\u1eef files ho\u1eb7c s\u1eed d\u1ee5ng cho b\u1ea5t k\xec m\u1ee5c \u0111\xedch kh\xe1c."),e.qZA()())}let wn=(()=>{class n{constructor(t,i,o,a,l,d,x,b,g,A,Z,q,I,B,V,ne,We){var et;this.fb=t,this._iconRegister=i,this.calendar=o,this._userService=a,this._systemService=l,this._permissionService=d,this._modal=x,this._locationDataService=b,this._phoneDataService=g,this._bookFlightService=A,this._aiService=Z,this._toastService=q,this._mobileDetectService=I,this._bottomSheetService=B,this.ref=V,this.bottomSheetData=ne,this.bottomSheetRef=We,this.phoneAreaDefault=D.$T,this.identityType=D.FV.CCCD,this.CF_IDENTIFY_TYPE=D.FV,this.isShowForBooker=!this._permissionService.isVNAccount(),this.isDisableAgentOption=!0,this.agentSelected="",this.agentOption=[],this.optionsAreaCode=this._phoneDataService.optionsAreaCode,this.canPrivateRemark=this._permissionService.hasPermission(ue.or.CreateFlightPrivateRemark),this.canPublicRemark=this._permissionService.hasPermission(ue.or.CreateFlightPublicRemark),this.checkPhoneRequired=this._systemService.isFeatureEnabled(D.Ke.Web_Features_RulePhoneNumber_RulePhoneNumberVJ_Enable),this.hasVJAirline=!1,this.adultNumber=0,this.childNumber=0,this.infantNumber=0,this.optionsGender=[{text:"Nam",value:"male"},{text:"N\u1eef",value:"female"}],this.canExtractImageToDocument=this._permissionService.hasPermission(ue.or.CanExtractImageToDocument),this.hasAirportInternational=!1,this.errorMessage={lastName:"H\u1ecd kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",firstName:"T\xean \u0111\u1ec7m v\xe0 T\xean kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",birthday:"Ng\xe0y sinh kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",DoBChild:"Ng\xe0y sinh kh\xf4ng h\u1ee3p l\u1ec7",DoBChildUnder:"Ng\xe0y sinh ph\u1ea3i t\u1eeb ng\xe0y {0} tr\u1edf v\u1ec1 tr\u01b0\u1edbc",DoBChildUpper:"Ng\xe0y sinh ph\u1ea3i t\u1eeb ng\xe0y {0} tr\u1edf v\u1ec1 sau",DoBInfant:"Ng\xe0y sinh ph\u1ea3i t\u1eeb ng\xe0y {0}",gender:"Gi\u1edbi t\xednh kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",email:"Email kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",emailFormat:"\u0110\u1ecbnh d\u1ea1ng kh\xf4ng h\u1ee3p l\u1ec7",phone:"Sdt kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",phoneBlacklisted:"Vui l\xf2ng nh\u1eadp sdt kh\xe1ch h\xe0ng, kh\xf4ng nh\u1eadp sdt c\u1ee7a \u0111\u1ea1i l\xfd",parentIndex:"Ng\u01b0\u1eddi l\u1edbn \u0111i k\xe8m kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",areaCode:"M\xe3 v\xf9ng kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",minlengthPhone:"\u0110i\u1ec7n tho\u1ea1i di \u0111\u1ed9ng t\u1ed1i thi\u1ec3u 7 s\u1ed1",maxlengthPhone:"\u0110i\u1ec7n tho\u1ea1i di \u0111\u1ed9ng t\u1ed1i \u0111a 11 s\u1ed1",agentId:"\u0110\u1ea1i l\xfd kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",ParentInfantDupplicate:"M\u1ed7i ng\u01b0\u1eddi l\u1edbn ch\u1ec9 c\xf3 t\u1ed1i \u0111a 1 em b\xe9 ph\u1ee5 thu\u1ed9c",DoBAdult:"Ng\u01b0\u1eddi l\u1edbn ph\u1ea3i l\u1edbn h\u01a1n 12 tu\u1ed5i",maxlengthPassportNumber:"S\u1ed1 h\u1ed9 chi\u1ebfu t\u1ed1i \u0111a 9 k\xfd t\u1ef1",maxlengthCccdNumber:"S\u1ed1 CCCD t\u1ed1i \u0111a 12 k\xfd t\u1ef1",minlengthCccdNumber:"S\u1ed1 CCCD t\u1ed1i thi\u1ec3u 9 k\xfd t\u1ef1",passportNumber:"S\u1ed1 h\u1ed9 chi\u1ebfu kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",cccdNumber:"S\u1ed1 CCCD kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",nationality:"Qu\u1ed1c t\u1ecbch kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",issuanceCountry:"Qu\u1ed1c gia kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",expiryDate:"Ng\xe0y h\u1ebft h\u1ea1n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",issuanceDate:"Ng\xe0y c\u1ea5p kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",issuanceDateInvalid:"Ng\xe0y c\u1ea5p h\u1ed9 chi\u1ebfu ph\u1ea3i tr\u01b0\u1edbc ng\xe0y h\u1ebft h\u1ea1n"},this.agentInfo=[],this.passengerText="",this.defaultBirthdayAdt=D.H_,this.hasRouteGroupRequire=!1,this.optionsAdultPassenger=[],this.ROUTE_GROUP_REQUIRE=D.nl,this.isExtractingDocument=!1,this.numberOfPaxUpload=0,i.registerIcons([p.IIV,p.Xlt,p.ILM,p.D7,p.rks,p._tC,p.okA,p.Rcu,p.Lxr,p.Hge,p.uQp,p.gW0,p.$S]),this.currentDate=o.getToday(),V&&(this.adultNumber=V.data.adultNumber,this.childNumber=V.data.childNumber,this.infantNumber=V.data.infantNumber,this.bookingDetail=V.data.bookingDetail),We&&(this.adultNumber=ne.adultNumber,this.childNumber=ne.childNumber,this.infantNumber=ne.infantNumber,this.bookingDetail=ne.bookingDetail),this.departureTimestamp=G(new Date).toDate().getTime(),this.currentUserStorage=JSON.parse(null!==(et=localStorage.getItem("currentUser"))&&void 0!==et?et:"").data,this.bookingDetail.journeys.forEach(Je=>{(this._locationDataService.checkAirportInternational(Je.startPoint)||this._locationDataService.checkAirportInternational(Je.endPoint))&&(this.hasAirportInternational=!0)}),this.bookingDetail.journeys.forEach(Je=>{this.ROUTE_GROUP_REQUIRE.has(`${Je.startPoint}-${Je.endPoint}`)&&(this.hasRouteGroupRequire=!0)}),this.earliestDoBChild=(0,Fe.Z)(this.departureTimestamp,-2),this.earliestDoBChild.setHours(0,0,0,0),this.lastestDoBChild=(0,Fe.Z)(this.departureTimestamp,-11),this.lastestDoBInfant=(0,Fe.Z)(this.departureTimestamp,-2),this.lastestDoBInfant=(0,st.Z)(this.lastestDoBInfant,1),this.errorMessage.DoBChildUnder=this.errorMessage.DoBChildUnder.replace("{0}",(0,m.p6)(this.earliestDoBChild,"dd/MM/yyyy","vi-VN")),this.errorMessage.DoBChildUpper=this.errorMessage.DoBChildUpper.replace("{0}",(0,m.p6)(this.lastestDoBChild,"dd/MM/yyyy","vi-VN")),this.errorMessage.DoBInfant=this.errorMessage.DoBInfant.replace("{0}",(0,m.p6)(this.lastestDoBInfant,"dd/MM/yyyy","vi-VN")),this.hasVJAirline="VJ"===this.bookingDetail.provider}ngOnInit(){this.numberOfPaxUpload=this.adultNumber+this.childNumber+this.infantNumber,this.initFormGroup(),this.initAdultPassengerOptions(),this.initAdultFormGroup(),this.initChildFormGroup(),this.initInfantFormGroup(),this.initAgentData(),this.patchValueForm(),this.countryOption=this._locationDataService.getAllCountryOption()}initFormGroup(){this.formGroup=this.fb.group({email:[null,[v.kI.required,v.kI.email]],phone:[null,[v.kI.required,v.kI.minLength(7),v.kI.maxLength(11)]],areaCode:[this.phoneAreaDefault,v.kI.required],agentId:[null,v.kI.required],secretRemark:[null],publicRemark:[null],adultPassenger:this.fb.array([]),childPassenger:this.fb.array([]),infantPassenger:this.fb.array([])},{validator:(0,se.aV)()}),this.formGroup.valueChanges.subscribe(()=>{this.getAdultPassenger()})}initAdultFormGroup(){var t,i,o,a,l,d,x,b,g,A,Z,q;for(let I=0;I<this.adultNumber;I++){const B=this.fb.group({birthday:[null],firstName:[null,[v.kI.required]],lastName:[null,[v.kI.required]],gender:["male",[v.kI.required]],membershipQH:[null],membershipVN:[null],issuanceDate:[null],expiryDate:[null],issuanceCountry:[null],nationality:[null],number:[null],cccdNumber:[null],documentType:[this.identityType],type:["ADT"]},{validators:[(0,se.fJ)("birthday",this.departureTimestamp),(0,se.i4)("issuanceDate","expiryDate")]});this.hasVJAirline&&(this.hasAirportInternational||this.hasRouteGroupRequire)&&(null===(t=B.get("issuanceDate"))||void 0===t||t.setValidators([v.kI.required]),null===(i=B.get("issuanceDate"))||void 0===i||i.updateValueAndValidity(),null===(o=B.get("expiryDate"))||void 0===o||o.setValidators([v.kI.required]),null===(a=B.get("expiryDate"))||void 0===a||a.updateValueAndValidity(),null===(l=B.get("issuanceCountry"))||void 0===l||l.setValidators([v.kI.required]),null===(d=B.get("issuanceCountry"))||void 0===d||d.updateValueAndValidity(),null===(x=B.get("nationality"))||void 0===x||x.setValidators([v.kI.required]),null===(b=B.get("nationality"))||void 0===b||b.updateValueAndValidity(),null===(g=B.get("number"))||void 0===g||g.setValidators([v.kI.required,v.kI.maxLength(9)]),null===(A=B.get("number"))||void 0===A||A.updateValueAndValidity()),this.hasVJAirline&&!this.hasAirportInternational&&(null===(Z=B.get("cccdNumber"))||void 0===Z||Z.setValidators([v.kI.required,v.kI.minLength(9),v.kI.maxLength(12)]),null===(q=B.get("cccdNumber"))||void 0===q||q.updateValueAndValidity()),this.getFormArray("adultPassenger").push(B)}}initChildFormGroup(){var t,i,o,a,l,d,x,b,g,A;for(let Z=0;Z<this.childNumber;Z++){const q=this.fb.group({birthday:[null,[v.kI.required]],firstName:[null,[v.kI.required]],lastName:[null,[v.kI.required]],gender:["male",[v.kI.required]],membershipQH:[null],membershipVN:[null],issuanceDate:[null],expiryDate:[null],issuanceCountry:[null],nationality:[null],number:[null],cccdNumber:[null],documentType:[this.hasVJAirline?this.hasRouteGroupRequire?D.FV.PASSPORT:D.FV.NON_IDENTIFY:this.identityType],type:["CHD"]},{validators:[(0,se.$K)("birthday",this.departureTimestamp),(0,se.i4)("issuanceDate","expiryDate")]});this.hasVJAirline&&this.hasRouteGroupRequire&&(null===(t=q.get("issuanceDate"))||void 0===t||t.setValidators([v.kI.required]),null===(i=q.get("issuanceDate"))||void 0===i||i.updateValueAndValidity(),null===(o=q.get("expiryDate"))||void 0===o||o.setValidators([v.kI.required]),null===(a=q.get("expiryDate"))||void 0===a||a.updateValueAndValidity(),null===(l=q.get("issuanceCountry"))||void 0===l||l.setValidators([v.kI.required]),null===(d=q.get("issuanceCountry"))||void 0===d||d.updateValueAndValidity(),null===(x=q.get("nationality"))||void 0===x||x.setValidators([v.kI.required]),null===(b=q.get("nationality"))||void 0===b||b.updateValueAndValidity(),null===(g=q.get("number"))||void 0===g||g.setValidators([v.kI.required,v.kI.maxLength(9)]),null===(A=q.get("number"))||void 0===A||A.updateValueAndValidity()),this.getFormArray("childPassenger").push(q)}}initInfantFormGroup(){for(let t=0;t<this.infantNumber;t++){const i=this.fb.group({birthday:[null,[v.kI.required]],firstName:[null,[v.kI.required]],lastName:[null,[v.kI.required]],gender:["male",[v.kI.required]],parentIndex:[t+"",[v.kI.required]],membershipQH:[null],membershipVN:[null],issuanceDate:[null],expiryDate:[null],issuanceCountry:[null],nationality:[null],number:[null],cccdNumber:[null],documentType:[this.hasVJAirline?D.FV.NON_IDENTIFY:this.identityType],type:["INF"]},{validators:[(0,se.DW)("birthday",this.departureTimestamp),(0,se.i4)("issuanceDate","expiryDate")]});this.getFormArray("infantPassenger").push(i)}}patchValueForm(){var t,i;const o={email:(null===(t=this.currentUserStorage)||void 0===t?void 0:t.email)||"",phone:!this.hasVJAirline||this.hasVJAirline&&!this.checkPhoneRequired?null===(i=this.currentUserStorage)||void 0===i?void 0:i.phone:"",areaCode:this.phoneAreaDefault};this.formGroup.patchValue(o)}onSelectAgent(t){var i,o;const a=this.agentInfo.find(l=>l.id===t.code);a&&((!this.hasVJAirline||this.hasVJAirline&&!this.checkPhoneRequired)&&(null===(i=this.formGroup.get("phone"))||void 0===i||i.setValue(a.phone)),null===(o=this.formGroup.get("email"))||void 0===o||o.setValue(a.email))}initAgentData(){this._userService.getAllAgentUserForBooking().pipe((0,ge.x)(()=>this.isDisableAgentOption=!1)).subscribe({next:t=>{var i,o;if(this.agentInfo=t.data.map(a=>({id:a.userId,userName:a.userName,displayName:a.displayName,phone:a.phone,email:a.email})),this.agentOption=t.data.map(a=>({text:`${a.userName} - ${a.displayName}`,value:a.userId})),1===this.agentOption.length)this.agentSelected=this.agentOption[0].value,(!this.hasVJAirline||this.hasVJAirline&&!this.checkPhoneRequired)&&(null===(i=this.formGroup.get("phone"))||void 0===i||i.setValue(t.data[0].phone)),null===(o=this.formGroup.get("email"))||void 0===o||o.setValue(t.data[0].email);else if(this._permissionService.isAgent2()){const a=this.agentOption.find(l=>l.value===this._permissionService.getCurrentUser().userId);a&&(this.agentSelected=a.value)}}})}onIdentityChange(t,i){t===D.FV.PASSPORT?(["issuanceDate","expiryDate","issuanceCountry","nationality","number"].forEach(o=>{var a,l,d,x;"number"===o?(null===(a=i.get(o))||void 0===a||a.setValidators([v.kI.required,v.kI.maxLength(9)]),null===(l=i.get(o))||void 0===l||l.updateValueAndValidity()):(null===(d=i.get(o))||void 0===d||d.setValidators([v.kI.required]),null===(x=i.get(o))||void 0===x||x.updateValueAndValidity())}),["cccdNumber"].forEach(o=>{var a,l;null===(a=i.get(o))||void 0===a||a.setValidators(null),null===(l=i.get(o))||void 0===l||l.updateValueAndValidity()})):t===D.FV.CCCD?(["cccdNumber"].forEach(o=>{var a,l;null===(a=i.get(o))||void 0===a||a.setValidators([v.kI.required,v.kI.minLength(9),v.kI.maxLength(12)]),null===(l=i.get(o))||void 0===l||l.updateValueAndValidity()}),["issuanceDate","expiryDate","issuanceCountry","nationality","number"].forEach(o=>{var a,l;null===(a=i.get(o))||void 0===a||a.setValidators(null),null===(l=i.get(o))||void 0===l||l.updateValueAndValidity()})):["issuanceDate","expiryDate","issuanceCountry","nationality","number","cccdNumber"].forEach(o=>{var a,l;null===(a=i.get(o))||void 0===a||a.setValidators(null),null===(l=i.get(o))||void 0===l||l.updateValueAndValidity()})}initAdultPassengerOptions(){for(let t=0;t<this.adultNumber;t++)this.optionsAdultPassenger.push({code:t+"",name:`Ng\u01b0\u1eddi l\u1edbn ${t+1}`})}getFormArray(t){return this.formGroup.controls[t]}getFormControlInArray(t,i){return t.controls[i]}onBlurInput(t,i,o){var a;const l=this.unicodeAndUppercase(t.target.value);null===(a=i.get(o))||void 0===a||a.setValue(l)}unicodeAndUppercase(t){return t=t.replace(/ +(?= )/g,""),(0,Zn.E)(t.trim()).toUpperCase()}checkValidWhitelist(){this.hasVJAirline&&this.checkPhoneRequired&&this.formGroup.controls.areaCode.valid&&this.formGroup.controls.phone.valid&&this._bookFlightService.checkValidWhitelist({phone:this.formGroup.value.phone,phoneArea:this.formGroup.value.areaCode||this.phoneAreaDefault}).pipe((0,Dr.b)(1e3)).subscribe({next:i=>{"OK"===i.status&&!i.data.phoneValid&&this.formGroup.get("phone").setErrors({blacklisted:!0})}})}onChangeAreaCode(t){this.formGroup.controls.phone.hasError("blacklisted")&&this.formGroup.get("phone").setErrors(null),this.checkValidWhitelist()}checkAgeRange(t,i){const o=G(t),l=G(i).diff(o,"years");return l<2?"INF":l>=2&&l<=12?"CHD":"ADT"}convertDocument(t,i){var o,a,l,d,x,b,g,A,Z,q,I;i.patchValue({firstName:t.first_name?this.unicodeAndUppercase(t.first_name):"",lastName:t.last_name?this.unicodeAndUppercase(t.last_name):"",gender:(null==t?void 0:t.sex)||"",birthday:t.birthday?new Date(t.birthday):null,issuanceDate:(null===(o=t.type)||void 0===o?void 0:o.toUpperCase())===D.FV.PASSPORT&&t.date_of_issue?new Date(t.date_of_issue):null,expiryDate:(null===(a=t.type)||void 0===a?void 0:a.toUpperCase())===D.FV.PASSPORT&&t.date_of_expiry?new Date(t.date_of_expiry):null,issuanceCountry:(null===(l=t.type)||void 0===l?void 0:l.toUpperCase())===D.FV.PASSPORT?this._locationDataService.convertCountryCodeAlpha3ToAlpha2(t.issuing_country_code):"",nationality:(null===(d=t.type)||void 0===d?void 0:d.toUpperCase())===D.FV.PASSPORT?this._locationDataService.convertCountryCodeAlpha3ToAlpha2(t.nationality_code):"",number:(null===(x=t.type)||void 0===x?void 0:x.toUpperCase())===D.FV.PASSPORT?t.no:"",cccdNumber:(null===(b=t.type)||void 0===b?void 0:b.toUpperCase())===D.FV.CCCD?t.no:"",documentType:null===(g=t.type)||void 0===g?void 0:g.toUpperCase()}),(null===(A=t.type)||void 0===A?void 0:A.toUpperCase())===D.FV.PASSPORT&&(null===(Z=i.get("cccdNumber"))||void 0===Z||Z.setValidators(null),null===(q=i.get("cccdNumber"))||void 0===q||q.updateValueAndValidity()),(null===(I=t.type)||void 0===I?void 0:I.toUpperCase())===D.FV.CCCD&&["issuanceDate","expiryDate","issuanceCountry","nationality","number"].forEach(B=>{var V,ne;null===(V=i.get(B))||void 0===V||V.setValidators(null),null===(ne=i.get(B))||void 0===ne||ne.updateValueAndValidity()})}convertListDocument(t){var i,o,a,l,d,x;const b=[],g=[],A=[];t.filter(Z=>Z).forEach(Z=>{var q,I;"ADT"===this.checkAgeRange(Z.birthday,this.departureTimestamp)&&b.push(Z),"CHD"===this.checkAgeRange(Z.birthday,this.departureTimestamp)&&(this.hasAirportInternational&&(null===(q=Z.type)||void 0===q||q.toUpperCase()),g.push(Z)),"INF"===this.checkAgeRange(Z.birthday,this.departureTimestamp)&&(this.hasAirportInternational&&(null===(I=Z.type)||void 0===I||I.toUpperCase()),A.push(Z))}),null===(o=null===(i=this.getFormArray("adultPassenger"))||void 0===i?void 0:i.controls)||void 0===o||o.forEach((Z,q)=>{const I=b[q];I&&this.convertDocument(I,Z)}),null===(l=null===(a=this.getFormArray("childPassenger"))||void 0===a?void 0:a.controls)||void 0===l||l.forEach((Z,q)=>{const I=g[q];I&&this.convertDocument(I,Z)}),null===(x=null===(d=this.getFormArray("infantPassenger"))||void 0===d?void 0:d.controls)||void 0===x||x.forEach((Z,q)=>{const I=A[q];I&&this.convertDocument(I,Z)})}onFilesSelected(t,i){const o=t.target;if(o.files&&o.files.length>0){const a=o.files,l=new FormData;Array.from(a).forEach((d,x)=>{x<this.numberOfPaxUpload&&l.append("files",d)}),this.isExtractingDocument=!0,this._aiService.extractDocument(l).pipe((0,ge.x)(()=>{o.value="",this.isExtractingDocument=!1})).subscribe({next:d=>{var x;try{if(i){if(this.hasAirportInternational&&(null===(x=d[0].type)||void 0===x?void 0:x.toUpperCase())===D.FV.CCCD||this.checkAgeRange(d[0].birthday,this.departureTimestamp)!==i.value.type)throw{code:"FE-TYPEPAX",discription:"File kh\xf4ng h\u1ee3p l\u1ec7 v\u1edbi lo\u1ea1i h\xe0nh kh\xe1ch"};this.convertDocument(d[0],i)}else this.convertListDocument(d);this._toastService.add({severity:"success",summary:"Tr\xedch xu\u1ea5t th\xe0nh c\xf4ng",detail:"Th\xf4ng tin h\xe0nh kh\xe1ch v\u1eeba \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt. Vui l\xf2ng ki\u1ec3m tra v\xe0 \u0111\u1ed1i chi\u1ebfu l\u1ea1i!",sticky:!1,life:5e3})}catch(b){this._toastService.add({severity:"error",summary:"Tr\xedch xu\u1ea5t th\u1ea5t b\u1ea1i",detail:b&&"FE-TYPEPAX"===b.code?b.discription:"C\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i sau!",sticky:!0})}},error:()=>{this._toastService.add({severity:"error",summary:"Tr\xedch xu\u1ea5t th\u1ea5t b\u1ea1i",detail:"C\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i sau!",sticky:!0})}})}}quickParseInfo(){if(this._mobileDetectService.isMobile()){const t=this._bottomSheetService.open(qn.i7,{headerTitle:"Nh\u1eadp nhanh th\xf4ng tin h\xe0nh kh\xe1ch",containerFullHeigh:!0,leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",rightButtonIcon:"",data:{passengerText:this.passengerText,departureTime:this.departureTimestamp,numberOfPassenger:{adult:this.adultNumber,child:this.childNumber,infant:this.infantNumber}}});t.containerInstance._leftButtonClick.subscribe(i=>t.dismiss()),t.afterDismissed().subscribe(i=>{i&&this.processQuickParse(i.text,i.passengers,i.passengerInputRows)})}else this._modal.open(qn.i7,{passengerText:this.passengerText,departureTime:this.departureTimestamp,numberOfPassenger:{adult:this.adultNumber,child:this.childNumber,infant:this.infantNumber}}).afterClosed$.subscribe({next:i=>{i.data&&this.processQuickParse(i.data.text,i.data.passengers,i.data.passengerInputRows)}})}processQuickParse(t,i,o){this.passengerText=t;const a=i;a.forEach(g=>{g.firstName&&(g.firstName=this.unicodeAndUppercase(g.firstName)),g.lastName&&(g.lastName=this.unicodeAndUppercase(g.lastName)),g.parentName&&(g.parentName=this.unicodeAndUppercase(g.parentName))});const l=a.filter(g=>"ADULT"===g.type),d=a.filter(g=>"CHILD"===g.type),x=a.filter(g=>"INFANT"===g.type);for(let g=0;g<this.formGroup.controls.adultPassenger.controls.length&&g<l.length;g++)this.formGroup.controls.adultPassenger.at(g).controls.lastName.setValue(l[g].lastName),this.formGroup.controls.adultPassenger.at(g).controls.firstName.setValue(l[g].firstName),this.formGroup.controls.adultPassenger.at(g).controls.gender.setValue(l[g].gender),this.formGroup.controls.adultPassenger.at(g).controls.birthday.setValue(l[g].birthday),(l[g].documentNumber&&!this.hasAirportInternational||this.hasAirportInternational&&l[g].documentType!==this.CF_IDENTIFY_TYPE.CCCD)&&this.formGroup.controls.adultPassenger.at(g).controls.documentType.setValue(l[g].documentType),l[g].documentType===this.CF_IDENTIFY_TYPE.CCCD?this.formGroup.controls.adultPassenger.at(g).controls.cccdNumber.setValue(l[g].documentNumber):l[g].documentType===this.CF_IDENTIFY_TYPE.PASSPORT?this.formGroup.controls.adultPassenger.at(g).controls.number.setValue(l[g].documentNumber):(this.formGroup.controls.adultPassenger.at(g).controls.cccdNumber.setValue(null),this.formGroup.controls.adultPassenger.at(g).controls.number.setValue(null)),this.formGroup.controls.adultPassenger.at(g).markAllAsTouched();this.getAdultPassenger();for(let g=0;g<this.formGroup.controls.childPassenger.controls.length&&g<d.length;g++)this.formGroup.controls.childPassenger.at(g).controls.lastName.setValue(d[g].lastName),this.formGroup.controls.childPassenger.at(g).controls.firstName.setValue(d[g].firstName),this.formGroup.controls.childPassenger.at(g).controls.gender.setValue(d[g].gender),this.formGroup.controls.childPassenger.at(g).controls.birthday.setValue(d[g].birthday),(d[g].documentNumber&&!this.hasAirportInternational||this.hasAirportInternational&&l[g].documentType!==this.CF_IDENTIFY_TYPE.CCCD)&&this.formGroup.controls.childPassenger.at(g).controls.documentType.setValue(d[g].documentType),d[g].documentType===this.CF_IDENTIFY_TYPE.CCCD?this.formGroup.controls.childPassenger.at(g).controls.cccdNumber.setValue(d[g].documentNumber):d[g].documentType===this.CF_IDENTIFY_TYPE.PASSPORT&&this.formGroup.controls.childPassenger.at(g).controls.number.setValue(d[g].documentNumber),this.formGroup.controls.childPassenger.at(g).markAllAsTouched();const b=[];for(let g=0;g<this.formGroup.controls.infantPassenger.controls.length&&g<x.length;g++){if(this.formGroup.controls.infantPassenger.at(g).controls.lastName.setValue(x[g].lastName),this.formGroup.controls.infantPassenger.at(g).controls.firstName.setValue(x[g].firstName),this.formGroup.controls.infantPassenger.at(g).controls.gender.setValue(x[g].gender),this.formGroup.controls.infantPassenger.at(g).controls.birthday.setValue(x[g].birthday),(x[g].documentNumber&&!this.hasAirportInternational||this.hasAirportInternational&&l[g].documentType!==this.CF_IDENTIFY_TYPE.CCCD)&&this.formGroup.controls.infantPassenger.at(g).controls.documentType.setValue(x[g].documentType),x[g].documentType===this.CF_IDENTIFY_TYPE.CCCD?this.formGroup.controls.infantPassenger.at(g).controls.cccdNumber.setValue(x[g].documentNumber):x[g].documentType===this.CF_IDENTIFY_TYPE.PASSPORT?this.formGroup.controls.infantPassenger.at(g).controls.number.setValue(x[g].documentNumber):(this.formGroup.controls.infantPassenger.at(g).controls.cccdNumber.setValue(null),this.formGroup.controls.infantPassenger.at(g).controls.number.setValue(null)),void 0!==x[g].parentName){const A=this.getParentIndex(x[g].parentName,b);void 0!==A&&(b.push(A),this.formGroup.controls.infantPassenger.at(g).controls.parentIndex.setValue(String(A)))}this.formGroup.controls.infantPassenger.at(g).markAllAsTouched()}for(let g=0;g<this.formGroup.controls.infantPassenger.controls.length;g++)if(!this.formGroup.controls.infantPassenger.at(g).controls.parentIndex.value)for(let A=0;A<this.formGroup.controls.adultPassenger.controls.length;A++)if(!b.includes(A)){this.formGroup.controls.infantPassenger.at(g).controls.parentIndex.setValue(String(A)),b.push(A);break}}getParentIndex(t,i){for(let o=0;o<this.formGroup.controls.adultPassenger.controls.length;o++)if(!i.includes(o)&&t===this.formGroup.controls.adultPassenger.at(o).controls.lastName.value+" "+this.formGroup.controls.adultPassenger.at(o).controls.firstName.value)return o}getAdultPassenger(){this.getFormArray("adultPassenger").value.forEach((t,i)=>{var o;this.optionsAdultPassenger[i].name=t.lastName&&t.firstName?t.lastName+" "+t.firstName:`Ng\u01b0\u1eddi l\u1edbn ${i+1}`,null===(o=this.parentSelectInfants)||void 0===o||o.forEach(a=>{a.data=this.optionsAdultPassenger,this.optionsAdultPassenger.forEach(l=>{a.selectedText&&l.code===a.selectedText.code&&a.writeValue(a.selectedText.code)})})})}onKeydown(t){t.preventDefault(),t.stopPropagation()}onPhoneChange(t){var i;let o=null===(i=t.target)||void 0===i?void 0:i.value;o=o.replace(" ",""),this.getFormControlInArray(this.formGroup,"phone").setValue(o),this.checkValidWhitelist()}close(){this.ref&&this.ref.close(!1),this.bottomSheetRef&&this.bottomSheetRef.dismiss(!1)}get getFormValue(){return this.formGroup.value}proccessingPassengerInfo(t=!0){const i=Object.assign({},this.getFormValue);return[...i.adultPassenger.map((d,x)=>{var b,g,A,Z,q,I,B,V;const ne=[];d.membershipQH&&ne.push({airline:"QH",membershipID:d.membershipQH}),d.membershipVN&&ne.push({airline:"VN",membershipID:d.membershipVN});const We={bookingBaggages:[],bookingSeats:[],bookingServices:[],info:{birthday:d.birthday?G(d.birthday).format("YYYY-MM-DD"):G(new Date(this.defaultBirthdayAdt)).format("YYYY-MM-DD"),documentInfo:d.documentType!==D.FV.NON_IDENTIFY?[{documentType:d.documentType,issuanceDate:d.issuanceDate?G(d.issuanceDate).format("YYYY-MM-DD"):"",expiryDate:d.expiryDate?G(d.expiryDate).format("YYYY-MM-DD"):"",issuanceCountry:(null===(b=d.issuanceCountry)||void 0===b?void 0:b.trim())||"",nationality:(null===(g=d.nationality)||void 0===g?void 0:g.trim())||"",number:d.documentType===D.FV.CCCD?(null===(A=d.cccdNumber)||void 0===A?void 0:A.trim())||"":(null===(Z=d.number)||void 0===Z?void 0:Z.trim())||""}]:[],email:"",firstName:null===(q=d.firstName)||void 0===q?void 0:q.trim(),gender:(null===(I=d.gender)||void 0===I?void 0:I.toUpperCase())||"",lastName:null===(B=d.lastName)||void 0===B?void 0:B.trim(),parentIndex:0,type:"ADT",index:x,loyalInfo:ne,setDefaultDocument:d.documentType===D.FV.NON_IDENTIFY,defaultDocumentType:d.documentType===D.FV.NON_IDENTIFY?this.identityType:null}};if(!t){const et=!(null===(V=i.infantPassenger)||void 0===V||!V.find(Je=>Je.parentIndex==x));We.info.includeInfant=et}return We}),...i.childPassenger.map((d,x)=>{var b,g,A,Z,q,I,B;const V=x+i.adultPassenger.length,ne=[];return d.membershipQH&&ne.push({airline:"QH",membershipID:d.membershipQH}),d.membershipVN&&ne.push({airline:"VN",membershipID:d.membershipVN}),{bookingBaggages:[],bookingSeats:[],bookingServices:[],info:{birthday:G(d.birthday).format("YYYY-MM-DD"),documentInfo:d.documentType!==D.FV.NON_IDENTIFY?[{documentType:d.documentType,issuanceDate:d.issuanceDate?G(d.issuanceDate).format("YYYY-MM-DD"):"",expiryDate:d.expiryDate?G(d.expiryDate).format("YYYY-MM-DD"):"",issuanceCountry:(null===(b=d.issuanceCountry)||void 0===b?void 0:b.trim())||"",nationality:(null===(g=d.nationality)||void 0===g?void 0:g.trim())||"",number:d.documentType===D.FV.CCCD?(null===(A=d.cccdNumber)||void 0===A?void 0:A.trim())||"":(null===(Z=d.number)||void 0===Z?void 0:Z.trim())||""}]:[],email:"",firstName:null===(q=d.firstName)||void 0===q?void 0:q.trim(),gender:(null===(I=d.gender)||void 0===I?void 0:I.toUpperCase())||"",lastName:null===(B=d.lastName)||void 0===B?void 0:B.trim(),parentIndex:0,type:"CHD",index:V,loyalInfo:ne,setDefaultDocument:d.documentType===D.FV.NON_IDENTIFY,defaultDocumentType:d.documentType===D.FV.NON_IDENTIFY?this.identityType:null}}}),...t?i.infantPassenger.map((d,x)=>{var b,g,A,Z,q,I,B;const V=[];return d.membershipQH&&V.push({airline:"QH",membershipID:d.membershipQH}),d.membershipVN&&V.push({airline:"VN",membershipID:d.membershipVN}),{bookingBaggages:[],bookingSeats:[],bookingServices:[],info:{birthday:G(d.birthday).format("YYYY-MM-DD"),documentInfo:d.documentType!==D.FV.NON_IDENTIFY?[{documentType:d.documentType,issuanceDate:d.issuanceDate?G(d.issuanceDate).format("YYYY-MM-DD"):"",expiryDate:d.expiryDate?G(d.expiryDate).format("YYYY-MM-DD"):"",issuanceCountry:(null===(b=d.issuanceCountry)||void 0===b?void 0:b.trim())||"",nationality:(null===(g=d.nationality)||void 0===g?void 0:g.trim())||"",number:d.documentType===D.FV.CCCD?(null===(A=d.cccdNumber)||void 0===A?void 0:A.trim())||"":(null===(Z=d.number)||void 0===Z?void 0:Z.trim())||""}]:[],email:"",firstName:null===(q=d.firstName)||void 0===q?void 0:q.trim(),gender:(null===(I=d.gender)||void 0===I?void 0:I.toUpperCase())||"",lastName:null===(B=d.lastName)||void 0===B?void 0:B.trim(),parentIndex:+d.parentIndex,type:"INF",index:0,loyalInfo:V,setDefaultDocument:d.documentType===D.FV.NON_IDENTIFY,defaultDocumentType:d.documentType===D.FV.NON_IDENTIFY?this.identityType:null}}}):[]]}ok(){var t,i;if(this.formGroup.invalid)return void this.formGroup.markAllAsTouched();const o=this.formGroup.value,a=this.proccessingPassengerInfo(),l=null===(t=a.filter(b=>"ADT"===b.info.type))||void 0===t?void 0:t.map(b=>b.info.index),d={bookingContact:{email:o.email,name:o.name||"Thuong",phone:o.phone,phonePrefix:o.phonePrefix},bookingPassengers:null==a?void 0:a.map(b=>({birthday:b.info.birthday||"",defaultDocumentType:b.info.defaultDocumentType,documentInfo:b.info.setDefaultDocument?[]:b.info.documentInfo,email:"",firstName:b.info.firstName,gender:b.info.gender,index:b.info.index,lastName:b.info.lastName,loyalInfo:[],parentIndex:"INF"===b.info.type?l.shift():0,setDefaultDocument:b.info.setDefaultDocument,type:b.info.type})),extraInfo:{agentId:(null==o?void 0:o.agentId)||"",notes:[],uuidAction:(null===(i=this.currentUserStorage)||void 0===i?void 0:i.userId)||""},promoCode:"",provider:this.bookingDetail.provider,refPnr:this.bookingDetail.bookingCode,journeyPricesInfo:this.bookingDetail.journeys.map(b=>({leg:b.leg,price:b.journeyBaseFare||0}))};o.publicRemark&&d.extraInfo.notes.push({note:o.publicRemark,type:"public"}),o.secretRemark&&d.extraInfo.notes.push({note:o.secretRemark,type:"private"}),this._modal.open(Tn,{rebookDataConfirm:this.getRebookData(this.bookingDetail,d.bookingPassengers)}).afterClosed$.subscribe({next:b=>{b.data&&(this.ref&&this.ref.close(d),this.bottomSheetRef&&this.bottomSheetRef.dismiss(d))}})}getRebookData(t,i){var o;const a=null===(o=i.filter(l=>"INF"!==l.type))||void 0===o?void 0:o.map(l=>{const d="ADT"===l.type&&i.filter(x=>"INF"===x.type).find(x=>x.parentIndex===l.index);return{firstName:l.firstName,lastName:l.lastName,type:l.type,child:d?{firstName:d.firstName,lastName:d.lastName,type:d.type}:null}});return{provider:t.provider,bookingCode:t.bookingCode,passengers:a,segments:t.journeys.flatMap(l=>l.segments).map(l=>({flightNumber:`${l.airline}${l.flightNumber}`,startCode:l.startPoint,endCode:l.endPoint,route:`${l.startPoint}${l.endPoint}`,departDate:l.startTime?(0,m.p6)(l.startTime,"dMMM","en-US"):"",startTime:l.startTime?(0,m.p6)(l.startTime,"HH:mm","vi-VN"):"",endTime:l.endTime?(0,m.p6)(l.endTime,"HH:mm","vi-VN"):""}))}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v.qu),e.Y36(p.KNP),e.Y36(Pe.jH),e.Y36(qr.KD),e.Y36(wr.o),e.Y36(ue.$A),e.Y36(S.oE),e.Y36(Ne._),e.Y36(Br.l),e.Y36(Pr.Fj),e.Y36(In.Y),e.Y36(Qe.BX),e.Y36(le.L),e.Y36(U.a2),e.Y36(S.gb,8),e.Y36(U.Rr,8),e.Y36(U.Zu,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["rebook-pnr-passengers"]],viewQuery:function(t,i){if(1&t&&e.Gf(Fr,5),2&t){let o;e.iGM(o=e.CRH())&&(i.parentSelectInfants=o)}},standalone:!0,features:[e.jDz],decls:63,vars:26,consts:[[1,"w-[764px]","max-h-[600px]","overflow-hidden","rounded-lg","bg-neutral-white","flex","flex-col","md:w-full","md:max-h-full"],[1,"p-6","flex","justify-between","items-center"],[1,"text-heading-xs","text-neutral-black"],[1,"flex","items-center","gap-x-2"],[4,"ngIf"],["cf-button","","size","medium","type","secondary",1,"bg-white","flex","gap-x-2","md:hidden",3,"click","keydown"],["icon","grouping","size","small"],[1,"items-center","gap-x-0.5","hidden","md:flex",3,"click"],[1,"text-body-md"],[1,"px-6","flex","flex-col","gap-y-3","flex-1","overflow-auto",3,"formGroup"],[1,"flex","flex-col","gap-2","md:gap-y-4"],[4,"ngFor","ngForOf"],["class","mb-6 md:mb-[1px]",4,"ngIf"],[1,"mb-8","md:mb-[1px]"],[1,"flex","justify-between","items-center","mb-4","md:bg-neutral-white","md:py-4","md:pr-3","md:mb-0"],[1,"flex","gap-x-[20px]"],[1,"w-1","bg-primary-2-4"],[1,"md:text-heading-sm","md:text-neutral-gray-6"],[1,"p-6","bg-neutral-gray-1","rounded"],[1,"grid","grid-cols-3","gap-4","md:grid-cols-2"],["data-id","areaCode",1,"md:start"],["controlElement",""],["textField","name","valueField","code","placeholder","Ch\u1ecdn m\xe3 v\xf9ng",3,"status","data","allowSearch","formControl","selectedChange"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5"],[3,"CfRequired"],["cfHint","",3,"hint",4,"ngIf"],["data-id","phone",1,""],[1,"grow-[400]","!w-full",3,"tooltipContent","status"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp \u0111i\u1ec7n tho\u1ea1i","formControlName","phone","CfNumberic","",3,"formControl","input"],["data-id","email",1,"md:col-span-2"],[1,"grow-[400]","!w-full",3,"status"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp email","formControlName","email",3,"formControl"],[1,"p-6","flex","gap-x-4","justify-end"],["cf-button","","size","medium","type","secondary",1,"min-w-[100px]","md:w-full","justify-center",3,"click"],["cf-button","","size","medium","color","primary-1",1,"min-w-[100px]","md:w-full","justify-center",3,"click"],["icon","circle_check","size","small",1,"mr-2.5"],["type","file","multiple","","accept","image/png, image/jpeg, image/jpg",1,"hidden",3,"change"],["multifileInput",""],["cf-button","","size","medium","type","secondary",1,"bg-white","flex","gap-x-2",3,"click"],["adultElement",""],[1,"flex","justify-between","items-center","mb-4"],[1,""],["class","text-heading-xs text-black",4,"ngIf"],[1,"flex","flex-col","gap-y-4"],[1,"grid","grid-cols-3","gap-4","md:grid-cols-1"],["textField","text","valueField","value","placeholder","Ch\u1ecdn gi\u1edbi t\xednh",1,"md:w-full","md:max-w-none",3,"status","data","allowSearch","formControl"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5",3,"CfRequired"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp h\u1ecd","type","text",3,"formControl","blur"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp t\xean \u0111\u1ec7m v\xe0 t\xean",3,"formControl","blur"],["cfHeadIcon","","icon","calendar","size","small"],[1,"text-neutral-gray-4","text-espressive-sm"],["autocomplete","off","cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Nh\u1eadp ng\xe0y sinh",1,"py-[7px]",3,"secondaryCalendar","displayMonths","formControl","input","dateSelect"],["dateFrom","cfDatepicker"],["class","border-t border-neutral-gray-1 mt-4",4,"ngIf"],[1,"w-full","border","border-neutral-gray-1"],[3,"title","active"],["titleTemplate",""],[1,"flex","gap-x-4"],[1,"grow-[400]","!w-full"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp th\u1ebb h\xe0nh kh\xe1ch th\u01b0\u1eddng xuy\xean",3,"formControl"],[1,"text-heading-xs","text-black"],["type","file","accept","image/png, image/jpeg, image/jpg",1,"hidden",3,"change"],["fileInput",""],["cfHint","",3,"hint"],[1,"border-t","border-neutral-gray-1","mt-4"],[1,"flex","flex-col","gap-y-1.5","pt-4"],["cfLabel","",1,"text-espressive-sm","text-black",3,"CfRequired"],[1,"flex","items-center","gap-x-8",3,"formControl","checkChange"],["size","medium",3,"disabled","value"],["size","medium",3,"value"],["class","grid grid-cols-2 gap-4 md:grid-cols-1",4,"ngIf"],["class","text-body-sm",4,"ngIf"],["cf-input","","size","medium","autocomplete","off","CfNumberic","","placeholder","Nh\u1eadp s\u1ed1 c\u0103n c\u01b0\u1edbc c\xf4ng d\xe2n",3,"formControl"],[1,"grid","grid-cols-2","gap-4","md:grid-cols-1"],["cf-input","","size","medium","autocomplete","off","CfAlphanumeric","","CfRemoveAccents","","placeholder","Nh\u1eadp s\u1ed1 h\u1ed9 chi\u1ebfu","type","text",3,"formControl"],["textField","name","valueField","code","placeholder","Ch\u1ecdn qu\u1ed1c t\u1ecbch",1,"md:w-full","md:max-w-none","!max-w-full",3,"status","data","allowSearch","formControl"],["textField","name","valueField","code","placeholder","Ch\u1ecdn n\u01a1i c\u1ea5p",1,"md:w-full","md:max-w-none","!max-w-full",3,"data","status","allowSearch","formControl"],["autocomplete","off","cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Nh\u1eadp ng\xe0y c\u1ea5p",1,"py-[7px]",3,"secondaryCalendar","displayMonths","maxDate","formControl","input","dateSelect"],["issuanceDatepicker","cfDatepicker"],["autocomplete","off","cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Nh\u1eadp ng\xe0y h\u1ebft h\u1ea1n",1,"py-[7px]",3,"secondaryCalendar","displayMonths","minDate","formControl","input","dateSelect"],["expiryDatepicker","cfDatepicker"],[1,"text-body-sm","mt-1.5"],[1,"text-body-sm"],[1,"text-body-md","flex","gap-x-2","items-center"],["icon","document","size","small"],["childElement",""],[1,"w-full","hidden","md:block"],["contentClass","bg-neutral-white p-4 pt-0",3,"title","active"],[3,"ngTemplateOutlet"],["childPax",""],["class","text-heading-xs text-neutral-gray-6",4,"ngIf"],[1,"text-heading-xs","text-neutral-gray-6"],["class","mb-4 text-heading-xs text-black",4,"ngIf"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp h\u1ecd",3,"formControl","blur"],["autocomplete","off","cf-input","","size","medium","placeholder","Nh\u1eadp th\u1ebb h\xe0nh kh\xe1ch th\u01b0\u1eddng xuy\xean",3,"formControl"],[1,"mb-4","text-heading-xs","text-black"],[1,"text-heading-xs"],["infantElement",""],["infantPax",""],["autocomplete","off","cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Nh\u1eadp ng\xe0y sinh",1,"py-[7px]",3,"secondaryCalendar","displayMonths","maxDate","formControl","input","dateSelect"],["textField","name","valueField","code","placeholder","Ch\u1ecdn h\xe0nh kh\xe1ch",1,"md:w-full","md:max-w-none",3,"status","data","allowSearch","formControl"],["parentSelectInfant",""],[1,"mb-6","md:mb-[1px]"],[1,"p-6","bg-neutral-gray-1","rounded","flex","flex-col","gap-4"],["data-id","agentId","textField","text","valueField","value","placeholder","Ch\u1ecdn \u0111\u1ea1i l\xfd",1,"!w-full","!max-w-none",3,"ngClass","status","data","ngModel","allowSearch","formControl","selectedChange"],["class","animate-spin mt-5 opacity-50","icon","refresh","size","small",4,"ngIf"],["icon","refresh","size","small",1,"animate-spin","mt-5","opacity-50"],["class","text-espressive-sm text-black mb-1.5",4,"ngIf"],["placeholder","Ghi ch\xfa",1,"w-full","placeholder:text-body-md","placeholder:text-neutral-gray-4","border","border-neutral-gray-2","rounded-[8px]","shadow-xs","px-[14px]","py-[10px]","max-h-80",2,"min-height","40px",3,"formControl"],[1,"text-espressive-sm","text-black","mb-1.5"],[1,"mt-4","text-body-md","text-black","text-center","px-4"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Nh\u1eadp th\xf4ng tin h\xe0nh kh\xe1ch"),e.qZA(),e.TgZ(4,"div",3),e.YNc(5,Jr,5,0,"div",4),e.TgZ(6,"div")(7,"button",5),e.NdJ("click",function(){return i.quickParseInfo()})("keydown",function(a){return i.onKeydown(a)}),e._UZ(8,"cf-icon",6),e.TgZ(9,"span"),e._uU(10,"Nh\u1eadp nhanh th\xf4ng tin"),e.qZA()(),e.TgZ(11,"div",7),e.NdJ("click",function(){return i.quickParseInfo()}),e._UZ(12,"cf-icon",6),e.TgZ(13,"div",8),e._uU(14,"Nh\u1eadp nhanh"),e.qZA()()()()(),e.TgZ(15,"div",9)(16,"div",10),e.YNc(17,aa,55,28,"div",11),e.YNc(18,Fa,11,4,"ng-container",11),e.YNc(19,ls,6,1,"ng-container",11),e.qZA(),e.YNc(20,hs,16,13,"div",12),e.TgZ(21,"div",13)(22,"div",14)(23,"div",15),e._UZ(24,"div",16),e.TgZ(25,"div",17),e._uU(26,"Th\xf4ng tin li\xean h\u1ec7"),e.qZA()()(),e.TgZ(27,"div",18)(28,"div",19)(29,"div",20,21)(31,"cf-select",22),e.NdJ("selectedChange",function(a){return i.onChangeAreaCode(a)}),e.TgZ(32,"label",23)(33,"span",24),e._uU(34,"M\xe3 v\xf9ng"),e.qZA()(),e.YNc(35,xs,1,1,"cf-input-hint",25),e.qZA()(),e.TgZ(36,"div",26,21)(38,"cf-input-group",27)(39,"label",23)(40,"span",24),e._uU(41,"\u0110i\u1ec7n tho\u1ea1i"),e.qZA()(),e.TgZ(42,"input",28),e.NdJ("input",function(a){return i.onPhoneChange(a)}),e.qZA(),e.YNc(43,vs,1,1,"cf-input-hint",25),e.YNc(44,Cs,1,1,"cf-input-hint",25),e.YNc(45,bs,1,1,"cf-input-hint",25),e.YNc(46,ys,1,1,"cf-input-hint",25),e.qZA()(),e.TgZ(47,"div",29,21)(49,"cf-input-group",30)(50,"label",23)(51,"span",24),e._uU(52,"Email"),e.qZA()(),e._UZ(53,"input",31),e.YNc(54,Es,1,1,"cf-input-hint",25),e.YNc(55,Zs,1,1,"cf-input-hint",25),e.qZA()()()()()(),e.TgZ(56,"div",32)(57,"button",33),e.NdJ("click",function(){return i.close()}),e._uU(58," H\u1ee7y "),e.qZA(),e.TgZ(59,"button",34),e.NdJ("click",function(){return i.ok()}),e._UZ(60,"cf-icon",35),e._uU(61," Gi\u1eef ch\u1ed7 "),e.qZA()()(),e.YNc(62,Ts,3,0,"cf-spinner",4)),2&t&&(e.xp6(5),e.Q6J("ngIf",i.canExtractImageToDocument),e.xp6(10),e.Q6J("formGroup",i.formGroup),e.xp6(2),e.Q6J("ngForOf",i.getFormArray("adultPassenger").controls),e.xp6(1),e.Q6J("ngForOf",i.getFormArray("childPassenger").controls),e.xp6(1),e.Q6J("ngForOf",i.getFormArray("infantPassenger").controls),e.xp6(1),e.Q6J("ngIf",i.isShowForBooker),e.xp6(11),e.Q6J("status",i.formGroup.controls.areaCode.invalid&&(i.formGroup.controls.areaCode.dirty||i.formGroup.controls.areaCode.touched)?"error":"default")("data",i.optionsAreaCode)("allowSearch",!0)("formControl",i.getFormControlInArray(i.formGroup,"areaCode")),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("ngIf",i.formGroup.controls.areaCode.hasError("required")&&(i.formGroup.controls.areaCode.touched||i.formGroup.controls.areaCode.dirty)),e.xp6(3),e.Q6J("tooltipContent",i.checkPhoneRequired?"Theo quy ch\u1ebf ban h\xe0nh b\u1edfi VietJet Air, sdt khi \u0111\u1eb7t v\xe9 b\u1eaft bu\u1ed9c ph\u1ea3i c\u1ee7a kh\xe1ch h\xe0ng, vui l\xf2ng kh\xf4ng nh\u1eadp sdt c\u1ee7a \u0111\u1ea1i l\xfd":"")("status",i.formGroup.controls.phone.invalid&&(i.formGroup.controls.phone.dirty||i.formGroup.controls.phone.touched)?"error":"default"),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",i.getFormControlInArray(i.formGroup,"phone")),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.phone.hasError("required")&&(i.formGroup.controls.phone.touched||i.formGroup.controls.phone.dirty)),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.phone.hasError("minlength")&&(i.formGroup.controls.phone.touched||i.formGroup.controls.phone.dirty)),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.phone.hasError("maxlength")&&(i.formGroup.controls.phone.touched||i.formGroup.controls.phone.dirty)),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.phone.hasError("blacklisted")&&(i.formGroup.controls.phone.touched||i.formGroup.controls.phone.dirty)),e.xp6(3),e.Q6J("status",i.formGroup.controls.email.invalid&&(i.formGroup.controls.email.dirty||i.formGroup.controls.email.touched)?"error":"default"),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",i.getFormControlInArray(i.formGroup,"email")),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.email.hasError("required")&&(i.formGroup.controls.email.touched||i.formGroup.controls.email.dirty)),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.email.hasError("email")&&i.formGroup.controls.email.touched),e.xp6(7),e.Q6J("ngIf",i.isExtractingDocument))},dependencies:[m.ez,m.mk,m.sg,m.O5,m.tP,Un.B,Un.K,p.AxE,p.Sm8,ee.j$,ee.ND,ee.BN,ee.v2,E.N8,E.Xq,rt.q,v.u5,v.Fj,v.JJ,v.JL,v.UX,v.oH,v.sg,v.u,at.C,Pe.Cs,z.OR,U.DW,Zr.z,Nn.p,pe.o,pe.T,Tr.j],encapsulation:2}),n})();function Ds(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",14)(1,"div",15),e._uU(2,"Kh\xf4ng v\u01b0\u1ee3t qu\xe1 s\u1ed1 kh\xe1ch tr\xean PNR "),e.TgZ(3,"span",16),e._uU(4),e.qZA()(),e.TgZ(5,"div")(6,"div",17)(7,"div",18),e._UZ(8,"cf-icon",19),e.TgZ(9,"div",20)(10,"div",21),e._uU(11,"Ng\u01b0\u1eddi l\u1edbn"),e.qZA(),e.TgZ(12,"div",22),e._uU(13,"Tr\xean 12 tu\u1ed5i"),e.qZA()()(),e.TgZ(14,"div",23)(15,"button",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.decrease("ADT"))}),e._UZ(16,"cf-icon",25),e.qZA(),e.TgZ(17,"div",26),e._uU(18),e.qZA(),e.TgZ(19,"button",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.increase("ADT"))}),e._UZ(20,"cf-icon",27),e.qZA()()(),e.TgZ(21,"div",17)(22,"div",18),e._UZ(23,"cf-icon",19),e.TgZ(24,"div",20)(25,"div",21),e._uU(26,"Tr\u1ebb em"),e.qZA(),e.TgZ(27,"div",22),e._uU(28,"T\u1eeb 2 - 12 tu\u1ed5i"),e.qZA()()(),e.TgZ(29,"div",23)(30,"button",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.decrease("CHD"))}),e._UZ(31,"cf-icon",25),e.qZA(),e.TgZ(32,"div",26),e._uU(33),e.qZA(),e.TgZ(34,"button",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.increase("CHD"))}),e._UZ(35,"cf-icon",27),e.qZA()()(),e.TgZ(36,"div",28)(37,"div",18),e._UZ(38,"cf-icon",19),e.TgZ(39,"div",20)(40,"div",21),e._uU(41,"Em b\xe9"),e.qZA(),e.TgZ(42,"div",22),e._uU(43,"D\u01b0\u1edbi 2 tu\u1ed5i"),e.qZA()()(),e.TgZ(44,"div",23)(45,"button",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.decrease("INF"))}),e._UZ(46,"cf-icon",25),e.qZA(),e.TgZ(47,"div",26),e._uU(48),e.qZA(),e.TgZ(49,"button",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.increase("INF"))}),e._UZ(50,"cf-icon",27),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Oqu(t.bookingDetail.bookingCode),e.xp6(11),e.Q6J("disabled",t._adultNumber<=1||1===t._adultNumber&&1===t._infantNumber),e.xp6(3),e.Oqu(t._adultNumber),e.xp6(1),e.Q6J("disabled",t._adultNumber+t._childNumber===t.ADULT_CHILD_LIMIT),e.xp6(11),e.Q6J("disabled",0===t._childNumber||t._adultNumber+t._childNumber===1),e.xp6(3),e.Oqu(t._childNumber),e.xp6(1),e.Q6J("disabled",t._adultNumber+t._childNumber===t.ADULT_CHILD_LIMIT||t._childNumber===t.CHILD_LIMIT),e.xp6(11),e.Q6J("disabled",0===t._infantNumber),e.xp6(3),e.Oqu(t._infantNumber),e.xp6(1),e.Q6J("disabled",t._infantNumber===t._adultNumber)}}function As(n,r){1&n&&(e.TgZ(0,"div",35),e._uU(1," Em b\xe9 ph\u1ea3i c\xf3 ng\u01b0\u1eddi l\u1edbn \u0111i k\xe8m "),e.qZA())}function ks(n,r){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.AsE(" ",t.child.lastName,"/",t.child.firstName," ")}}function Is(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td",36)(3,"div",37)(4,"cf-checkbox",38),e.NdJ("checkChange",function(o){const l=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.checkedChange(o,l))}),e.qZA()()(),e.TgZ(5,"td",39),e._uU(6),e.qZA(),e.TgZ(7,"td",40),e._uU(8),e.qZA(),e.TgZ(9,"td",40),e.YNc(10,ks,2,2,"div",41),e.qZA()(),e.BQk()}if(2&n){const t=r.$implicit;e.xp6(4),e.Q6J("checked",t.isSelected),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.type),e.xp6(2),e.Q6J("ngIf",t.child.lastName)}}function Ns(n,r){if(1&n&&(e.TgZ(0,"div",29),e.YNc(1,As,2,0,"div",30),e.TgZ(2,"div")(3,"table",31)(4,"thead")(5,"tr",32),e._UZ(6,"th"),e.TgZ(7,"th",33),e._uU(8,"H\xe0nh kh\xe1ch"),e.qZA(),e.TgZ(9,"th",33),e._uU(10,"Lo\u1ea1i kh\xe1ch"),e.qZA(),e.TgZ(11,"th",33),e._uU(12,"Em b\xe9 \u0111i k\xe8m"),e.qZA()()(),e.TgZ(13,"tbody"),e.YNc(14,Is,11,4,"ng-container",34),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isExistInf),e.xp6(13),e.Q6J("ngForOf",t.listNewPassengers)}}function Us(n,r){1&n&&(e.TgZ(0,"span",42),e._uU(1," H\xe3ng VJ: H\u1ec7 th\u1ed1ng s\u1ebd h\u1ee7y PNR hi\u1ec7n t\u1ea1i \u0111\u1ec3 th\u1ef1c hi\u1ec7n rebook "),e.qZA())}function qs(n,r){1&n&&(e.TgZ(0,"span",42),e._uU(1," H\xe3ng VN: \u0110\u1eb7t l\u1ea1i \u0111\xfang s\u1ed1 l\u01b0\u1ee3ng & th\xf4ng tin kh\xe1ch hi\u1ec7n t\u1ea1i s\u1ebd gi\u1eef \u0111\u01b0\u1ee3c PNR g\u1ed1c "),e.qZA())}function ws(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onEnterPaxInfo())}),e._UZ(1,"cf-icon",44),e._uU(2," Ti\u1ebfp t\u1ee5c "),e.qZA()}}function Bs(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onConfirmRebookExistPax())}),e._UZ(1,"cf-icon",44),e._uU(2," X\xe1c nh\u1eadn "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.disableConfirmPax)}}let Ps=(()=>{class n{constructor(t,i,o,a,l,d,x,b,g){var A,Z;this._iconRegister=t,this._modal=i,this._bookingDetailService=o,this._toastService=a,this._mobileDetectService=l,this._bottomSheetService=d,this.ref=x,this.bottomSheetData=b,this.bottomSheetRef=g,this.paxTypeRebook="NEW_PAX",this._adultNumber=1,this._childNumber=0,this._infantNumber=0,this.ADULT_CHILD_LIMIT=9,this.CHILD_LIMIT=8,this.listNewPassengers=[],this.defautCheckAllPax=!0,this.disableConfirmPax=!this.defautCheckAllPax,this.isExistInf=!1,t.registerIcons([p.gll,p.TM4]),this.currentUserStorage=JSON.parse(null!==(A=localStorage.getItem("currentUser"))&&void 0!==A?A:"").data,x&&(this.bookingContact=x.data.bookingContact,this.bookingDetail=x.data.bookingDetail,this.rebookPnrSnapshot$=x.data.rebookPnrSnapshot$),g&&(this.bookingContact=b.bookingContact,this.bookingDetail=b.bookingDetail,this.rebookPnrSnapshot$=b.rebookPnrSnapshot$),this.listNewPassengers=this.getListNewPassengers(),this.isExistInf=this.listNewPassengers.some(q=>"INF"===q.type),this.ADULT_CHILD_LIMIT=null===(Z=this.bookingDetail)||void 0===Z?void 0:Z.passengers.filter(q=>"INF"!==q.type).length}ngOnInit(){"CANCEL"===this.bookingDetail.status&&this.rebookPnrSnapshot$.subscribe({next:t=>{"OK"===t.status&&(this.bookingDetail.journeys=t.data.journeys.map((i,o)=>Object.assign(Object.assign({},i),{segments:t.data.journeys[o].segments.map(a=>{var l,d;return Object.assign(Object.assign({},a),{startPoint:a.departure.airport.code||"",endPoint:a.arrival.airport.code||"",startTime:null!==(l=a.departure)&&void 0!==l&&l.localTime?G(a.departure.localTime).toDate():void 0,endTime:null!==(d=a.arrival)&&void 0!==d&&d.localTime?G(a.arrival.localTime).toDate():void 0})})})))}})}getListNewPassengers(){var t;const i=((null===(t=this.bookingDetail)||void 0===t?void 0:t.passengers)||[]).filter(o=>"INF"!==o.type).map(o=>Object.assign(Object.assign({},o),{child:{firstName:"",lastName:"",type:""},isSelected:this.defautCheckAllPax}));return this.bookingDetail.passengers.filter(o=>"INF"===o.type).forEach(o=>{const a=i.find(l=>l.key===o.parentKey);a&&(a.child={firstName:o.firstName,lastName:o.lastName,type:o.type})}),i}paxTypeRebookChange(t){}decrease(t){switch(t){case"ADT":this._adultNumber===this._infantNumber&&1!==this._adultNumber&&this._infantNumber--,this._adultNumber--;break;case"CHD":this._childNumber--;break;case"INF":this._infantNumber--}}increase(t){switch(t){case"ADT":this._adultNumber++;break;case"CHD":this._childNumber++;break;case"INF":this._infantNumber++}}checkedChange(t,i){var o;i.isSelected=t,this.disableConfirmPax=!(null!==(o=this.listNewPassengers)&&void 0!==o&&o.some(a=>a.isSelected))}onEnterPaxInfo(){this._mobileDetectService.isMobile()?this._bottomSheetService.open(wn,{headerTitle:"",hasHeader:!1,leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",rightButtonIcon:"",containerFullHeigh:!0,data:{adultNumber:this._adultNumber,childNumber:this._childNumber,infantNumber:this._infantNumber,bookingDetail:this.bookingDetail}}).afterDismissed().subscribe({next:i=>{i&&this.bottomSheetRef.dismiss(i)}}):this._modal.open(wn,{adultNumber:this._adultNumber,childNumber:this._childNumber,infantNumber:this._infantNumber,bookingDetail:this.bookingDetail}).afterClosed$.subscribe({next:i=>{i.data&&this.ref.close(i.data)}})}onConfirmRebookExistPax(){var t,i,o,a;if(null!==(t=this.listNewPassengers)&&void 0!==t&&t.every(g=>!g.isSelected))return;const l=()=>{var g,A,Z;const q={bookingContact:{email:this.bookingContact.email,name:this.bookingContact.name||"Thuong",phone:this.bookingContact.phone,phonePrefix:"+84"},bookingPassengers:null===(g=this.listNewPassengers.filter(I=>I.isSelected))||void 0===g?void 0:g.map((I,B)=>({birthday:I.birthday||"",defaultDocumentType:I.documentType||D.FV.CCCD,documentInfo:I.number?[{documentType:I.documentType||D.FV.CCCD,expiryDate:I.expiryDate||"",issuanceCountry:I.issuanceCountry||"",issuanceDate:I.issuanceDate||"",nationality:I.nationality||"",number:I.number||""}]:[],email:"",firstName:I.firstName,gender:I.gender,index:B,lastName:I.lastName,loyalInfo:[],parentIndex:"INF"===I.type?b.shift():0,setDefaultDocument:I.defaultDocumentInfo,type:I.type})),extraInfo:{agentId:(null===(A=this.bookingDetail)||void 0===A?void 0:A.agentId)||"",notes:[],uuidAction:(null===(Z=this.currentUserStorage)||void 0===Z?void 0:Z.userId)||""},promoCode:"",provider:this.bookingDetail.provider,refPnr:this.bookingDetail.bookingCode,journeyPricesInfo:this.bookingDetail.journeys.map(I=>({leg:I.leg,price:I.journeyBaseFare||0}))};return this.listNewPassengers.filter(I=>I.isSelected&&"ADT"===I.type).forEach(I=>{const B=this.bookingDetail.passengers.filter(V=>"INF"===V.type).find(V=>V.parentKey===I.key);B&&q.bookingPassengers.push({birthday:B.birthday||"",defaultDocumentType:B.documentType||D.FV.CCCD,documentInfo:[],email:"",firstName:B.firstName,gender:B.gender,index:B.index,lastName:B.lastName,loyalInfo:[],parentIndex:"INF"===B.type?b.shift():0,setDefaultDocument:B.defaultDocumentInfo,type:B.type})}),q},d=null===(i=this.listNewPassengers.filter(g=>"ADT"===g.type))||void 0===i?void 0:i.length,x=null===(o=this.listNewPassengers.filter(g=>"INF"===g.type))||void 0===o?void 0:o.length,b=null===(a=this.listNewPassengers.filter(g=>"ADT"===g.type))||void 0===a?void 0:a.map(g=>g.index);if(x>d)this._toastService.add({severity:"error",summary:"C\xf3 l\u1ed7i x\u1ea3y ra",detail:"Em b\xe9 ph\u1ea3i c\xf3 ng\u01b0\u1eddi l\u1edbn \u0111i k\xe8m.",sticky:!0});else if(this.ref&&this._modal.open(Tn,{rebookDataConfirm:this.getRebookData(this.bookingDetail)}).afterClosed$.subscribe({next:A=>{A.data&&this.ref.close(l())}}),this.bottomSheetRef){const g=this._bottomSheetService.open(Tn,{headerTitle:"X\xe1c nh\u1eadn Rebook",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",rightButtonIcon:"",data:{rebookDataConfirm:this.getRebookData(this.bookingDetail)}});g.containerInstance._leftButtonClick.subscribe(A=>g.dismiss()),g.afterDismissed().subscribe({next:A=>{A&&this.bottomSheetRef.dismiss(l())}})}}getRebookData(t){var i;const a=null===(i=this.listNewPassengers.filter(l=>l.isSelected).filter(l=>"INF"!==l.type))||void 0===i?void 0:i.map(l=>({firstName:l.firstName,lastName:l.lastName,type:l.type,child:l.child}));return{provider:t.provider,bookingCode:t.bookingCode,passengers:a,segments:t.journeys.flatMap(l=>l.segments).map(l=>({flightNumber:`${l.airline}${l.flightNumber}`,startCode:l.startPoint,endCode:l.endPoint,route:`${l.startPoint}${l.endPoint}`,departDate:l.startTime?(0,m.p6)(l.startTime,"dMMM","en-US"):"",startTime:l.startTime?(0,m.p6)(l.startTime,"HH:mm","vi-VN"):"",endTime:l.endTime?(0,m.p6)(l.endTime,"HH:mm","vi-VN"):""}))}}close(){this.ref&&this.ref.close(!1),this.bottomSheetRef&&this.bottomSheetRef.dismiss(!1)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.KNP),e.Y36(S.oE),e.Y36(Xe.P3),e.Y36(Qe.BX),e.Y36(le.L),e.Y36(U.a2),e.Y36(S.gb,8),e.Y36(U.Rr,8),e.Y36(U.Zu,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["rebook-pnr-method"]],standalone:!0,features:[e.jDz],decls:20,vars:9,consts:[[1,"w-[520px]","max-h-[600px]","overflow-hidden","rounded-lg","bg-neutral-white","flex","flex-col","md:w-full","md:max-h-full"],[1,"p-6","flex","flex-col","gap-y-3","flex-1","overflow-auto"],[1,"text-heading-xs","text-neutral-black"],[1,"flex","items-center","gap-x-8",3,"ngModel","checkChange","ngModelChange"],["size","medium",3,"value"],["class","flex flex-col gap-y-2",4,"ngIf"],["class","flex flex-col gap-y-2 mb-2",4,"ngIf"],[1,"w-full","py-1.5","px-3","bg-functional-1-1","rounded","flex","items-center","gap-x-3"],["icon","info","size","small",1,"text-functional-1-3"],["class","text-body-md-short",4,"ngIf"],[1,"px-6","pb-6","flex","gap-x-4","justify-end"],["cf-button","","size","medium","type","secondary",1,"min-w-[100px]","md:w-full","justify-center",3,"click"],["cf-button","","class","min-w-[100px] md:w-full justify-center","size","medium","color","primary-1",3,"click",4,"ngIf"],["cf-button","","class","min-w-[100px] md:w-full justify-center","size","medium","color","primary-1",3,"disabled","click",4,"ngIf"],[1,"flex","flex-col","gap-y-2"],[1,"text-espressive-sm","text-neutral-gray-4"],[1,"text-neutral-gray-6"],[1,"flex","items-center","justify-between","mb-3","md:mb-4"],[1,"flex","items-center","gap-x-3"],["icon","user","size","small"],[1,"flex","flex-col","gap-y-1"],[1,"text-espressive-md","text-neutral-black","md:text-heading-xs"],[1,"text-espressive-xs","text-neutral-gray-4","md:text-body-sm"],[1,"flex","items-center","justify-end"],["cf-button","","size","small","type","secondary",3,"disabled","click"],["icon","minus","size","small"],[1,"text-espressive-md","text-neutral-black","mx-4"],["icon","plus","size","small"],[1,"flex","items-center","justify-between","mb-[22px]","md:mb-6"],[1,"flex","flex-col","gap-y-2","mb-2"],["class","text-espressive-sm text-primary-1-4",4,"ngIf"],[1,"table-auto","w-full"],[1,"border-b","border-neutral-gray-1"],[1,"text-left","text-espressive-sm","text-neutral-gray-4","pb-3"],[4,"ngFor","ngForOf"],[1,"text-espressive-sm","text-primary-1-4"],[1,"pt-4","pl-2"],[1,"flex","justify-center","items-center"],["size","medium",3,"checked","checkChange"],[1,"text-body-md","text-neutral-black","pt-4","uppercase"],[1,"text-body-md","text-neutral-black","pt-4"],[4,"ngIf"],[1,"text-body-md-short"],["cf-button","","size","medium","color","primary-1",1,"min-w-[100px]","md:w-full","justify-center",3,"click"],["icon","circle_check","size","small",1,"mr-2.5"],["cf-button","","size","medium","color","primary-1",1,"min-w-[100px]","md:w-full","justify-center",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Ch\u1ecdn h\xecnh th\u1ee9c \u0111\u1eb7t l\u1ea1i ch\u1ed7"),e.qZA(),e.TgZ(4,"cf-radio-group",3),e.NdJ("checkChange",function(a){return i.paxTypeRebookChange(a)})("ngModelChange",function(a){return i.paxTypeRebook=a}),e.TgZ(5,"cf-radio",4),e._uU(6,"\u0110\u1eb7t kh\xe1ch m\u1edbi"),e.qZA(),e.TgZ(7,"cf-radio",4),e._uU(8,"\u0110\u1eb7t l\u1ea1i kh\xe1ch hi\u1ec7n t\u1ea1i"),e.qZA()(),e.YNc(9,Ds,51,10,"div",5),e.YNc(10,Ns,15,2,"div",6),e.TgZ(11,"div",7),e._UZ(12,"cf-icon",8),e.YNc(13,Us,2,0,"span",9),e.YNc(14,qs,2,0,"span",9),e.qZA()(),e.TgZ(15,"div",10)(16,"button",11),e.NdJ("click",function(){return i.close()}),e._uU(17," \u0110\xf3ng "),e.qZA(),e.YNc(18,ws,3,0,"button",12),e.YNc(19,Bs,3,1,"button",13),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("ngModel",i.paxTypeRebook),e.xp6(1),e.Q6J("value","NEW_PAX"),e.xp6(2),e.Q6J("value","EXIST_PAX"),e.xp6(2),e.Q6J("ngIf","NEW_PAX"===i.paxTypeRebook),e.xp6(1),e.Q6J("ngIf","EXIST_PAX"===i.paxTypeRebook),e.xp6(3),e.Q6J("ngIf","VJ"===i.bookingDetail.provider),e.xp6(1),e.Q6J("ngIf","VN"===i.bookingDetail.provider),e.xp6(4),e.Q6J("ngIf","NEW_PAX"===i.paxTypeRebook),e.xp6(1),e.Q6J("ngIf","EXIST_PAX"===i.paxTypeRebook))},dependencies:[m.ez,m.sg,m.O5,p.AxE,p.Sm8,v.u5,v.JJ,v.On,E.N8,E.Xq,U.DW,pe.o,pe.T,An.u],encapsulation:2}),n})();function Fs(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"cf-input-group",12)(1,"label",13),e._uU(2),e.qZA(),e.TgZ(3,"input",14),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.membershipNumber=o)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.Q6J("status","default"),e.xp6(2),e.lnq(" ",t.lastName," ",t.firstName," (",t.type,") "),e.xp6(1),e.Q6J("ngModel",t.membershipNumber)}}function Js(n,r){if(1&n&&(e.TgZ(0,"div")(1,"div",15),e._uU(2),e.qZA(),e.TgZ(3,"div",16)(4,"span"),e._uU(5),e.qZA()()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.lnq(" ",t.firstName," ",t.lastName," (",t.type,") "),e.xp6(3),e.Oqu(t.membershipNumber)}}function Qs(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Fs,4,5,"cf-input-group",10),e.YNc(2,Js,6,4,"div",11),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",t.canUpdate),e.xp6(1),e.Q6J("ngIf",!t.canUpdate)}}let Ss=(()=>{class n{constructor(t,i,o,a,l){this.ref=i,this.bottomSheetData=o,this.bottomSheetRef=a,this._modal=l,this.listPax=[],t.registerIcons([p.UNF]),i&&(this.listPax=i.data.listPax),o&&(this.listPax=o.listPax)}onRemoveMembership(t){this._modal.open(z.V0,{title:"X\xe1c nh\u1eadn",body:"X\xe1c nh\u1eadn x\xf3a th\u1ebb B\xf4ng Sen V\xe0ng cho h\xe0nh kh\xe1ch n\xe0y?",okText:"X\xe1c nh\u1eadn",cancelText:"\u0110\xf3ng",hasIcon:!1}).afterClosed$.subscribe({next:o=>{}})}onUpdate(){const i=this.listPax.filter(o=>o.canUpdate&&o.membershipNumber).map(o=>({membershipID:o.membershipNumber,passengerKey:o.key}));this.ref&&this.ref.close(i),this.bottomSheetRef&&this.bottomSheetRef.dismiss(i)}onClose(){this.ref&&this.ref.close(!1),this.bottomSheetRef&&this.bottomSheetRef.dismiss(!1)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.KNP),e.Y36(S.gb,8),e.Y36(U.Rr,8),e.Y36(U.Zu,8),e.Y36(S.oE))},n.\u0275cmp=e.Xpm({type:n,selectors:[["update-membership"]],standalone:!0,features:[e.jDz],decls:13,vars:1,consts:[[1,"w-[377px]","min-h-[250px]","max-h-[600px]","overflow-hidden","flex","flex-col","rounded-lg","bg-neutral-white","md:w-screen"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-b-neutral-gray-1","md:hidden"],[1,"text-heading-sm","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"flex-auto","w-full","h-full","overflow-auto","pt-4","px-6"],[1,"flex","flex-col","gap-y-4"],[4,"ngFor","ngForOf"],[1,"p-6","flex","justify-end","gap-x-4"],["cf-button","","type","secondary","size","medium",1,"md:w-full","justify-center",3,"click"],["cf-button","","size","medium",1,"md:w-full","justify-center",3,"click"],["class","grow-[400] !w-full",3,"status",4,"ngIf"],[4,"ngIf"],[1,"grow-[400]","!w-full",3,"status"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp s\u1ed1 th\u1ebb",3,"ngModel","ngModelChange"],[1,"text-espressive-sm","text-black","mb-1.5"],[1,"border","border-neutral-gray-2","rounded","px-3","py-2","text-body-md","flex","justify-between","items-center"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Th\xeam th\u1ebb B\xf4ng Sen V\xe0ng"),e.qZA(),e.TgZ(4,"cf-icon",3),e.NdJ("click",function(){return i.onClose()}),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5),e.YNc(7,Qs,3,2,"ng-container",6),e.qZA()(),e.TgZ(8,"div",7)(9,"button",8),e.NdJ("click",function(){return i.onClose()}),e._uU(10," H\u1ee7y "),e.qZA(),e.TgZ(11,"button",9),e.NdJ("click",function(){return i.onUpdate()}),e._uU(12," C\u1eadp nh\u1eadt "),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("ngForOf",i.listPax))},dependencies:[m.ez,m.sg,m.O5,v.u5,v.Fj,v.JJ,v.On,p.AxE,p.Sm8,E.N8,E.Xq,ee.j$,ee.ND,ee.BN],encapsulation:2}),n})();function Ys(n,r){if(1&n&&e._UZ(0,"cf-input-hint",25),2&n){const t=e.oxw();e.Q6J("hint",t.errorMessage.gender)}}function Ms(n,r){if(1&n&&e._UZ(0,"cf-input-hint",25),2&n){const t=e.oxw();e.Q6J("hint",t.errorMessage.lastName)}}function Os(n,r){if(1&n&&e._UZ(0,"cf-input-hint",25),2&n){const t=e.oxw();e.Q6J("hint",t.errorMessage.firstName)}}function Rs(n,r){if(1&n&&e._UZ(0,"cf-input-hint",25),2&n){const t=e.oxw();e.Q6J("hint",t.errorMessage.birthday)}}function js(n,r){if(1&n&&e._UZ(0,"cf-input-hint",25),2&n){const t=e.oxw();e.Q6J("hint",t.errorMessage.DoBInfant)}}function Gs(n,r){if(1&n&&e._UZ(0,"cf-input-hint",25),2&n){const t=e.oxw();e.Q6J("hint",t.errorMessage.parentKey)}}function Ls(n,r){if(1&n&&e._UZ(0,"cf-input-hint",25),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.cccdNumber)}}function Hs(n,r){if(1&n&&e._UZ(0,"cf-input-hint",25),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.minlengthCccdNumber)}}function Vs(n,r){if(1&n&&e._UZ(0,"cf-input-hint",25),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.maxlengthCccdNumber)}}function zs(n,r){if(1&n&&(e.TgZ(0,"div")(1,"cf-input-group",11),e._UZ(2,"input",36),e.YNc(3,Ls,1,1,"cf-input-hint",10),e.YNc(4,Hs,1,1,"cf-input-hint",10),e.YNc(5,Vs,1,1,"cf-input-hint",10),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("status",t.formGroup.controls.cccdNumber.invalid&&(t.formGroup.controls.cccdNumber.dirty||t.formGroup.controls.cccdNumber.touched)?"error":"default"),e.xp6(1),e.Q6J("formControl",t.formGroup.controls.cccdNumber),e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.cccdNumber.hasError("required")&&(t.formGroup.controls.cccdNumber.touched||t.formGroup.controls.cccdNumber.dirty)),e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.cccdNumber.hasError("minlength")&&(t.formGroup.controls.cccdNumber.touched||t.formGroup.controls.cccdNumber.dirty)),e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.cccdNumber.hasError("maxlength")&&(t.formGroup.controls.cccdNumber.touched||t.formGroup.controls.cccdNumber.dirty))}}function Ks(n,r){if(1&n&&e._UZ(0,"cf-input-hint",25),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.maxlengthPassportNumber)}}function $s(n,r){if(1&n&&e._UZ(0,"cf-input-hint",25),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.passportNumber)}}function Xs(n,r){if(1&n&&e._UZ(0,"cf-input-hint",25),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.nationality)}}function Ws(n,r){if(1&n&&e._UZ(0,"cf-input-hint",25),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.issuanceCountry)}}function eu(n,r){if(1&n&&e._UZ(0,"cf-input-hint",25),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.issuanceDate)}}function tu(n,r){if(1&n&&e._UZ(0,"cf-input-hint",25),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.issuanceDateInvalid)}}function nu(n,r){if(1&n&&e._UZ(0,"cf-input-hint",25),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.expiryDate)}}function iu(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",37)(1,"cf-input-group",11)(2,"label",38),e._uU(3," S\u1ed1 h\u1ed9 chi\u1ebfu "),e.qZA(),e._UZ(4,"input",39),e.YNc(5,Ks,1,1,"cf-input-hint",10),e.YNc(6,$s,1,1,"cf-input-hint",10),e.qZA(),e.TgZ(7,"cf-select",40)(8,"label",38),e._uU(9," Qu\u1ed1c t\u1ecbch "),e.qZA(),e.YNc(10,Xs,1,1,"cf-input-hint",10),e.qZA(),e.TgZ(11,"cf-select",41)(12,"label",38),e._uU(13," Qu\u1ed1c gia c\u1ea5p h\u1ed9 chi\u1ebfu "),e.qZA(),e.YNc(14,Ws,1,1,"cf-input-hint",10),e.qZA(),e.TgZ(15,"div")(16,"cf-input-group",11),e._UZ(17,"cf-icon",14),e.TgZ(18,"label",38),e._uU(19," Ng\xe0y c\u1ea5p "),e.qZA(),e.TgZ(20,"input",42,43),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(21);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(21);return e.KtG(o.close())}),e.qZA(),e.YNc(22,eu,1,1,"cf-input-hint",10),e.YNc(23,tu,1,1,"cf-input-hint",10),e.qZA()(),e.TgZ(24,"div")(25,"cf-input-group",11),e._UZ(26,"cf-icon",14),e.TgZ(27,"label",38),e._uU(28," Ng\xe0y h\u1ebft h\u1ea1n "),e.qZA(),e.TgZ(29,"input",44,45),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(30);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(30);return e.KtG(o.close())}),e.qZA(),e.YNc(31,nu,1,1,"cf-input-hint",10),e.qZA(),e.TgZ(32,"div",46),e._uU(33," C\xf2n h\u1ea1n tr\xean 6 th\xe1ng so v\u1edbi ng\xe0y b\u1eaft \u0111\u1ea7u h\xe0nh tr\xecnh"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("status",t.formGroup.controls.number.invalid&&(t.formGroup.controls.number.dirty||t.formGroup.controls.number.touched)?"error":"default"),e.xp6(1),e.Q6J("CfRequired",t.has1GProvider||t.hasFlyOneProvider),e.xp6(2),e.Q6J("formControl",t.formGroup.controls.number),e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.number.hasError("maxlength")&&(t.formGroup.controls.number.touched||t.formGroup.controls.number.dirty)),e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.number.hasError("required")&&(t.formGroup.controls.number.touched||t.formGroup.controls.number.dirty)),e.xp6(1),e.Q6J("status",t.formGroup.controls.nationality.invalid&&(t.formGroup.controls.nationality.dirty||t.formGroup.controls.nationality.touched)?"error":"default")("data",t.countryOption)("allowSearch",!0)("formControl",t.formGroup.controls.nationality),e.xp6(1),e.Q6J("CfRequired",t.has1GProvider||t.hasFlyOneProvider),e.xp6(2),e.Q6J("ngIf",t.formGroup.controls.nationality.hasError("required")&&(t.formGroup.controls.nationality.touched||t.formGroup.controls.nationality.dirty)),e.xp6(1),e.Q6J("data",t.countryOption)("status",t.formGroup.controls.issuanceCountry.invalid&&(t.formGroup.controls.issuanceCountry.dirty||t.formGroup.controls.issuanceCountry.touched)?"error":"default")("allowSearch",!0)("formControl",t.formGroup.controls.issuanceCountry),e.xp6(1),e.Q6J("CfRequired",t.has1GProvider||t.hasFlyOneProvider),e.xp6(2),e.Q6J("ngIf",t.formGroup.controls.issuanceCountry.hasError("required")&&(t.formGroup.controls.issuanceCountry.touched||t.formGroup.controls.issuanceCountry.dirty)),e.xp6(2),e.Q6J("status",t.formGroup.controls.issuanceDate.invalid&&(t.formGroup.controls.issuanceDate.dirty||t.formGroup.controls.issuanceDate.touched)?"error":"default"),e.xp6(2),e.Q6J("CfRequired",t.has1GProvider||t.hasFlyOneProvider),e.xp6(2),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("maxDate",t.currentDate)("formControl",t.formGroup.controls.issuanceDate),e.xp6(2),e.Q6J("ngIf",t.formGroup.controls.issuanceDate.hasError("required")&&(t.formGroup.controls.issuanceDate.touched||t.formGroup.controls.issuanceDate.dirty)),e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.issuanceDate.hasError("issuanceDateInvalid")&&(t.formGroup.controls.issuanceDate.touched||t.formGroup.controls.issuanceDate.dirty)),e.xp6(2),e.Q6J("status",t.formGroup.controls.expiryDate.invalid&&(t.formGroup.controls.expiryDate.dirty||t.formGroup.controls.expiryDate.touched)?"error":"default"),e.xp6(2),e.Q6J("CfRequired",t.has1GProvider||t.hasFlyOneProvider),e.xp6(2),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("minDate",t.currentDate)("formControl",t.formGroup.controls.expiryDate),e.xp6(2),e.Q6J("ngIf",t.formGroup.controls.expiryDate.hasError("required")&&(t.formGroup.controls.expiryDate.touched||t.formGroup.controls.expiryDate.dirty))}}function ou(n,r){1&n&&(e.TgZ(0,"div",47),e._uU(1," Khuy\u1ebfn ngh\u1ecb nh\u1eadp CCCD/H\u1ed9 chi\u1ebfu kh\xe1ch h\xe0ng, n\u1ebfu kh\xf4ng h\xe3ng s\u1ebd kh\xf4ng h\u1ed7 tr\u1ee3 khi g\u1eb7p s\u1ef1 c\u1ed1 "),e.qZA())}function ru(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",26)(1,"div",27)(2,"label",28),e._uU(3," Gi\u1ea5y t\u1edd t\xf9y th\xe2n "),e.qZA(),e.TgZ(4,"div")(5,"div",29)(6,"cf-radio-group",30),e.NdJ("checkChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onIdentityChange(o,a.formGroup))}),e.TgZ(7,"cf-radio",31),e._uU(8," CCCD "),e.qZA(),e.TgZ(9,"cf-radio",32),e._uU(10," H\u1ed9 chi\u1ebfu "),e.qZA(),e.TgZ(11,"cf-radio",31),e._uU(12,"Kh\xf4ng c\xf3"),e.qZA()(),e.YNc(13,zs,6,5,"div",33),e.YNc(14,iu,34,32,"div",34),e.YNc(15,ou,2,0,"div",35),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(4),e.Q6J("formControl",t.formGroup.controls.documentType),e.xp6(1),e.Q6J("disabled",t.hasAirportInternational)("value",t.CF_IDENTIFY_TYPE.CCCD),e.xp6(2),e.Q6J("value",t.CF_IDENTIFY_TYPE.PASSPORT),e.xp6(2),e.Q6J("disabled",t.has1GProvider||t.hasFlyOneProvider)("value",t.CF_IDENTIFY_TYPE.NON_IDENTIFY),e.xp6(2),e.Q6J("ngIf",t.formGroup.value.documentType===t.CF_IDENTIFY_TYPE.CCCD),e.xp6(1),e.Q6J("ngIf",t.formGroup.value.documentType===t.CF_IDENTIFY_TYPE.PASSPORT),e.xp6(1),e.Q6J("ngIf",t.formGroup.value.documentType===t.CF_IDENTIFY_TYPE.NON_IDENTIFY)}}let au=(()=>{class n{constructor(t,i,o,a,l,d,x,b){this.cfIconRegister=t,this._fb=i,this.calendar=o,this.ref=a,this.bottomSheetData=l,this.bottomSheetRef=d,this._modal=x,this._locationDataService=b,this.optionsGender=[{text:"Nam",value:"male"},{text:"N\u1eef",value:"female"}],this.optionsAdultPassenger=[],this.errorMessage={lastName:"H\u1ecd kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",firstName:"T\xean \u0111\u1ec7m v\xe0 T\xean kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",birthday:"Ng\xe0y sinh kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",DoBInfant:"Ng\xe0y sinh ph\u1ea3i t\u1eeb ng\xe0y {0}",gender:"Gi\u1edbi t\xednh kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",parentKey:"Ng\u01b0\u1eddi l\u1edbn \u0111i k\xe8m kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",maxlengthPassportNumber:"S\u1ed1 h\u1ed9 chi\u1ebfu t\u1ed1i \u0111a 9 k\xfd t\u1ef1",maxlengthCccdNumber:"S\u1ed1 CCCD t\u1ed1i \u0111a 12 k\xfd t\u1ef1",minlengthCccdNumber:"S\u1ed1 CCCD t\u1ed1i thi\u1ec3u 9 k\xfd t\u1ef1",passportNumber:"S\u1ed1 h\u1ed9 chi\u1ebfu kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",cccdNumber:"S\u1ed1 CCCD kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",nationality:"Qu\u1ed1c t\u1ecbch kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",issuanceCountry:"Qu\u1ed1c gia kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",expiryDate:"Ng\xe0y h\u1ebft h\u1ea1n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",issuanceDate:"Ng\xe0y c\u1ea5p kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",issuanceDateInvalid:"Ng\xe0y c\u1ea5p h\u1ed9 chi\u1ebfu ph\u1ea3i tr\u01b0\u1edbc ng\xe0y h\u1ebft h\u1ea1n"},this.hasAirportInternational=!1,this.identityType=D.FV.CCCD,this.CF_IDENTIFY_TYPE=D.FV,this.has1GProvider=!1,this.hasFlyOneProvider=!1,t.registerIcons([p.UNF]),this.currentDate=o.getToday(),a&&(this.departureTimestamp=a.data.departureTimestamp,this.optionsAdultPassenger=a.data.listAdultPassengerAvailable||[],this.hasAirportInternational=a.data.hasAirportInternational),l&&(this.departureTimestamp=l.departureTimestamp,this.optionsAdultPassenger=l.listAdultPassengerAvailable||[],this.hasAirportInternational=l.hasAirportInternational),this.lastestDoBInfant=(0,Fe.Z)(this.departureTimestamp,-2),this.lastestDoBInfant=(0,st.Z)(this.lastestDoBInfant,1),this.errorMessage.DoBInfant=this.errorMessage.DoBInfant.replace("{0}",(0,m.p6)(this.lastestDoBInfant,"dd/MM/yyyy","vi-VN")),this.identityType=this.hasAirportInternational?D.FV.PASSPORT:D.FV.NON_IDENTIFY}ngOnInit(){this.initFormGroup(),this.onIdentityChange(this.identityType,this.formGroup),this.countryOption=this._locationDataService.getAllCountryOption()}initFormGroup(){var t;const o=(null===(t=this.optionsGender[0])||void 0===t?void 0:t.value)||"";this.formGroup=this._fb.group({firstName:["",v.kI.required],lastName:["",v.kI.required],gender:[o,v.kI.required],birthday:["",v.kI.required],parentKey:[1===this.optionsAdultPassenger.length?this.optionsAdultPassenger[0].value:"",v.kI.required],membershipID:[null],cccdNumber:[null],number:[null],nationality:[null],issuanceCountry:[null],issuanceDate:[null],expiryDate:[null],documentType:[this.identityType]},{validators:[(0,se.DW)("birthday",this.departureTimestamp)]})}onIdentityChange(t,i){t===D.FV.PASSPORT?(["issuanceDate","expiryDate","issuanceCountry","nationality","number"].forEach(o=>{var a,l,d,x;"number"===o?(null===(a=i.get(o))||void 0===a||a.setValidators([v.kI.required,v.kI.maxLength(9)]),null===(l=i.get(o))||void 0===l||l.updateValueAndValidity()):(null===(d=i.get(o))||void 0===d||d.setValidators([v.kI.required]),null===(x=i.get(o))||void 0===x||x.updateValueAndValidity())}),["cccdNumber"].forEach(o=>{var a,l;null===(a=i.get(o))||void 0===a||a.setValidators(null),null===(l=i.get(o))||void 0===l||l.updateValueAndValidity()})):t===D.FV.CCCD?(["cccdNumber"].forEach(o=>{var a,l;null===(a=i.get(o))||void 0===a||a.setValidators([v.kI.required,v.kI.minLength(9),v.kI.maxLength(12)]),null===(l=i.get(o))||void 0===l||l.updateValueAndValidity()}),["issuanceDate","expiryDate","issuanceCountry","nationality","number"].forEach(o=>{var a,l;null===(a=i.get(o))||void 0===a||a.setValidators(null),null===(l=i.get(o))||void 0===l||l.updateValueAndValidity()})):["issuanceDate","expiryDate","issuanceCountry","nationality","number","cccdNumber"].forEach(o=>{var a,l;null===(a=i.get(o))||void 0===a||a.setValidators(null),null===(l=i.get(o))||void 0===l||l.updateValueAndValidity()})}unicodeAndUppercase(t){return t=t.replace(/ +(?= )/g,""),(0,Zn.E)(t.trim()).toUpperCase()}onBlurInput(t,i,o){var a;const l=this.unicodeAndUppercase(t.target.value);null===(a=i.get(o))||void 0===a||a.setValue(l)}onSubmit(){var t,i,o,a,l,d;if(this.formGroup.markAllAsTouched(),this.formGroup.invalid)return;const x=this.formGroup.value;this.infantData={birthDay:x.birthday?G(x.birthday).format("YYYY-MM-DD"):"",firstName:null===(i=null===(t=x.firstName)||void 0===t?void 0:t.trim())||void 0===i?void 0:i.toUpperCase(),gender:null===(a=null===(o=x.gender)||void 0===o?void 0:o.trim())||void 0===a?void 0:a.toUpperCase(),lastName:null===(d=null===(l=x.lastName)||void 0===l?void 0:l.trim())||void 0===d?void 0:d.toUpperCase(),parentKey:x.parentKey||"",membershipID:x.membershipID||"",setDefaultDocument:x.documentType===D.FV.NON_IDENTIFY,defaultDocumentType:x.documentType===D.FV.NON_IDENTIFY?D.FV.CCCD:null,documentInfo:x.number?[{documentType:x.documentType,expiryDate:x.expiryDate?G(x.expiryDate).format("YYYY-MM-DD"):"",issuanceCountry:x.issuanceCountry,issuanceDate:x.issuanceDate?G(x.issuanceDate).format("YYYY-MM-DD"):"",nationality:x.nationality,number:x.number}]:[]},this.ref&&this.ref.close(this.infantData),this.bottomSheetRef&&this.bottomSheetRef.dismiss(this.infantData)}onClose(){this.ref&&this.ref.close(!1),this.bottomSheetRef&&this.bottomSheetRef.dismiss(!1)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.KNP),e.Y36(v.qu),e.Y36(Pe.jH),e.Y36(S.gb,8),e.Y36(U.Rr,8),e.Y36(U.Zu,8),e.Y36(S.oE),e.Y36(Ne._))},n.\u0275cmp=e.Xpm({type:n,selectors:[["add-infant"]],standalone:!0,features:[e.jDz],decls:59,vars:31,consts:[[1,"w-[830px]","min-h-[250px]","max-h-[600px]","md:h-full","md:max-h-full","overflow-hidden","flex","flex-col","rounded-lg","bg-neutral-white","md:w-screen"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-b-neutral-gray-1","md:hidden"],[1,"text-heading-sm","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"flex-auto","w-full","h-full","overflow-auto","pt-4","px-6"],[1,"grid","grid-cols-3","gap-4","md:grid-cols-1"],[1,""],["textField","text","valueField","value","placeholder","Ch\u1ecdn gi\u1edbi t\xednh",1,"md:w-full","md:max-w-none",3,"status","data","allowSearch","formControl"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5"],[3,"CfRequired"],["cfHint","",3,"hint",4,"ngIf"],[1,"grow-[400]","!w-full",3,"status"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp h\u1ecd",3,"formControl","blur"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp t\xean \u0111\u1ec7m v\xe0 t\xean",3,"formControl","blur"],["cfHeadIcon","","icon","calendar","size","small"],[1,"text-neutral-gray-4","text-espressive-sm"],["autocomplete","off","cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Nh\u1eadp ng\xe0y sinh",1,"py-[7px]",3,"secondaryCalendar","displayMonths","maxDate","formControl","input","dateSelect"],["dateFrom","cfDatepicker"],["textField","text","valueField","value","placeholder","Ch\u1ecdn h\xe0nh kh\xe1ch",1,"md:w-full","md:max-w-none",3,"status","data","allowSearch","formControl"],["parentSelectInfant",""],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp th\u1ebb h\xe0nh kh\xe1ch th\u01b0\u1eddng xuy\xean",3,"formControl"],["class","border-t border-neutral-gray-1 mt-4",4,"ngIf"],[1,"p-6","flex","justify-end","gap-x-4"],["cf-button","","type","secondary","size","medium",1,"md:w-full","justify-center",3,"click"],["cf-button","","size","medium",1,"md:w-full","justify-center",3,"click"],["cfHint","",3,"hint"],[1,"border-t","border-neutral-gray-1","mt-4"],[1,"flex","flex-col","gap-y-1.5","pt-4"],["cfLabel","",1,"text-espressive-sm","text-black",3,"CfRequired"],[1,"flex","flex-col","gap-y-4"],[1,"flex","items-center","gap-x-8",3,"formControl","checkChange"],["size","medium",3,"disabled","value"],["size","medium",3,"value"],[4,"ngIf"],["class","grid grid-cols-2 gap-4 md:grid-cols-1",4,"ngIf"],["class","text-body-sm",4,"ngIf"],["cf-input","","size","medium","autocomplete","off","CfNumberic","","placeholder","Nh\u1eadp s\u1ed1 c\u0103n c\u01b0\u1edbc c\xf4ng d\xe2n",3,"formControl"],[1,"grid","grid-cols-2","gap-4","md:grid-cols-1"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5",3,"CfRequired"],["cf-input","","size","medium","autocomplete","off","CfAlphanumeric","","CfRemoveAccents","","placeholder","Nh\u1eadp s\u1ed1 h\u1ed9 chi\u1ebfu","type","text",3,"formControl"],["textField","name","valueField","code","placeholder","Ch\u1ecdn qu\u1ed1c t\u1ecbch",1,"md:w-full","md:max-w-none","!max-w-full",3,"status","data","allowSearch","formControl"],["textField","name","valueField","code","placeholder","Ch\u1ecdn n\u01a1i c\u1ea5p",1,"md:w-full","md:max-w-none","!max-w-full",3,"data","status","allowSearch","formControl"],["autocomplete","off","cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Nh\u1eadp ng\xe0y c\u1ea5p",1,"py-[7px]",3,"secondaryCalendar","displayMonths","maxDate","formControl","input","dateSelect"],["issuanceDatepicker","cfDatepicker"],["autocomplete","off","cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Nh\u1eadp ng\xe0y h\u1ebft h\u1ea1n",1,"py-[7px]",3,"secondaryCalendar","displayMonths","minDate","formControl","input","dateSelect"],["expiryDatepicker","cfDatepicker"],[1,"text-body-sm","mt-1.5"],[1,"text-body-sm"]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Th\xeam em b\xe9"),e.qZA(),e.TgZ(4,"cf-icon",3),e.NdJ("click",function(){return i.onClose()}),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"cf-select",7)(9,"label",8)(10,"span",9),e._uU(11,"Gi\u1edbi t\xednh"),e.qZA()(),e.YNc(12,Ys,1,1,"cf-input-hint",10),e.qZA()(),e.TgZ(13,"div",6)(14,"cf-input-group",11)(15,"label",8)(16,"span",9),e._uU(17,"H\u1ecd"),e.qZA()(),e.TgZ(18,"input",12),e.NdJ("blur",function(l){return i.onBlurInput(l,i.formGroup,"lastName")}),e.qZA(),e.YNc(19,Ms,1,1,"cf-input-hint",10),e.qZA()(),e.TgZ(20,"div",6)(21,"cf-input-group",11)(22,"label",8)(23,"span",9),e._uU(24,"T\xean \u0111\u1ec7m v\xe0 T\xean"),e.qZA()(),e.TgZ(25,"input",13),e.NdJ("blur",function(l){return i.onBlurInput(l,i.formGroup,"firstName")}),e.qZA(),e.YNc(26,Os,1,1,"cf-input-hint",10),e.qZA()(),e.TgZ(27,"div",6)(28,"div")(29,"cf-input-group",11),e._UZ(30,"cf-icon",14),e.TgZ(31,"label",8)(32,"span",9),e._uU(33,"Ng\xe0y sinh"),e.qZA(),e._uU(34,"\xa0 "),e.TgZ(35,"span",15),e._uU(36," (Nh\u1ecf h\u01a1n 2 tu\u1ed5i) "),e.qZA()(),e.TgZ(37,"input",16,17),e.NdJ("input",function(){e.CHM(o);const l=e.MAs(38);return e.KtG(l.close())})("dateSelect",function(){e.CHM(o);const l=e.MAs(38);return e.KtG(l.close())}),e.qZA(),e.YNc(39,Rs,1,1,"cf-input-hint",10),e.YNc(40,js,1,1,"cf-input-hint",10),e.qZA()()(),e.TgZ(41,"div",6)(42,"cf-select",18,19)(44,"label",8)(45,"span",9),e._uU(46,"Thu\u1ed9c h\xe0nh kh\xe1ch ng\u01b0\u1eddi l\u1edbn"),e.qZA()(),e.YNc(47,Gs,1,1,"cf-input-hint",10),e.qZA()(),e.TgZ(48,"div",6)(49,"cf-input-group",11)(50,"label",8),e._uU(51," Th\u1ebb B\xf4ng Sen V\xe0ng "),e.qZA(),e._UZ(52,"input",20),e.qZA()()(),e.YNc(53,ru,16,10,"div",21),e.qZA(),e.TgZ(54,"div",22)(55,"button",23),e.NdJ("click",function(){return i.onClose()}),e._uU(56," H\u1ee7y "),e.qZA(),e.TgZ(57,"button",24),e.NdJ("click",function(){return i.onSubmit()}),e._uU(58," X\xe1c nh\u1eadn "),e.qZA()()()}2&t&&(e.xp6(8),e.Q6J("status",i.formGroup.controls.gender.invalid&&(i.formGroup.controls.gender.dirty||i.formGroup.controls.gender.touched)?"error":"default")("data",i.optionsGender)("allowSearch",!1)("formControl",i.formGroup.controls.gender),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("ngIf",i.formGroup.controls.gender.hasError("required")&&(i.formGroup.controls.gender.touched||i.formGroup.controls.gender.dirty)),e.xp6(2),e.Q6J("status",i.formGroup.controls.lastName.invalid&&(i.formGroup.controls.lastName.dirty||i.formGroup.controls.lastName.touched)?"error":"default"),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",i.formGroup.controls.lastName),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.lastName.hasError("required")&&(i.formGroup.controls.lastName.touched||i.formGroup.controls.lastName.dirty)),e.xp6(2),e.Q6J("status",i.formGroup.controls.firstName.invalid&&(i.formGroup.controls.firstName.dirty||i.formGroup.controls.firstName.touched)?"error":"default"),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",i.formGroup.controls.firstName),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.firstName.hasError("required")&&(i.formGroup.controls.firstName.touched||i.formGroup.controls.firstName.dirty)),e.xp6(3),e.Q6J("status",i.formGroup.controls.birthday.invalid&&(i.formGroup.controls.birthday.dirty||i.formGroup.controls.birthday.touched)?"error":"default"),e.xp6(3),e.Q6J("CfRequired",!0),e.xp6(5),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("maxDate",i.currentDate)("formControl",i.formGroup.controls.birthday),e.xp6(2),e.Q6J("ngIf",i.formGroup.controls.birthday.hasError("required")&&(i.formGroup.controls.birthday.touched||i.formGroup.controls.birthday.dirty)),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.birthday.hasError("DoBInfant")&&i.formGroup.controls.birthday.touched),e.xp6(2),e.Q6J("status",i.formGroup.controls.parentKey.invalid&&(i.formGroup.controls.parentKey.dirty||i.formGroup.controls.parentKey.touched)?"error":"default")("data",i.optionsAdultPassenger)("allowSearch",!1)("formControl",i.formGroup.controls.parentKey),e.xp6(3),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("ngIf",i.formGroup.controls.parentKey.hasError("required")&&(i.formGroup.controls.parentKey.touched||i.formGroup.controls.parentKey.dirty)),e.xp6(2),e.Q6J("status","default"),e.xp6(3),e.Q6J("formControl",i.formGroup.controls.membershipID),e.xp6(1),e.Q6J("ngIf",i.hasAirportInternational))},dependencies:[m.ez,m.O5,v.u5,v.Fj,v.JJ,p.AxE,p.Sm8,E.N8,E.Xq,ee.j$,ee.ND,ee.BN,ee.v2,rt.q,at.C,v.UX,v.oH,Pe.Cs,pe.o,pe.T],encapsulation:2}),n})()},6703:(Ue,oe,C)=>{C.d(oe,{Gn:()=>Yt,r_:()=>En,UD:()=>dn,Wn:()=>Ft,EH:()=>Jt,kP:()=>de,co:()=>be});var m=C(36895),e=C(94650),F=C(83700),N=C(72506),j=C(4688),f=C(48373),_=C(44890),T=C(40899);function w(u,h){1&u&&(e.TgZ(0,"div"),e._UZ(1,"ticket-item-skeleton")(2,"ticket-item-skeleton")(3,"ticket-item-skeleton")(4,"ticket-item-skeleton"),e.qZA())}function Q(u,h){1&u&&(e.TgZ(0,"cf-label",24),e.O4$(),e.TgZ(1,"svg",25),e._UZ(2,"path",26),e.qZA(),e._uU(3," Th\xe0nh c\xf4ng "),e.qZA())}function E(u,h){1&u&&(e.TgZ(0,"cf-label",27),e.O4$(),e.TgZ(1,"svg",25),e._UZ(2,"circle",28)(3,"path",29),e.qZA(),e._uU(4," Th\u1ea5t b\u1ea1i "),e.qZA())}function p(u,h){if(1&u){const s=e.EpF();e.TgZ(0,"a",30),e.NdJ("click",function(){e.CHM(s);const y=e.oxw().$implicit,k=e.oxw(2);return e.KtG(k.onReview(y))}),e._uU(1," Xem chi ti\u1ebft "),e.qZA()}}const O=function(u){return{"opacity-50":u}};function L(u,h){if(1&u&&(e.TgZ(0,"tr",18)(1,"td",19),e._uU(2),e.qZA(),e.TgZ(3,"td",19),e._uU(4),e.ALo(5,"number"),e.qZA(),e.TgZ(6,"td",19),e.YNc(7,Q,4,0,"cf-label",20),e.YNc(8,E,5,0,"cf-label",21),e.qZA(),e.TgZ(9,"td",22),e.YNc(10,p,2,0,"a",23),e.qZA()()),2&u){const s=h.$implicit,c=e.oxw(2);e.Q6J("ngClass",e.VKq(8,O,"ERROR"===s.status)),e.xp6(2),e.Oqu(s.ticketNumber),e.xp6(2),e.hij("",e.lcZ(5,6,s.totalCharge)," \u0111"),e.xp6(3),e.Q6J("ngIf","SUCCESS"===s.status),e.xp6(1),e.Q6J("ngIf","ERROR"===s.status),e.xp6(2),e.Q6J("ngIf",c.canOpenTicketNumber)}}function $(u,h){if(1&u&&(e.TgZ(0,"div",31)(1,"div",32),e._uU(2,"T\u1ed5ng chi ph\xed"),e.qZA(),e.TgZ(3,"div",33),e._uU(4),e.ALo(5,"number"),e.qZA()()),2&u){const s=e.oxw(2);e.xp6(4),e.hij(" ",e.lcZ(5,1,s.totalCharge)," \u0111")}}function H(u,h){if(1&u){const s=e.EpF();e.TgZ(0,"div",34)(1,"div",35)(2,"div",36),e._uU(3,"S\u1ed1 v\xe9"),e.qZA(),e.TgZ(4,"div",37),e._uU(5),e.qZA()(),e.TgZ(6,"div",35)(7,"div",36),e._uU(8,"Chi ph\xed"),e.qZA(),e.TgZ(9,"div",37),e._uU(10),e.ALo(11,"number"),e.qZA()(),e.TgZ(12,"div",35)(13,"div",36),e._uU(14,"Tr\u1ea1ng th\xe1i"),e.qZA(),e.TgZ(15,"div",37),e._uU(16),e.qZA()(),e.TgZ(17,"div",38),e.NdJ("click",function(){const k=e.CHM(s).$implicit,Y=e.oxw(2);return e.KtG(Y.onReview(k))}),e._uU(18," Xem chi ti\u1ebft "),e.qZA()()}if(2&u){const s=h.$implicit;e.xp6(5),e.Oqu(s.ticketNumber),e.xp6(5),e.hij("",e.lcZ(11,3,s.totalCharge)," \u0111"),e.xp6(6),e.Oqu(s.statusDisplay||"- -")}}function ce(u,h){1&u&&(e.TgZ(0,"div",39)(1,"div",40),e._uU(2,"Void s\u1ed1 v\xe9 kh\xf4ng th\xe0nh c\xf4ng."),e.qZA(),e.TgZ(3,"div",41),e._uU(4,"Vui l\xf2ng th\u1eed l\u1ea1i ho\u1eb7c li\xean h\u1ec7 booker \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3."),e.qZA()())}const ue=function(){return{num:25}},re=function(){return{num:50}},Te=function(){return{num:75}},_e=function(){return{num:100}},me=function(u,h,s,c){return[u,h,s,c]},De=function(){return[]};function qe(u,h){if(1&u&&(e.TgZ(0,"div",2)(1,"div",3),e._UZ(2,"cf-icon",4),e.TgZ(3,"div",5),e._uU(4),e.qZA()(),e.TgZ(5,"div",6),e._uU(6,"C\xe1c s\u1ed1 v\xe9 t\u01b0\u01a1ng \u1ee9ng v\u1edbi m\xe3 \u0111\u1eb7t ch\u1ed7 \u0111\u01b0\u1ee3c li\u1ec7t k\xea b\xean d\u01b0\u1edbi:"),e.qZA()(),e.TgZ(7,"div",7)(8,"cf-table",8,9)(10,"thead",10)(11,"th",11),e._uU(12,"S\u1ed1 v\xe9"),e.qZA(),e.TgZ(13,"th",11),e._uU(14,"Chi ph\xed"),e.qZA(),e.TgZ(15,"th",11),e._uU(16,"Tr\u1ea1ng th\xe1i"),e.qZA(),e._UZ(17,"th",12),e.qZA(),e.TgZ(18,"tbody"),e.YNc(19,L,11,10,"ng-template",13),e.qZA()()(),e.YNc(20,$,6,3,"div",14),e.TgZ(21,"div",15),e.YNc(22,H,19,5,"div",16),e.qZA(),e.YNc(23,ce,5,0,"div",17)),2&u){const s=e.MAs(9),c=e.oxw();e.xp6(4),e.Oqu(c.bookingCode),e.xp6(4),e.Q6J("fnSort",c.sortChange)("fnSearch",c.searchChange)("pageSizeList",e.l5B(14,me,e.DdM(10,ue),e.DdM(11,re),e.DdM(12,Te),e.DdM(13,_e)))("listData",c.listTicketNumber||e.DdM(19,De))("pageSize",c.pageSize),e.xp6(11),e.Q6J("ngForOf",s.partOfdata),e.xp6(1),e.Q6J("ngIf",c.totalCharge),e.xp6(2),e.Q6J("ngForOf",c.listTicketNumber),e.xp6(1),e.Q6J("ngIf",!c.isSuccessFull)}}let de=(()=>{class u{constructor(s,c){this._permissonService=c,this.isLoading=!1,this.isSuccessFull=!0,this.listTicketNumber=[],this.actionChange=new e.vpe,this.pageSize=25,this.canOpenTicketNumber=this._permissonService.hasPermission(T.or.CanOpenFlightTicketNumber),this.searchChange=(y,k)=>k,this.sortChange=(y,k)=>k,s.registerIcons([N.xbi])}onReview(s){this.onActionChange({action:"review",ticketNumber:s.ticketNumber,ticketType:s.ticketType})}onVoidBooking(){this.onActionChange({action:"void",ticketNumber:"",ticketType:""})}onActionChange(s){this.actionChange.emit(s)}}return u.\u0275fac=function(s){return new(s||u)(e.Y36(N.KNP),e.Y36(T.$A))},u.\u0275cmp=e.Xpm({type:u,selectors:[["ticket-number"]],inputs:{isLoading:"isLoading",totalCharge:"totalCharge",isSuccessFull:"isSuccessFull",bookingCode:"bookingCode",listTicketNumber:"listTicketNumber"},outputs:{actionChange:"actionChange"},standalone:!0,features:[e.jDz],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["contentTemplate",""],[1,"px-4","py-5","md:bg-neutral-white"],[1,"flex","items-center","gap-x-2"],["icon","coupon_slash","size","small"],[1,"text-heading-sm"],[1,"text-body-sm","pl-6"],[1,"md:hidden"],["mode","template",3,"fnSort","fnSearch","pageSizeList","listData","pageSize"],["managerTable",""],["cf-thead",""],["cf-th",""],[1,"flex","justify-end","text-right","text-espressive-semibold-sm","p-3"],["ngFor","",3,"ngForOf"],["class","p-3 border-b border-neutral-gray-1 flex justify-end items-center gap-x-4 md:hidden",4,"ngIf"],[1,"hidden","p-4","md:flex","flex-col","gap-y-4"],["class","p-3 flex flex-col gap-y-2 bg-neutral-white rounded-lg",4,"ngFor","ngForOf"],["class","bg-[#ffeceb] rounded py-3 px-4",4,"ngIf"],[1,"border-b","border-neutral-gray-1",3,"ngClass"],["cf-td","",1,"text-left","py-2","px-3","text-body-sm"],["color","green","type","inverted",4,"ngIf"],["color","red","type","inverted",4,"ngIf"],["cf-td","",1,"text-right","py-2","px-3"],["class","text-espressive-sm text-secondary-3-4 cursor-pointer",3,"click",4,"ngIf"],["color","green","type","inverted"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg",1,"mr-1"],["d","M7.9987 1.33337C6.68016 1.33337 5.39123 1.72437 4.2949 2.45691C3.19857 3.18945 2.34409 4.23064 1.8395 5.44882C1.33492 6.66699 1.2029 8.00744 1.46013 9.30064C1.71737 10.5939 2.35231 11.7817 3.28466 12.7141C4.21701 13.6464 5.40489 14.2814 6.6981 14.5386C7.99131 14.7958 9.33175 14.6638 10.5499 14.1592C11.7681 13.6547 12.8093 12.8002 13.5418 11.7038C14.2744 10.6075 14.6654 9.31858 14.6654 8.00004C14.6602 6.23351 13.9562 4.54079 12.7071 3.29166C11.4579 2.04253 9.76523 1.3385 7.9987 1.33337ZM6.88759 11.0078L4.27259 8.39282C4.05566 8.17589 4.05566 7.82419 4.27259 7.60726C4.48952 7.39034 4.84122 7.39034 5.05815 7.60726L6.88759 9.43671L10.9393 5.38504C11.1562 5.16812 11.5079 5.16812 11.7248 5.38504C11.9417 5.60197 11.9417 5.95367 11.7248 6.1706L6.88759 11.0078Z","fill","#07A35D"],["color","red","type","inverted"],["cx","8","cy","8","r","7","fill","#E03C31"],["fill-rule","evenodd","clip-rule","evenodd","d","M10.4612 6.45972C10.715 6.20588 10.715 5.79432 10.4612 5.54048C10.2073 5.28664 9.79578 5.28664 9.54194 5.54048L8.00156 7.08086L6.46118 5.54048C6.20734 5.28664 5.79578 5.28664 5.54194 5.54048C5.2881 5.79432 5.2881 6.20588 5.54194 6.45972L7.08232 8.0001L5.54194 9.54048C5.2881 9.79432 5.2881 10.2059 5.54194 10.4597C5.79578 10.7136 6.20734 10.7136 6.46118 10.4597L8.00156 8.91934L9.54194 10.4597C9.79578 10.7136 10.2073 10.7136 10.4612 10.4597C10.715 10.2059 10.715 9.79432 10.4612 9.54048L8.9208 8.0001L10.4612 6.45972Z","fill","white"],[1,"text-espressive-sm","text-secondary-3-4","cursor-pointer",3,"click"],[1,"p-3","border-b","border-neutral-gray-1","flex","justify-end","items-center","gap-x-4","md:hidden"],[1,"text-espressive-sm","text-neutral-gray-4"],[1,"text-heading-md","ng-star-inserted"],[1,"p-3","flex","flex-col","gap-y-2","bg-neutral-white","rounded-lg"],[1,"flex","items-center","justify-between"],[1,"text-body-sm","text-neutral-gray-4"],[1,"text-espressive-md-long","text-neutral-gray-6"],[1,"w-full","flex","justify-center","items-center","px-[15px]","py-[9px]","cursor-pointer","bg-secondary-3-1","rounded","text-heading-xs","text-secondary-3-4","mt-4",3,"click"],[1,"bg-[#ffeceb]","rounded","py-3","px-4"],[1,"text-espressive-md"],[1,"text-body-md"]],template:function(s,c){if(1&s&&(e.YNc(0,w,5,0,"div",0),e.YNc(1,qe,24,20,"ng-template",null,1,e.W1O)),2&s){const y=e.MAs(2);e.Q6J("ngIf",c.isLoading)("ngIfElse",y)}},dependencies:[m.ez,m.mk,m.sg,m.O5,m.JJ,f.rC,f.E_,f.zs,f.qS,F.N8,_.IA,N.AxE,N.Sm8,j.b],encapsulation:2}),u})();var X=C(10908),M=C(88001),R=C(97579);function Ce(u,h){if(1&u){const s=e.EpF();e.TgZ(0,"div",10)(1,"button",11),e.NdJ("click",function(){e.CHM(s);const y=e.oxw();return e.KtG(y.onOpenBookingCode())}),e._uU(2," M\u1edf booking "),e.qZA()()}}let be=(()=>{class u{constructor(s,c,y,k){this.ref=c,this.bottomSheetData=y,this.bottomSheetRef=k,this.isAction=!1,this.airline=M.QK.VN,s.registerIcons([N.UNF]),c&&(this.ticketDetail=c.data.ticketDetail,this.isAction=c.data.isAction,this.airline=c.data.airline||M.QK.VN,this.bookingCode=c.data.bookingCode),y&&(this.ticketDetail=y.ticketDetail,this.isAction=y.isAction,this.airline=y.airline||M.QK.VN,this.bookingCode=y.bookingCode)}onOpenBookingCode(){window.open(this._getCurrentUrl())}close(){this.ref&&this.ref.close(!1),this.bottomSheetRef&&this.bottomSheetRef.dismiss(!1)}_getCurrentUrl(){return`${window.location.origin}/admin/booking-detail/${this.airline}/${this.bookingCode}`}}return u.\u0275fac=function(s){return new(s||u)(e.Y36(N.KNP),e.Y36(R.gb,8),e.Y36(X.Rr,8),e.Y36(X.Zu,8))},u.\u0275cmp=e.Xpm({type:u,selectors:[["ticket-number-detail"]],hostAttrs:[1,"h-full"],standalone:!0,features:[e.jDz],decls:13,vars:2,consts:[[1,"w-[650px]","h-full","overflow-hidden","md:w-full","md:h-full"],[1,"w-full","max-h-[90vh]","h-full","flex","flex-col","rounded-lg","bg-neutral-white"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-b-neutral-gray-1","md:hidden"],[1,"text-heading-sm","text-neutral-gray-6"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"flex-auto","w-full","h-full","overflow-auto","py-4","px-6"],["class","flex justify-end mb-4",4,"ngIf"],[1,"p-4","bg-neutral-gray-1","rounded-lg","text-body-md","whitespace-pre-wrap",3,"innerHTML"],[1,"p-6","flex","gap-x-4","md:hidden"],["cf-button","","size","medium","type","secondary",1,"w-full","justify-center",3,"click"],[1,"flex","justify-end","mb-4"],["cf-button","","size","medium","type","secondary",3,"click"]],template:function(s,c){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4,"Th\xf4ng tin s\u1ed1 v\xe9"),e.qZA(),e.TgZ(5,"div")(6,"cf-icon",4),e.NdJ("click",function(){return c.close()}),e.qZA()()(),e.TgZ(7,"div",5),e.YNc(8,Ce,3,0,"div",6),e._UZ(9,"div",7),e.qZA(),e.TgZ(10,"div",8)(11,"button",9),e.NdJ("click",function(){return c.close()}),e._uU(12," \u0110\xf3ng "),e.qZA()()()()),2&s&&(e.xp6(8),e.Q6J("ngIf",c.isAction),e.xp6(1),e.Q6J("innerHTML",c.ticketDetail.ticketImage,e.oJD))},dependencies:[m.ez,m.O5,F.N8,F.Xq,N.AxE,N.Sm8,X.DW],encapsulation:2}),u})();var Ae=C(74713),J=C(24006),ie=C(44143),K=C(24513),he=C(74891),we=C(98184);function ke(u,h){1&u&&(e.TgZ(0,"div",2),e._UZ(1,"ticket-item-skeleton")(2,"ticket-item-skeleton")(3,"ticket-item-skeleton")(4,"ticket-item-skeleton"),e.qZA())}function Be(u,h){1&u&&e._UZ(0,"cf-icon",82)}function xe(u,h){1&u&&e._UZ(0,"cf-icon",83)}function Me(u,h){if(1&u&&(e.TgZ(0,"div",84),e._UZ(1,"span"),e.TgZ(2,"span",85),e._uU(3),e.ALo(4,"date"),e.qZA()()),2&u){const s=h.$implicit;e.xp6(3),e.lnq("",s.startPoint," - ",s.endPoint," (",e.xi3(4,3,s.startTime,"HH:mm - dd/MM/yyyy"),")")}}function Ie(u,h){if(1&u){const s=e.EpF();e.TgZ(0,"div",86),e.NdJ("click",function(){e.CHM(s);const y=e.oxw(2);return e.KtG(y.gotoBookingDetail())}),e._uU(1," M\u1edf booking "),e.qZA()}}function P(u,h){1&u&&e._UZ(0,"cf-input-hint",91)}function Oe(u,h){if(1&u){const s=e.EpF();e.TgZ(0,"div",87)(1,"div",30),e._UZ(2,"cf-icon",31),e._uU(3," Th\xf4ng tin \u0111\u1ea1i l\xfd "),e.qZA(),e.TgZ(4,"div",88)(5,"cf-select",89),e.NdJ("selectedChange",function(y){e.CHM(s);const k=e.oxw(2);return e.KtG(k.onSelectedChange(y))}),e.YNc(6,P,1,0,"cf-input-hint",90),e.qZA()()()}if(2&u){const s=e.oxw(2);e.xp6(5),e.Q6J("status","default")("data",s.optionAgent)("allowSearch",!0)("formControl",s.agentSelectControl)("status",s.agentSelectControl.invalid&&(s.agentSelectControl.touched||s.agentSelectControl.dirty||s.isSubmitted)?"error":"default"),e.xp6(1),e.Q6J("ngIf",s.agentSelectControl.invalid&&(s.agentSelectControl.touched||s.agentSelectControl.dirty||s.isSubmitted))}}function W(u,h){1&u&&(e.TgZ(0,"th",37),e._uU(1,"Chi\u1ebft kh\u1ea5u"),e.qZA())}function ae(u,h){if(1&u&&(e.TgZ(0,"td",97),e._uU(1),e.ALo(2,"number"),e.qZA()),2&u){const s=e.oxw().$implicit;e.xp6(1),e.hij(" (",e.lcZ(2,1,s.discountAmount),")")}}function Re(u,h){if(1&u&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&u){const s=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,s.totalDiscountFarePrice)," ")}}function je(u,h){if(1&u&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&u){const s=e.oxw().$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,s.total))}}function ut(u,h){if(1&u&&(e.TgZ(0,"tr")(1,"td",92),e._uU(2),e.qZA(),e.TgZ(3,"td",93),e._uU(4),e.qZA(),e.TgZ(5,"td",94),e._uU(6),e.ALo(7,"number"),e.qZA(),e.TgZ(8,"td",94),e._uU(9),e.ALo(10,"number"),e.qZA(),e.YNc(11,ae,3,3,"td",95),e.TgZ(12,"td",96),e.YNc(13,Re,3,3,"span",48),e.YNc(14,je,3,3,"ng-template",null,49,e.W1O),e.qZA()()),2&u){const s=h.$implicit,c=e.MAs(15),y=e.oxw(2);e.xp6(2),e.Oqu(s.name),e.xp6(2),e.Oqu(s.type),e.xp6(2),e.Oqu(e.lcZ(7,7,s.base)),e.xp6(3),e.Oqu(e.lcZ(10,9,s.tax)),e.xp6(2),e.Q6J("ngIf",y.hasDiscountFare),e.xp6(2),e.Q6J("ngIf",s.discountAmount&&y.hasDiscountFare)("ngIfElse",c)}}function lt(u,h){if(1&u&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&u){const s=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,1,s.priceDetail.totalDiscountBasePrice)," \u0111")}}function ct(u,h){if(1&u&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&u){const s=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,1,s.priceDetail.totalBasePrice)," \u0111")}}function dt(u,h){if(1&u&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&u){const s=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,1,s.priceDetail.totalDiscountFareCharge)," \u0111 ")}}function pt(u,h){if(1&u&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&u){const s=e.oxw(2);e.xp6(1),e.hij("",e.lcZ(2,1,s.priceDetail.totalPrice)," \u0111")}}function _t(u,h){if(1&u){const s=e.EpF();e.TgZ(0,"button",98),e.NdJ("click",function(y){e.CHM(s);const k=e.oxw(2);return e.KtG(k.onIssue(y))}),e._uU(1," Xu\u1ea5t v\xe9 "),e.qZA()}if(2&u){const s=e.oxw(2);e.Q6J("disabled",s.isLoading)}}function gt(u,h){1&u&&(e.TgZ(0,"div"),e._uU(1,"H\u1ec7 th\u1ed1ng ch\u01b0a h\u1ed7 tr\u1ee3 xu\u1ea5t v\xe9 t\u1ef1 \u0111\u1ed9ng cho m\xe3 \u0111\u1eb7t ch\u1ed7 n\xe0y."),e.qZA(),e.TgZ(2,"div"),e._uU(3,"Vui l\xf2ng li\xean h\u1ec7 Booker \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3."),e.qZA())}function ft(u,h){if(1&u&&(e.TgZ(0,"button",99,100),e._uU(3," Xu\u1ea5t v\xe9 "),e.YNc(4,gt,4,0,"ng-template",null,101,e.W1O),e.qZA()),2&u){const s=e.MAs(5);e.Q6J("disabled",!0)("disabledOneClick",!0)("disabledOneClick",!0)("manualHandle",!1)("placement","topCenter")("cfTooltip",s)}}function mt(u,h){1&u&&(e.ynx(0),e.O4$(),e.TgZ(1,"svg",102),e._UZ(2,"path",103),e.qZA(),e.kcU(),e.TgZ(3,"div",104),e._uU(4,"\u0110\xe3 gi\u1eef ch\u1ed7"),e.qZA(),e.BQk())}function ht(u,h){1&u&&(e.ynx(0),e.O4$(),e.TgZ(1,"svg",105),e._UZ(2,"path",103),e.qZA(),e.kcU(),e.TgZ(3,"div",104),e._uU(4,"\u0110\xe3 xu\u1ea5t v\xe9"),e.qZA(),e.BQk())}function xt(u,h){1&u&&e._UZ(0,"cf-icon",82)}function vt(u,h){1&u&&e._UZ(0,"cf-icon",83)}function Ct(u,h){if(1&u&&(e.TgZ(0,"div",106)(1,"div",107)(2,"div",64),e._uU(3),e.qZA(),e.TgZ(4,"div",58),e._uU(5),e.ALo(6,"date"),e.qZA()(),e._UZ(7,"cf-icon",83),e.TgZ(8,"div",107)(9,"div",64),e._uU(10),e.qZA(),e.TgZ(11,"div",58),e._uU(12),e.ALo(13,"date"),e.qZA()()()),2&u){const s=e.oxw(2);e.xp6(3),e.AsE(" ",s.bookingDetail.journeys[0].startPoint,"-",s.bookingDetail.journeys[0].endPoint,""),e.xp6(2),e.hij(" ",e.xi3(6,6,s.bookingDetail.journeys[0].startTime,"HH:mm - dd/MM/yyyy"),""),e.xp6(5),e.AsE(" ",s.bookingDetail.journeys[1].startPoint,"-",s.bookingDetail.journeys[1].endPoint,""),e.xp6(2),e.hij(" ",e.xi3(13,9,s.bookingDetail.journeys[1].startTime,"HH:mm - dd/MM/yyyy"),"")}}function bt(u,h){1&u&&(e.TgZ(0,"div",71),e._uU(1," Th\xf4ng tin li\xean h\u1ec7 "),e.qZA())}function yt(u,h){1&u&&e._UZ(0,"cf-input-hint",91)}function Et(u,h){if(1&u){const s=e.EpF();e.TgZ(0,"div",108)(1,"cf-select",89),e.NdJ("selectedChange",function(y){e.CHM(s);const k=e.oxw(2);return e.KtG(k.onSelectedChange(y))}),e.YNc(2,yt,1,0,"cf-input-hint",90),e.qZA()()}if(2&u){const s=e.oxw(2);e.xp6(1),e.Q6J("status","default")("data",s.optionAgent)("allowSearch",!1)("formControl",s.agentSelectControl)("status",s.agentSelectControl.invalid&&(s.agentSelectControl.touched||s.agentSelectControl.dirty||s.isSubmitted)?"error":"default"),e.xp6(1),e.Q6J("ngIf",s.agentSelectControl.invalid&&(s.agentSelectControl.touched||s.agentSelectControl.dirty||s.isSubmitted))}}function Zt(u,h){if(1&u&&(e.TgZ(0,"div",110)(1,"div",111),e._uU(2,"Chi\u1ebft kh\u1ea5u"),e.qZA(),e.TgZ(3,"div",113),e._uU(4),e.ALo(5,"number"),e.qZA()()),2&u){const s=e.oxw().$implicit;e.xp6(4),e.hij("(",e.lcZ(5,1,s.discountAmount),")")}}function Tt(u,h){if(1&u&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&u){const s=e.oxw(3);e.xp6(1),e.hij(" ",e.lcZ(2,1,s.priceDetail.totalDiscountFareCharge)," \u0111 ")}}function Dt(u,h){if(1&u&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&u){const s=e.oxw(3);e.xp6(1),e.hij("",e.lcZ(2,1,s.priceDetail.totalPrice)," \u0111")}}function At(u,h){if(1&u&&(e.TgZ(0,"div",109)(1,"div",110)(2,"div",111),e._uU(3,"H\xe0nh kh\xe1ch"),e.qZA(),e.TgZ(4,"div",104),e._uU(5),e.qZA()(),e.TgZ(6,"div",110)(7,"div",111),e._uU(8,"Lo\u1ea1i"),e.qZA(),e.TgZ(9,"div",104),e._uU(10),e.qZA()(),e.TgZ(11,"div",110)(12,"div",111),e._uU(13,"Gi\xe1 v\xe9"),e.qZA(),e.TgZ(14,"div",104),e._uU(15),e.ALo(16,"number"),e.qZA()(),e.TgZ(17,"div",110)(18,"div",111),e._uU(19,"Thu\u1ebf ph\xed"),e.qZA(),e.TgZ(20,"div",104),e._uU(21),e.ALo(22,"number"),e.qZA()(),e.YNc(23,Zt,6,3,"div",112),e.TgZ(24,"div",110)(25,"div",111),e._uU(26,"T\u1ed5ng chi ph\xed"),e.qZA(),e.TgZ(27,"div",104),e.YNc(28,Tt,3,3,"span",48),e.YNc(29,Dt,3,3,"ng-template",null,49,e.W1O),e.qZA()()()),2&u){const s=h.$implicit,c=e.MAs(30),y=e.oxw(2);e.xp6(5),e.Oqu(s.name),e.xp6(5),e.Oqu(s.type),e.xp6(5),e.Oqu(e.lcZ(16,7,s.base)),e.xp6(6),e.Oqu(e.lcZ(22,9,s.tax)),e.xp6(2),e.Q6J("ngIf",y.hasDiscountFare),e.xp6(5),e.Q6J("ngIf",y.priceDetail.totalDiscountFareCharge&&y.hasDiscountFare)("ngIfElse",c)}}function kt(u,h){if(1&u&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&u){const s=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,1,s.priceDetail.totalDiscountFareCharge)," \u0111 ")}}function It(u,h){if(1&u&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&u){const s=e.oxw(2);e.xp6(1),e.hij("",e.lcZ(2,1,s.priceDetail.totalPrice)," \u0111")}}function Nt(u,h){if(1&u){const s=e.EpF();e.TgZ(0,"button",114),e.NdJ("click",function(y){e.CHM(s);const k=e.oxw(2);return e.KtG(k.onIssue(y))}),e._uU(1,"Xu\u1ea5t v\xe9"),e.qZA()}}function Ut(u,h){1&u&&(e.TgZ(0,"button",115,100),e._uU(3,"Xu\u1ea5t v\xe9"),e.qZA()),2&u&&e.Q6J("disabled",!0)("disabledOneClick",!0)("disabledOneClick",!0)("manualHandle",!1)("placement","topCenter")("cfTooltip","H\u1ec7 th\u1ed1ng ch\u01b0a h\u1ed7 tr\u1ee3 xu\u1ea5t v\xe9 t\u1ef1 \u0111\u1ed9ng cho m\xe3 \u0111\u1eb7t ch\u1ed7 n\xe0y. Vui l\xf2ng li\xean h\u1ec7 Booker \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3")}function qt(u,h){if(1&u&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&u){const s=e.oxw(3);e.xp6(1),e.hij(" ",e.lcZ(2,1,s.priceDetail.totalDiscountBasePrice)," \u0111")}}function wt(u,h){if(1&u&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&u){const s=e.oxw(3);e.xp6(1),e.hij(" ",e.lcZ(2,1,s.priceDetail.totalBasePrice)," \u0111")}}function Bt(u,h){if(1&u&&(e.TgZ(0,"div",116)(1,"div",117)(2,"div",118),e._uU(3,"T\u1ed5ng gi\xe1 g\u1ed1c"),e.qZA(),e.TgZ(4,"div",119),e.YNc(5,qt,3,3,"span",46),e.YNc(6,wt,3,3,"span",46),e.qZA()(),e.TgZ(7,"div",117)(8,"div",118),e._uU(9,"D\u1ecbch v\u1ee5 c\u1ed9ng th\xeam"),e.qZA(),e.TgZ(10,"div",119),e._uU(11),e.ALo(12,"number"),e.qZA()(),e.TgZ(13,"div",117)(14,"div",118),e._uU(15,"Ph\xed d\u1ecbch v\u1ee5"),e.qZA(),e.TgZ(16,"div",119),e._uU(17),e.ALo(18,"number"),e.qZA()()()),2&u){const s=e.oxw(2);e.xp6(5),e.Q6J("ngIf",s.priceDetail.totalDiscountBasePrice),e.xp6(1),e.Q6J("ngIf",!s.priceDetail.totalDiscountBasePrice),e.xp6(5),e.hij("",e.lcZ(12,4,s.priceDetail.totalAddonService),"\u0111"),e.xp6(6),e.hij("",e.lcZ(18,6,s.priceDetail.totalServiceFee),"\u0111")}}function Pt(u,h){if(1&u){const s=e.EpF();e.TgZ(0,"div",3),e._UZ(1,"div",4),e.TgZ(2,"div",5),e._uU(3,"Chi ti\u1ebft \u0111\u1eb7t ch\u1ed7"),e.qZA()(),e.TgZ(4,"div",6)(5,"div",7)(6,"div",8)(7,"div"),e._UZ(8,"img",9),e.qZA(),e.TgZ(9,"div",10)(10,"span",11),e._uU(11),e.qZA(),e.TgZ(12,"span",12),e._uU(13),e.qZA()(),e.TgZ(14,"div",13),e._uU(15),e.qZA()(),e._UZ(16,"div",14),e.TgZ(17,"div",15)(18,"div",16)(19,"span"),e._uU(20),e.qZA(),e.YNc(21,Be,1,0,"cf-icon",17),e.YNc(22,xe,1,0,"cf-icon",18),e.TgZ(23,"span"),e._uU(24),e.qZA()(),e.YNc(25,Me,5,6,"div",19),e.qZA(),e._UZ(26,"div",14),e.TgZ(27,"div",20)(28,"div",21),e._uU(29,"M\xe3 \u0111\u1eb7t ch\u1ed7"),e.qZA(),e.TgZ(30,"div",22),e._uU(31),e.qZA()(),e._UZ(32,"div",14),e.TgZ(33,"div",20)(34,"div",21),e._uU(35,"Tr\u1ea1ng th\xe1i"),e.qZA(),e.TgZ(36,"div",23),e._UZ(37,"cf-icon",24),e.TgZ(38,"div",25)(39,"label",26),e._uU(40),e.qZA()()()()(),e.YNc(41,Ie,2,0,"div",27),e.qZA(),e.YNc(42,Oe,7,6,"div",28),e.TgZ(43,"div",29)(44,"div",30),e._UZ(45,"cf-icon",31),e._uU(46," Chi ti\u1ebft chi ph\xed "),e.qZA(),e.TgZ(47,"div",32)(48,"div")(49,"table",33)(50,"thead")(51,"tr",34)(52,"th",35),e._uU(53,"H\xe0nh kh\xe1ch"),e.qZA(),e.TgZ(54,"th",36),e._uU(55,"Lo\u1ea1i kh\xe1ch"),e.qZA(),e.TgZ(56,"th",37),e._uU(57,"Gi\xe1 v\xe9"),e.qZA(),e.TgZ(58,"th",37),e._uU(59,"Thu\u1ebf ph\xed"),e.qZA(),e.YNc(60,W,2,0,"th",38),e.TgZ(61,"th",39),e._uU(62,"T\u1ed5ng gi\xe1"),e.qZA()()(),e.TgZ(63,"tbody"),e.YNc(64,ut,16,11,"tr",40),e.qZA()(),e._UZ(65,"hr",41),e.qZA(),e.TgZ(66,"div",42)(67,"div",43)(68,"div",44),e._uU(69,"T\u1ed5ng gi\xe1 g\u1ed1c"),e.qZA(),e.TgZ(70,"div",45),e.YNc(71,lt,3,3,"span",46),e.YNc(72,ct,3,3,"span",46),e.qZA()(),e.TgZ(73,"div",43)(74,"div",44),e._uU(75,"D\u1ecbch v\u1ee5 c\u1ed9ng th\xeam"),e.qZA(),e.TgZ(76,"div",45),e._uU(77),e.ALo(78,"number"),e.qZA()(),e.TgZ(79,"div",43)(80,"div",44),e._uU(81,"Ph\xed d\u1ecbch v\u1ee5"),e.qZA(),e.TgZ(82,"div",45),e._uU(83),e.ALo(84,"number"),e.qZA()(),e.TgZ(85,"div",43)(86,"div",44),e._uU(87,"T\u1ed5ng chi ph\xed"),e.qZA(),e.TgZ(88,"div",47),e.YNc(89,dt,3,3,"span",48),e.YNc(90,pt,3,3,"ng-template",null,49,e.W1O),e.qZA()()()(),e.TgZ(92,"div",50),e.YNc(93,_t,2,1,"button",51),e.YNc(94,ft,6,6,"button",52),e.qZA()(),e.TgZ(95,"div",53)(96,"div",54),e._uU(97," Chi ti\u1ebft \u0111\u1eb7t ch\u1ed7 "),e.qZA(),e.TgZ(98,"div",55)(99,"div",56)(100,"div",57)(101,"div",58),e._uU(102,"M\xe3 \u0111\u1eb7t ch\u1ed7"),e.qZA(),e.TgZ(103,"div",59)(104,"div",60),e._uU(105),e.qZA(),e._UZ(106,"cf-icon",61),e.qZA()(),e.TgZ(107,"div",59),e.YNc(108,mt,5,0,"ng-container",46),e.YNc(109,ht,5,0,"ng-container",46),e.qZA()(),e.TgZ(110,"div",62)(111,"div",59),e._UZ(112,"img",63),e.TgZ(113,"div",57)(114,"div",64),e._uU(115),e.qZA(),e.TgZ(116,"div",58),e._uU(117),e.qZA()()(),e.TgZ(118,"div",65)(119,"div",66),e._uU(120),e.qZA(),e.YNc(121,xt,1,0,"cf-icon",17),e.YNc(122,vt,1,0,"cf-icon",18),e.TgZ(123,"div",66),e._uU(124),e.qZA()()(),e.YNc(125,Ct,14,12,"div",67),e.TgZ(126,"div",68),e.NdJ("click",function(){e.CHM(s);const y=e.oxw();return e.KtG(y.gotoBookingDetail())}),e._uU(127,"M\u1edf booking"),e.qZA()(),e.YNc(128,bt,2,0,"div",69),e.YNc(129,Et,3,6,"div",70),e.TgZ(130,"div",71),e._uU(131," Chi ti\u1ebft chi ph\xed "),e.qZA(),e.YNc(132,At,31,11,"div",72),e.TgZ(133,"div",73),e.NdJ("click",function(){e.CHM(s);const y=e.MAs(147),k=e.oxw();return e.KtG(k.toggle(y))}),e.TgZ(134,"div",74)(135,"div",75)(136,"div",76),e._uU(137,"T\u1ed5ng chi ph\xed:"),e.qZA(),e.TgZ(138,"div",77),e.YNc(139,kt,3,3,"span",48),e.YNc(140,It,3,3,"ng-template",null,49,e.W1O),e.qZA(),e._UZ(142,"cf-icon",78),e.qZA()(),e.TgZ(143,"div"),e.YNc(144,Nt,2,0,"button",79),e.YNc(145,Ut,4,6,"button",80),e.qZA()(),e.YNc(146,Bt,19,8,"ng-template",null,81,e.W1O),e.qZA()}if(2&u){const s=e.MAs(91),c=e.oxw();e.xp6(8),e.Q6J("src","assets/airline-logo/"+c.bookingDetail.airlineSystem+".png",e.LSH),e.xp6(3),e.hij("",c.bookingDetail.airlineSystem," -\xa0"),e.xp6(2),e.Oqu(c.bookingDetail.airlineName),e.xp6(2),e.hij(" H\u1ec7 th\u1ed1ng: ",c.bookingDetail.airlineSystem," "),e.xp6(5),e.Oqu(c.bookingDetail.startPoint),e.xp6(1),e.Q6J("ngIf",1===c.bookingDetail.journeys.length),e.xp6(1),e.Q6J("ngIf",c.bookingDetail.journeys.length>1),e.xp6(2),e.Oqu(c.bookingDetail.endPoint),e.xp6(1),e.Q6J("ngForOf",c.bookingDetail.journeys),e.xp6(6),e.Oqu(c.bookingDetail.bookingCode),e.xp6(9),e.Oqu(c.bookingDetail.statusText),e.xp6(1),e.Q6J("ngIf",c.bookingDetail.internal),e.xp6(1),e.Q6J("ngIf",!c.bookingDetail.internal),e.xp6(18),e.Q6J("ngIf",c.hasDiscountFare),e.xp6(4),e.Q6J("ngForOf",null==c.priceDetail?null:c.priceDetail.passengers),e.xp6(7),e.Q6J("ngIf",c.priceDetail.totalDiscountBasePrice),e.xp6(1),e.Q6J("ngIf",!c.priceDetail.totalDiscountBasePrice),e.xp6(5),e.hij("",e.lcZ(78,44,c.priceDetail.totalAddonService)," \u0111 "),e.xp6(6),e.hij("",e.lcZ(84,46,c.priceDetail.totalServiceFee)," \u0111 "),e.xp6(6),e.Q6J("ngIf",c.priceDetail.totalDiscountFareCharge&&c.hasDiscountFare)("ngIfElse",s),e.xp6(4),e.Q6J("ngIf",!c.isDisableIssue),e.xp6(1),e.Q6J("ngIf",c.isDisableIssue),e.xp6(11),e.Oqu(c.bookingDetail.bookingCode),e.xp6(3),e.Q6J("ngIf","BOOKED"===c.bookingDetail.status),e.xp6(1),e.Q6J("ngIf","ISSUED"===c.bookingDetail.status),e.xp6(3),e.Q6J("src","assets/airline-logo/"+c.bookingDetail.airlineSystem+".png",e.LSH),e.xp6(3),e.Oqu(c.bookingDetail.flightNumber),e.xp6(2),e.Oqu(c.bookingDetail.airlineName),e.xp6(3),e.Oqu(c.bookingDetail.startPoint),e.xp6(1),e.Q6J("ngIf",1===c.bookingDetail.journeys.length),e.xp6(1),e.Q6J("ngIf",c.bookingDetail.journeys.length>1),e.xp6(2),e.Oqu(c.bookingDetail.endPoint),e.xp6(1),e.Q6J("ngIf",2===c.bookingDetail.journeys.length),e.xp6(3),e.Q6J("ngIf",!c.bookingDetail.internal),e.xp6(1),e.Q6J("ngIf",!c.bookingDetail.internal),e.xp6(3),e.Q6J("ngForOf",null==c.priceDetail?null:c.priceDetail.passengers),e.xp6(1),e.ekj("!z-1000",c.increaseZIndex),e.xp6(6),e.Q6J("ngIf",c.priceDetail.totalDiscountFareCharge&&c.hasDiscountFare)("ngIfElse",s),e.xp6(3),e.Q6J("icon",c.iconChevron),e.xp6(2),e.Q6J("ngIf",!c.isDisableIssue),e.xp6(1),e.Q6J("ngIf",c.isDisableIssue)}}let Ft=(()=>{class u{constructor(s,c,y,k){this._fb=c,this._bottomSheetService=y,this._permissionService=k,this.isLoading=!1,this.optionAgent=[],this.hasDiscountFare=!1,this.issueBooking=new e.vpe,this.gotoBooking=new e.vpe,this.selectedAgent=new e.vpe,this.isSubmitted=!1,this.increaseZIndex=!1,this.iconChevron="chevron_up",this.isBottomSheetOpen=!1,this.isDisableIssue=!1,s.registerIcons([N.llu,N.B2I,N.Ffn,N._tC,N.Ey$,N.fqi,N.n78]),this.agentSelectControl=this._fb.control("")}ngOnChanges(s){var c;this.agentSelectControl=null!==(c=this.bookingDetail)&&void 0!==c&&c.internal?this._fb.control(""):this._fb.control("",J.kI.required),this.bookingDetail.provider===M.QK.BSP&&(!this.bookingDetail.ticketingAllowed||!this._permissionService.hasPermission(T.or.CanIssuedFlightTicketBSP))&&(this.isDisableIssue=!0),this.bookingDetail.provider===M.QK.AIR_1G&&(!this.bookingDetail.ticketingAllowed||!this._permissionService.hasPermission(T.or.CanIssuedFlightTicket1G))&&(this.isDisableIssue=!0),this.bookingDetail.provider===M.QK.BZT&&!this._permissionService.hasPermission(T.or.CanIssuedFlightTicketBZT)&&(this.isDisableIssue=!0),this.bookingDetail.provider===M.QK.ST&&(this.isDisableIssue=!0)}onIssue(s){s.stopPropagation(),this.isSubmitted=!0,this.agentSelectControl.valid&&this.issueBooking.emit()}gotoBookingDetail(){this.gotoBooking.emit()}onSelectedChange(s){this.selectedAgent.emit(s)}toggle(s){this.isBottomSheetOpen?this.closeBotomSheet():this.openBottomSheet(s)}openBottomSheet(s){this.bottomSheetRef=this._bottomSheetService.open(s,{headerTitle:"Gi\xe1 v\xe9",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4"}),this.increaseZIndex=!0,this.iconChevron="chevron_down",this.isBottomSheetOpen=!0,this.bottomSheetRef.backdropClick().subscribe(()=>{this._bottomSheetService.dismiss(),this.increaseZIndex=!1,this.iconChevron="chevron_up",this.isBottomSheetOpen=!1}),this.bottomSheetRef.containerInstance._rightButtonClick.subscribe(()=>{this._bottomSheetService.dismiss(),this.increaseZIndex=!1,this.iconChevron="chevron_up",this.isBottomSheetOpen=!1})}closeBotomSheet(){this._bottomSheetService.dismiss(),this.increaseZIndex=!1,this.iconChevron="chevron_up",this.isBottomSheetOpen=!1}}return u.\u0275fac=function(s){return new(s||u)(e.Y36(N.KNP),e.Y36(J.qu),e.Y36(X.a2),e.Y36(T.$A))},u.\u0275cmp=e.Xpm({type:u,selectors:[["issue-booking-detail"]],inputs:{bookingDetail:"bookingDetail",priceDetail:"priceDetail",isLoading:"isLoading",optionAgent:"optionAgent",hasDiscountFare:"hasDiscountFare"},outputs:{issueBooking:"issueBooking",gotoBooking:"gotoBooking",selectedAgent:"selectedAgent"},standalone:!0,features:[e.TTD,e.jDz],decls:3,vars:2,consts:[["class","min-w-[750px] w-full h-full",4,"ngIf","ngIfElse"],["contentTemplate",""],[1,"min-w-[750px]","w-full","h-full"],[1,"flex","gap-x-[20px]","mb-4","md:hidden"],[1,"w-1","bg-primary-2-4"],[1,"text-heading-md","text-neutral-black"],[1,"bg-white","py-4","px-6","mb-2","shadow-cf-md","md:hidden"],[1,"flex","justify-between","items-center","gap-x-7","mb-4"],[1,"h-full","w-full","flex","flex-col","gap-y-1.5","justify-center","items-center"],[1,"w-[120px]","h-[60px]","object-contain",3,"src"],[1,"text-body-sm","flex","flex-nowrap"],[1,"text-espressive-sm","whitespace-nowrap"],[1,"whitespace-nowrap"],[1,"h-5","flex","items-center","px-2","bg-neutral-gray-1","rounded","text-espressive-sm","text-neutral-black"],[1,"w-[2px]","h-[108px]","border-l","border-dashed","border-neutral-gray-1"],[1,"h-full","w-[206px]","shrink-0","flex","flex-col","items-start","justify-center"],[1,"text-heading-sm","py-1","px-3","bg-neutral-gray-1","rounded","flex","gap-x-2","items-center","w-fit"],["icon","arrow_right","size","small",4,"ngIf"],["icon","switch","size","small",4,"ngIf"],["class","mt-3",4,"ngFor","ngForOf"],[1,"h-full","w-full","flex","flex-col","items-start","py-3","gap-[20px]"],[1,"text-body-md","text-neutral-black"],[1,"text-heading-lg"],[1,"text-espressive-md","text-neutral-black","flex","gap-2.5","items-center"],["icon","checkbox_checked","size","medium",1,"text-secondary-5-4"],[1,"flex","flex-col","items-center"],[1,"text-espressive-md","text-neutral-black","whitespace-nowrap"],["class","bg-secondary-3-1 py-1.5 rounded text-center text-espressive-md text-secondary-3-4 cursor-pointer",3,"click",4,"ngIf"],["class","bg-white rounded shadow-cf-md flex flex-col mb-2 md:hidden",4,"ngIf"],[1,"bg-white","rounded","shadow-cf-md","flex","flex-col","md:hidden"],[1,"text-heading-sm","text-neutral-black","p-6","flex","items-center","gap-x-2"],["icon","circle_information","size","small"],[1,"!pt-0"],[1,"table-auto","w-full"],[1,"border-b","border-neutral-gray-1"],[1,"text-left","text-espressive-sm","text-neutral-gray-4","py-3","pl-3"],[1,"text-left","text-espressive-sm","text-neutral-gray-4","py-3"],[1,"text-right","text-espressive-sm","text-neutral-gray-4","py-3"],["class","text-right text-espressive-sm text-neutral-gray-4 py-3",4,"ngIf"],[1,"text-right","text-espressive-sm","text-neutral-gray-4","py-3","pr-3"],[4,"ngFor","ngForOf"],[1,"text-neutral-gray-1","w-full","mb-4"],[1,"flex","flex-col","items-end","gap-[10px]","pr-3"],[1,"flex","justify-end","items-center","gap-8"],[1,"text-espressive-sm","text-neutral-gray-4"],[1,"min-w-[120px]","text-end","text-body-dm","text-neutral-black"],[4,"ngIf"],[1,"min-w-[120px]","text-end","text-heading-md","text-primary-1-4"],[4,"ngIf","ngIfElse"],["noDiscountTempl",""],[1,"text-right","py-6","px-4","border-t","border-neutral-gray-1"],["cf-button","","size","medium",3,"disabled","click",4,"ngIf"],["cf-button","","size","medium","cf-button","","size","medium","type","secondary","tabIndex","-1","cdkOverlayOrigin","",3,"disabled","disabledOneClick","manualHandle","placement","cfTooltip",4,"ngIf"],[1,"flex-col","w-screen","hidden","md:flex","p-4","pt-0","pb-16"],[1,"text-express-sm","mb-3"],[1,"flex","flex-col","p-3","rounded-lg","bg-neutral-white"],[1,"flex","justify-between"],[1,"flex","flex-col","gap-y-1"],[1,"text-espressive-xs","text-neutral-gray-4"],[1,"flex","items-center","gap-x-2"],[1,"text-heading-md","text-neutral-gray-6"],["icon","copy","size","small",1,"text-neutral-gray-4"],[1,"flex","items-center","justify-between","mt-3"],[1,"w-9","h-9","object-contain",3,"src"],[1,"text-heading-xs","text-neutral-gray-6"],[1,"flex","items-center","justify-end","gap-x-2","px-3","py-1","rounded","bg-neutral-gray-1"],[1,"text-heading-sm","text-neutral-black"],["class","flex justify-between items-center mt-3",4,"ngIf"],[1,"w-full","flex","justify-center","items-center","px-[15px]","py-[9px]","cursor-pointer","bg-secondary-3-1","rounded","text-heading-xs","text-secondary-3-4","mt-4",3,"click"],["class"," text-express-sm mb-3 mt-4",4,"ngIf"],["class","p-3 rounded-lg bg-neutral-white",4,"ngIf"],[1,"text-express-sm","mb-3","mt-4"],["class","flex flex-col rounded-lg bg-neutral-white p-3 gap-y-2 mb-4",4,"ngFor","ngForOf"],[1,"fixed","bottom-0","left-0","w-screen","bg-white","shadow-cf-large-top","p-3","flex","items-center","justify-between","z-[1]",3,"click"],[1,"flex","flex-col"],[1,"flex","items-center","gap-x-1"],[1,"text-express-xs","text-neutral-gray-4","mt-1"],[1,"text-heading-sm","text-neutral-gray-6"],["size","small",3,"icon"],["class","w-24 justify-center","cf-button","",3,"click",4,"ngIf"],["class","w-24 justify-center","cf-button","","cf-button","","size","medium","type","secondary","tabIndex","-1","cdkOverlayOrigin","",3,"disabled","disabledOneClick","manualHandle","placement","cfTooltip",4,"ngIf"],["totalPriceBts",""],["icon","arrow_right","size","small"],["icon","switch","size","small"],[1,"mt-3"],[1,"text-espressive-sm","text-neutral-black"],[1,"bg-secondary-3-1","py-1.5","rounded","text-center","text-espressive-md","text-secondary-3-4","cursor-pointer",3,"click"],[1,"bg-white","rounded","shadow-cf-md","flex","flex-col","mb-2","md:hidden"],[1,"px-6","pb-6"],["textField","name","valueField","id","placeholder","Ch\u1ecdn \u0111\u1ea1i l\xfd",1,"w-full","!max-w-full",3,"status","data","allowSearch","formControl","selectedChange"],["cfHint","","hint","Vui l\xf2ng ch\u1ecdn \u0111\u1ea1i l\xfd.",4,"ngIf"],["cfHint","","hint","Vui l\xf2ng ch\u1ecdn \u0111\u1ea1i l\xfd."],[1,"text-left","text-body-md","text-neutral-black","py-3","pl-3","uppercase"],[1,"text-left","text-body-md","text-neutral-black","py-3"],[1,"text-right","text-body-md","text-neutral-black","py-3"],["class","text-right text-body-md text-secondary-5-3 py-3",4,"ngIf"],[1,"text-right","text-body-md","text-neutral-black","py-3","pr-3"],[1,"text-right","text-body-md","text-secondary-5-3","py-3"],["cf-button","","size","medium",3,"disabled","click"],["cf-button","","size","medium","cf-button","","size","medium","type","secondary","tabIndex","-1","cdkOverlayOrigin","",3,"disabled","disabledOneClick","manualHandle","placement","cfTooltip"],["trigger","","originOverlay","cdkOverlayOrigin"],["toolTipTemplate",""],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg",1,"text-secondary-7-4"],["d","M7.99968 1.33337C6.68114 1.33337 5.3922 1.72437 4.29588 2.45691C3.19955 3.18945 2.34506 4.23064 1.84048 5.44882C1.3359 6.66699 1.20387 8.00744 1.46111 9.30064C1.71834 10.5939 2.35328 11.7817 3.28563 12.7141C4.21798 13.6464 5.40587 14.2814 6.69908 14.5386C7.99228 14.7958 9.33273 14.6638 10.5509 14.1592C11.7691 13.6547 12.8103 12.8002 13.5428 11.7038C14.2754 10.6075 14.6663 9.31858 14.6663 8.00004C14.6612 6.23351 13.9572 4.54079 12.7081 3.29166C11.4589 2.04253 9.76621 1.3385 7.99968 1.33337ZM6.88857 11.0078L4.27357 8.39282C4.05664 8.17589 4.05664 7.82419 4.27357 7.60726C4.49049 7.39034 4.8422 7.39034 5.05912 7.60726L6.88857 9.43671L10.9402 5.38504C11.1572 5.16812 11.5089 5.16812 11.7258 5.38504C11.9427 5.60197 11.9427 5.95367 11.7258 6.1706L6.88857 11.0078Z","fill","currentColor"],[1,"text-espressive-md","text-neutral-gray-6"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg",1,"text-secondary-5-4"],[1,"flex","justify-between","items-center","mt-3"],[1,"flex","flex-col","gap-y-1","items-center"],[1,"p-3","rounded-lg","bg-neutral-white"],[1,"flex","flex-col","rounded-lg","bg-neutral-white","p-3","gap-y-2","mb-4"],[1,"flex","items-center","gap-x-5"],[1,"text-body-sm","text-neutral-gray-4","w-[104px]"],["class","flex items-center gap-x-5",4,"ngIf"],[1,"text-espressive-md","text-secondary-5-3"],["cf-button","",1,"w-24","justify-center",3,"click"],["cf-button","","cf-button","","size","medium","type","secondary","tabIndex","-1","cdkOverlayOrigin","",1,"w-24","justify-center",3,"disabled","disabledOneClick","manualHandle","placement","cfTooltip"],[1,"w-full","flex","flex-col","py-2","px-4","gap-y-1.5","pb-[75px]"],[1,"flex","justify-between","w-full"],[1,"text-body-sm","text-neutral-gray-4"],[1,"text-body-md-short","text-neutral-gray-6"]],template:function(s,c){if(1&s&&(e.YNc(0,ke,5,0,"div",0),e.YNc(1,Pt,148,48,"ng-template",null,1,e.W1O)),2&s){const y=e.MAs(2);e.Q6J("ngIf",c.isLoading)("ngIfElse",y)}},dependencies:[m.ez,m.sg,m.O5,m.JJ,m.uU,ie.j$,ie.v2,_.IA,N.AxE,N.Sm8,F.N8,F.Xq,Ae.q,J.u5,J.JJ,J.UX,J.oH,K.Lk,he.f,we.xu],encapsulation:2}),u})(),Jt=(()=>{class u{constructor(s,c,y,k){this.ref=s,this.bottomSheetData=c,this.bottomSheetRef=y,k.registerIcons([N.UNF]),s&&(this.priceChangeData=s.data.priceChangeData),c&&(this.priceChangeData=c.priceChangeData)}close(){this.ref&&this.ref.close(!1),this.bottomSheetData&&this.bottomSheetRef.dismiss(!1)}ok(){this.ref&&this.ref.close(!0),this.bottomSheetData&&this.bottomSheetRef.dismiss(!0)}}return u.\u0275fac=function(s){return new(s||u)(e.Y36(R.gb,8),e.Y36(X.Rr,8),e.Y36(X.Zu,8),e.Y36(N.KNP))},u.\u0275cmp=e.Xpm({type:u,selectors:[["price-ticket-change"]],standalone:!0,features:[e.jDz],decls:29,vars:10,consts:[[1,"w-[480px]","rounded-lg","bg-neutral-white","flex","flex-col","md:w-full","md:justify-between","md:h-full"],[1,"flex","justify-end","items-center","px-6","py-[13px]","border-b","border-b-neutral-gray-1","md:hidden"],["size","small","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"px-6","py-2","flex","flex-col","gap-y-4","justify-center","md:p-4"],[1,"text-heading-sm","text-neutral-gray-6","md:hidden"],[1,"text-body-md","text-neutral-gray-5"],[1,"flex","flex-col","gap-y-4","border","border-neutral-gray-2","rounded-lg","p-3"],[1,"flex","justify-between"],[1,"flex","justify-end","text-primary-1-3"],[1,"flex","justify-between","border-t","border-neutral-gray-2","pt-2"],[1,"p-6","flex","gap-x-4","md:p-4"],["cf-button","","size","medium","type","secondary",1,"w-full","justify-center",3,"click"],["cf-button","","size","medium","color","primary-1",1,"w-full","justify-center",3,"click"]],template:function(s,c){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"cf-icon",2),e.NdJ("click",function(){return c.close()}),e.qZA()(),e.TgZ(3,"div",3)(4,"div",4),e._uU(5,"Chi ph\xed thay \u0111\u1ed5i"),e.qZA(),e.TgZ(6,"div",5),e._uU(7,"Chi ph\xed cho (c\xe1c) chuy\u1ebfn bay \u0111\u01b0\u1ee3c ch\u1ecdn \u0111\xe3 \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt. Vui l\xf2ng ki\u1ec3m tra chi ph\xed m\u1edbi tr\u01b0\u1edbc khi ti\u1ebfp t\u1ee5c"),e.qZA(),e.TgZ(8,"div",6)(9,"div",7)(10,"div"),e._uU(11,"T\u1ed5ng chi ph\xed c\u0169"),e.qZA(),e.TgZ(12,"div"),e._uU(13),e.ALo(14,"number"),e.qZA()(),e.TgZ(15,"div",8),e._uU(16),e.ALo(17,"number"),e.qZA(),e.TgZ(18,"div",9)(19,"div"),e._uU(20,"T\u1ed5ng chi ph\xed m\u1edbi"),e.qZA(),e.TgZ(21,"div"),e._uU(22),e.ALo(23,"number"),e.qZA()()()(),e.TgZ(24,"div",10)(25,"button",11),e.NdJ("click",function(){return c.close()}),e._uU(26," H\u1ee7y "),e.qZA(),e.TgZ(27,"button",12),e.NdJ("click",function(){return c.ok()}),e._uU(28," Xu\u1ea5t v\xe9 "),e.qZA()()()),2&s&&(e.xp6(13),e.hij("",e.lcZ(14,4,c.priceChangeData.oldPrice)," \u0111"),e.xp6(3),e.AsE("",c.priceChangeData.type,"",e.lcZ(17,6,c.priceChangeData.priceGap)," \u0111"),e.xp6(6),e.hij("",e.lcZ(23,8,c.priceChangeData.newPrice)," \u0111"))},dependencies:[m.ez,m.JJ,N.AxE,N.Sm8,F.N8,F.Xq],encapsulation:2}),u})();function Qt(u,h){if(1&u&&(e.TgZ(0,"div",9)(1,"div"),e.O4$(),e.TgZ(2,"svg",10),e._UZ(3,"path",11)(4,"path",12)(5,"path",13),e.qZA()(),e.kcU(),e.TgZ(6,"div",14)(7,"div",15),e._uU(8," Chi\u1ebft kh\u1ea5u cho h\xe0nh tr\xecnh hi\u1ec7n t\u1ea1i \u0111\xe3 thay \u0111\u1ed5i: "),e.qZA(),e.TgZ(9,"ul",16)(10,"li")(11,"span",15),e._uU(12,"Gi\xe1 v\u1edbi chi\u1ebft kh\u1ea5u c\u0169: "),e.qZA(),e.TgZ(13,"span",17),e._uU(14),e.ALo(15,"number"),e.qZA()(),e.TgZ(16,"li")(17,"span",15),e._uU(18,"Gi\xe1 v\u1edbi chi\u1ebft kh\u1ea5u m\u1edbi: "),e.qZA(),e.TgZ(19,"span",17),e._uU(20),e.ALo(21,"number"),e.qZA()()(),e.TgZ(22,"div",15),e._uU(23,"B\u1ea1n c\xf3 mu\u1ed1n ti\u1ebfp t\u1ee5c xu\u1ea5t v\xe9 kh\xf4ng?"),e.qZA()()()),2&u){const s=e.oxw();e.xp6(14),e.hij("",e.lcZ(15,2,s.discountChangeData.oldPrice)," \u0111"),e.xp6(6),e.hij("",e.lcZ(21,4,s.discountChangeData.newPrice)," \u0111")}}function St(u,h){if(1&u&&(e.TgZ(0,"div",18)(1,"div"),e.O4$(),e.TgZ(2,"svg",10),e._UZ(3,"path",11)(4,"path",12)(5,"path",13),e.qZA()(),e.kcU(),e.TgZ(6,"div",19)(7,"div",15),e._uU(8," H\xe0nh tr\xecnh hi\u1ec7n t\u1ea1i kh\xf4ng c\xf2n \u0111\u1ee7 \u0111i\u1ec1u ki\xean \u0111\u1ec3 \xe1p d\u1ee5ng chi\u1ebft kh\u1ea5u t\u1ef1 \u0111\u1ed9ng. Vui l\xf2ng li\xean h\u1ec7 Booker \u0111\u1ec3 ki\u1ec3m tra th\xf4ng tin chi\u1ebft kh\u1ea5u sau khi xu\u1ea5t v\xe9. "),e.qZA(),e.TgZ(9,"div",20)(10,"div",21),e._uU(11,"T\u1ed5ng chi ph\xed"),e.qZA(),e.TgZ(12,"div",15),e._uU(13),e.ALo(14,"number"),e.qZA()()()()),2&u){const s=e.oxw();e.xp6(13),e.hij("",e.lcZ(14,1,s.discountChangeData.newPrice)," \u0111")}}let Yt=(()=>{class u{constructor(s,c,y,k){this.ref=c,this.bottomSheetData=y,this.bottomSheetRef=k,s.registerIcons([N.UNF]),c&&(this.discountChangeData=c.data.discountChangeData),y&&(this.discountChangeData=y.discountChangeData)}close(){this.ref&&this.ref.close(!1),this.bottomSheetData&&this.bottomSheetRef.dismiss(!1)}ok(){this.ref&&this.ref.close(!0),this.bottomSheetData&&this.bottomSheetRef.dismiss(!0)}}return u.\u0275fac=function(s){return new(s||u)(e.Y36(N.KNP),e.Y36(R.gb,8),e.Y36(X.Rr,8),e.Y36(X.Zu,8))},u.\u0275cmp=e.Xpm({type:u,selectors:[["discount-fare-change"]],hostAttrs:[1,"md:w-full"],standalone:!0,features:[e.jDz],decls:12,vars:2,consts:[[1,"w-[480px]","rounded-lg","bg-neutral-white","flex","flex-col","md:w-full","md:justify-between","md:h-full"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-b-neutral-gray-1","md:hidden"],[1,"text-heading-xs","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],["class","px-6 pt-6 md:p-4 flex items-center gap-x-4",4,"ngIf"],["class","px-6 pt-6 flex items-center md:p-4 gap-x-4",4,"ngIf"],[1,"p-6","flex","gap-x-4","justify-end","md:p-4"],["cf-button","","size","medium","type","secondary",1,"md:w-full","justify-center",3,"click"],["cf-button","","size","medium","color","primary-1",1,"md:w-full","justify-center",3,"click"],[1,"px-6","pt-6","md:p-4","flex","items-center","gap-x-4"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M1.23916 18.3887L10.1497 3.95489C10.3277 3.66664 10.594 3.42543 10.92 3.25719C11.246 3.08895 11.6194 3.00005 12 3.00005C12.3806 3.00005 12.754 3.08895 13.08 3.25719C13.406 3.42543 13.6723 3.66664 13.8503 3.95489L22.7608 18.3887C22.9281 18.6611 23.0101 18.9659 22.999 19.2736C22.9879 19.5812 22.8839 19.8811 22.6973 20.1441C22.5106 20.4071 22.2477 20.6241 21.934 20.7741C21.6204 20.9241 21.2667 21.002 20.9075 21H3.08847C2.72962 21.0014 2.37647 20.9231 2.06336 20.7729C1.75026 20.6226 1.48787 20.4055 1.3017 20.1426C1.11553 19.8797 1.01193 19.5801 1.00097 19.2727C0.99001 18.9654 1.07207 18.6608 1.23916 18.3887Z","fill","#FCB40A"],["d","M12 18.75C11.5858 18.75 11.25 18.4143 11.25 18L11.25 17.9901C11.25 17.5758 11.5858 17.2401 12 17.2401C12.4142 17.2401 12.75 17.5758 12.75 17.9901L12.75 18C12.75 18.4143 12.4142 18.75 12 18.75Z","fill","#2C2C2C"],["d","M12 15.75C11.5858 15.75 11.25 15.4142 11.25 15L11.25 8.00002C11.25 7.5858 11.5858 7.25002 12 7.25002C12.4142 7.25002 12.75 7.5858 12.75 8.00002L12.75 15C12.75 15.4142 12.4142 15.75 12 15.75Z","fill","#2C2C2C"],[1,"flex","flex-col","justify-center"],[1,"text-body-md","text-neutral-gray-5"],[1,"list-disc","pl-[30px]"],[1,"text-express-md","text-neutral-gray-6"],[1,"px-6","pt-6","flex","items-center","md:p-4","gap-x-4"],[1,"flex","flex-col","gap-y-4","justify-center"],[1,"flex","items-center","gap-x-2"],[1,"text-express-md","text-neutral-gray-5"]],template:function(s,c){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Th\xf4ng b\xe1o thay \u0111\u1ed5i chi\u1ebft kh\u1ea5u"),e.qZA(),e.TgZ(4,"cf-icon",3),e.NdJ("click",function(){return c.close()}),e.qZA()(),e.YNc(5,Qt,24,6,"div",4),e.YNc(6,St,15,3,"div",5),e.TgZ(7,"div",6)(8,"button",7),e.NdJ("click",function(){return c.close()}),e._uU(9," H\u1ee7y "),e.qZA(),e.TgZ(10,"button",8),e.NdJ("click",function(){return c.ok()}),e._uU(11," \u0110\u1ed3ng \xfd & Xu\u1ea5t v\xe9 "),e.qZA()()()),2&s&&(e.xp6(5),e.Q6J("ngIf","DISCOUNT_REDUCED"===c.discountChangeData.type),e.xp6(1),e.Q6J("ngIf","DISCOUNT_REDUCED"!==c.discountChangeData.type))},dependencies:[m.ez,m.O5,m.JJ,N.AxE,N.Sm8,F.N8,F.Xq],encapsulation:2}),u})();function Mt(u,h){1&u&&(e.TgZ(0,"div",2),e._UZ(1,"ticket-item-skeleton")(2,"ticket-item-skeleton")(3,"ticket-item-skeleton")(4,"ticket-item-skeleton"),e.qZA())}function Ot(u,h){1&u&&e._UZ(0,"cf-icon",58)}function Rt(u,h){1&u&&e._UZ(0,"cf-icon",59)}function jt(u,h){if(1&u&&(e.TgZ(0,"div",57)(1,"span"),e._uU(2),e.qZA(),e.YNc(3,Ot,1,0,"cf-icon",31),e.YNc(4,Rt,1,0,"cf-icon",32),e.TgZ(5,"span"),e._uU(6),e.qZA()()),2&u){const s=e.oxw(3);e.xp6(2),e.Oqu(s.bookingDetail.startPoint),e.xp6(1),e.Q6J("ngIf",1===s.bookingDetail.journeys.length),e.xp6(1),e.Q6J("ngIf",s.bookingDetail.journeys.length>1),e.xp6(2),e.Oqu(s.bookingDetail.endPoint)}}function Gt(u,h){if(1&u&&(e.TgZ(0,"div",60),e._UZ(1,"span"),e.TgZ(2,"span",61),e._uU(3),e.ALo(4,"date"),e.qZA()()),2&u){const s=h.$implicit;e.xp6(3),e.lnq("",s.startPoint," - ",s.endPoint," (",e.xi3(4,3,s.startTime,"HH:mm - dd/MM/yyyy"),")")}}function Lt(u,h){1&u&&e._UZ(0,"div",45)}function Ht(u,h){if(1&u&&(e.TgZ(0,"div",37)(1,"div",38)(2,"div",39)(3,"div"),e._UZ(4,"img",40),e.qZA(),e.TgZ(5,"div",41)(6,"span",42),e._uU(7),e.qZA(),e.TgZ(8,"span",43),e._uU(9),e.qZA()(),e.TgZ(10,"div",44),e._uU(11),e.qZA()(),e._UZ(12,"div",45),e.TgZ(13,"div",46),e.YNc(14,jt,7,4,"div",47),e.YNc(15,Gt,5,6,"div",48),e.qZA(),e.YNc(16,Lt,1,0,"div",49),e.TgZ(17,"div",50)(18,"div",51),e._uU(19,"M\xe3 \u0111\u1eb7t ch\u1ed7"),e.qZA(),e.TgZ(20,"div",52),e._uU(21),e.qZA()(),e._UZ(22,"div",45),e.TgZ(23,"div",50)(24,"div",51),e._uU(25,"Tr\u1ea1ng th\xe1i"),e.qZA(),e.TgZ(26,"div",53),e._UZ(27,"cf-icon",54),e.TgZ(28,"div",55)(29,"label",56),e._uU(30),e.qZA()()()()()()),2&u){const s=e.oxw(2);e.xp6(4),e.Q6J("src","assets/airline-logo/"+s.bookingDetail.airlineSystem+".png",e.LSH),e.xp6(3),e.hij("",s.bookingDetail.airlineSystem," -\xa0"),e.xp6(2),e.Oqu(s.bookingDetail.airlineName),e.xp6(2),e.hij(" H\u1ec7 th\u1ed1ng: ",s.bookingDetail.airlineSystem," "),e.xp6(3),e.Q6J("ngIf",s.bookingDetail.startPoint),e.xp6(1),e.Q6J("ngForOf",s.bookingDetail.journeys),e.xp6(1),e.Q6J("ngIf",s.bookingDetail.startPoint),e.xp6(5),e.Oqu(s.bookingDetail.bookingCode),e.xp6(9),e.Oqu(s.bookingDetail.statusText)}}function Vt(u,h){1&u&&e._UZ(0,"cf-input-hint",62)}function zt(u,h){1&u&&(e.TgZ(0,"th",69),e._uU(1,"Chi\u1ebft kh\u1ea5u"),e.qZA())}function Kt(u,h){if(1&u&&(e.TgZ(0,"td",86),e._uU(1),e.ALo(2,"number"),e.qZA()),2&u){const s=e.oxw().$implicit;e.xp6(1),e.hij(" (",e.lcZ(2,1,s.discountAmount),")")}}function $t(u,h){if(1&u&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&u){const s=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,s.totalDiscountFarePrice)," ")}}function v(u,h){if(1&u&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&u){const s=e.oxw().$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,s.total))}}function U(u,h){if(1&u&&(e.TgZ(0,"tr")(1,"td",81),e._uU(2),e.qZA(),e.TgZ(3,"td",82),e._uU(4),e.qZA(),e.TgZ(5,"td",83),e._uU(6),e.ALo(7,"number"),e.qZA(),e.TgZ(8,"td",83),e._uU(9),e.ALo(10,"number"),e.qZA(),e.YNc(11,Kt,3,3,"td",84),e.TgZ(12,"td",85),e.YNc(13,$t,3,3,"span",79),e.YNc(14,v,3,3,"ng-template",null,80,e.W1O),e.qZA()()),2&u){const s=h.$implicit,c=e.MAs(15),y=e.oxw(3);e.xp6(2),e.Oqu(s.name),e.xp6(2),e.Oqu(s.type),e.xp6(2),e.Oqu(e.lcZ(7,7,s.base)),e.xp6(3),e.Oqu(e.lcZ(10,9,s.tax)),e.xp6(2),e.Q6J("ngIf",y.hasDiscountFare),e.xp6(2),e.Q6J("ngIf",s.discountAmount&&y.hasDiscountFare)("ngIfElse",c)}}function pe(u,h){if(1&u&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&u){const s=e.oxw(3);e.xp6(1),e.hij(" ",e.lcZ(2,1,s.priceDetail.totalDiscountBasePrice)," \u0111")}}function Qe(u,h){if(1&u&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&u){const s=e.oxw(3);e.xp6(1),e.hij(" ",e.lcZ(2,1,s.priceDetail.totalBasePrice)," \u0111")}}function z(u,h){if(1&u&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&u){const s=e.oxw(3);e.xp6(1),e.hij(" ",e.lcZ(2,1,s.priceDetail.totalDiscountFareCharge)," \u0111 ")}}function Ge(u,h){if(1&u&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&u){const s=e.oxw(3);e.xp6(1),e.hij("",e.lcZ(2,1,s.priceDetail.totalPrice)," \u0111")}}function D(u,h){if(1&u&&(e.TgZ(0,"div",63)(1,"div",8),e._UZ(2,"cf-icon",9),e._uU(3," Chi ti\u1ebft chi ph\xed "),e.qZA(),e.TgZ(4,"div",64)(5,"div")(6,"table",65)(7,"thead")(8,"tr",66)(9,"th",67),e._uU(10,"H\xe0nh kh\xe1ch"),e.qZA(),e.TgZ(11,"th",68),e._uU(12,"Lo\u1ea1i kh\xe1ch"),e.qZA(),e.TgZ(13,"th",69),e._uU(14,"Gi\xe1 v\xe9"),e.qZA(),e.TgZ(15,"th",69),e._uU(16,"Thu\u1ebf ph\xed"),e.qZA(),e.YNc(17,zt,2,0,"th",70),e.TgZ(18,"th",71),e._uU(19,"T\u1ed5ng gi\xe1"),e.qZA()()(),e.TgZ(20,"tbody"),e.YNc(21,U,16,11,"tr",72),e.qZA()(),e._UZ(22,"hr",73),e.qZA(),e.TgZ(23,"div",74)(24,"div",75)(25,"div",76),e._uU(26,"T\u1ed5ng gi\xe1 g\u1ed1c"),e.qZA(),e.TgZ(27,"div",77),e.YNc(28,pe,3,3,"span",25),e.YNc(29,Qe,3,3,"span",25),e.qZA()(),e.TgZ(30,"div",75)(31,"div",76),e._uU(32,"D\u1ecbch v\u1ee5 c\u1ed9ng th\xeam"),e.qZA(),e.TgZ(33,"div",77),e._uU(34),e.ALo(35,"number"),e.qZA()(),e.TgZ(36,"div",75)(37,"div",76),e._uU(38,"Ph\xed d\u1ecbch v\u1ee5"),e.qZA(),e.TgZ(39,"div",77),e._uU(40),e.ALo(41,"number"),e.qZA()(),e.TgZ(42,"div",75)(43,"div",76),e._uU(44,"T\u1ed5ng chi ph\xed"),e.qZA(),e.TgZ(45,"div",78),e.YNc(46,z,3,3,"span",79),e.YNc(47,Ge,3,3,"ng-template",null,80,e.W1O),e.qZA()()()()()),2&u){const s=e.MAs(48),c=e.oxw(2);e.xp6(17),e.Q6J("ngIf",c.hasDiscountFare),e.xp6(4),e.Q6J("ngForOf",null==c.priceDetail?null:c.priceDetail.passengers),e.xp6(7),e.Q6J("ngIf",c.priceDetail.totalDiscountBasePrice),e.xp6(1),e.Q6J("ngIf",!c.priceDetail.totalDiscountBasePrice),e.xp6(5),e.hij("",e.lcZ(35,8,c.priceDetail.totalAddonService)," \u0111 "),e.xp6(6),e.hij("",e.lcZ(41,10,c.priceDetail.totalServiceFee)," \u0111 "),e.xp6(6),e.Q6J("ngIf",c.priceDetail.totalDiscountFareCharge&&c.hasDiscountFare)("ngIfElse",s)}}function ge(u,h){1&u&&(e.ynx(0),e.O4$(),e.TgZ(1,"svg",87),e._UZ(2,"path",88),e.qZA(),e.kcU(),e.TgZ(3,"div",89),e._uU(4,"\u0110\xe3 gi\u1eef ch\u1ed7"),e.qZA(),e.BQk())}function S(u,h){1&u&&(e.ynx(0),e.O4$(),e.TgZ(1,"svg",90),e._UZ(2,"path",88),e.qZA(),e.kcU(),e.TgZ(3,"div",89),e._uU(4,"\u0110\xe3 xu\u1ea5t v\xe9"),e.qZA(),e.BQk())}function Se(u,h){1&u&&e._UZ(0,"cf-icon",58)}function le(u,h){1&u&&e._UZ(0,"cf-icon",59)}function Xt(u,h){if(1&u&&(e.TgZ(0,"div",91)(1,"div",92)(2,"div",28),e._uU(3),e.qZA(),e.TgZ(4,"div",21),e._uU(5),e.ALo(6,"date"),e.qZA()(),e._UZ(7,"cf-icon",59),e.TgZ(8,"div",92)(9,"div",28),e._uU(10),e.qZA(),e.TgZ(11,"div",21),e._uU(12),e.ALo(13,"date"),e.qZA()()()),2&u){const s=e.oxw(2);e.xp6(3),e.AsE(" ",s.bookingDetail.journeys[0].startPoint,"-",s.bookingDetail.journeys[0].endPoint,""),e.xp6(2),e.hij(" ",e.xi3(6,6,s.bookingDetail.journeys[0].startTime,"HH:mm - dd/MM/yyyy"),""),e.xp6(5),e.AsE(" ",s.bookingDetail.journeys[1].startPoint,"-",s.bookingDetail.journeys[1].endPoint,""),e.xp6(2),e.hij(" ",e.xi3(13,9,s.bookingDetail.journeys[1].startTime,"HH:mm - dd/MM/yyyy"),"")}}function Wt(u,h){1&u&&e._UZ(0,"cf-input-hint",62)}function en(u,h){if(1&u&&(e.TgZ(0,"div",105)(1,"div",106),e._uU(2,"Chi\u1ebft kh\u1ea5u"),e.qZA(),e.TgZ(3,"div",108),e._uU(4),e.ALo(5,"number"),e.qZA()()),2&u){const s=e.oxw().$implicit;e.xp6(4),e.hij("(",e.lcZ(5,1,s.discountAmount),")")}}function tn(u,h){if(1&u&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&u){const s=e.oxw(4);e.xp6(1),e.hij(" ",e.lcZ(2,1,s.priceDetail.totalDiscountFareCharge)," \u0111 ")}}function nn(u,h){if(1&u&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&u){const s=e.oxw(4);e.xp6(1),e.hij("",e.lcZ(2,1,s.priceDetail.totalPrice)," \u0111")}}function Dn(u,h){if(1&u&&(e.TgZ(0,"div",104)(1,"div",105)(2,"div",106),e._uU(3,"H\xe0nh kh\xe1ch"),e.qZA(),e.TgZ(4,"div",89),e._uU(5),e.qZA()(),e.TgZ(6,"div",105)(7,"div",106),e._uU(8,"Lo\u1ea1i"),e.qZA(),e.TgZ(9,"div",89),e._uU(10),e.qZA()(),e.TgZ(11,"div",105)(12,"div",106),e._uU(13,"Gi\xe1 v\xe9"),e.qZA(),e.TgZ(14,"div",89),e._uU(15),e.ALo(16,"number"),e.qZA()(),e.TgZ(17,"div",105)(18,"div",106),e._uU(19,"Thu\u1ebf ph\xed"),e.qZA(),e.TgZ(20,"div",89),e._uU(21),e.ALo(22,"number"),e.qZA()(),e.YNc(23,en,6,3,"div",107),e.TgZ(24,"div",105)(25,"div",106),e._uU(26,"T\u1ed5ng chi ph\xed"),e.qZA(),e.TgZ(27,"div",89),e.YNc(28,tn,3,3,"span",79),e.YNc(29,nn,3,3,"ng-template",null,80,e.W1O),e.qZA()()()),2&u){const s=h.$implicit,c=e.MAs(30),y=e.oxw(3);e.xp6(5),e.Oqu(s.name),e.xp6(5),e.Oqu(s.type),e.xp6(5),e.Oqu(e.lcZ(16,7,s.base)),e.xp6(6),e.Oqu(e.lcZ(22,9,s.tax)),e.xp6(2),e.Q6J("ngIf",y.hasDiscountFare),e.xp6(5),e.Q6J("ngIf",y.priceDetail.totalDiscountFareCharge&&y.hasDiscountFare)("ngIfElse",c)}}function on(u,h){if(1&u&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&u){const s=e.oxw(3);e.xp6(1),e.hij(" ",e.lcZ(2,1,s.priceDetail.totalDiscountFareCharge)," \u0111 ")}}function rn(u,h){if(1&u&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&u){const s=e.oxw(3);e.xp6(1),e.hij("",e.lcZ(2,1,s.priceDetail.totalPrice)," \u0111")}}function an(u,h){if(1&u&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&u){const s=e.oxw(4);e.xp6(1),e.hij(" ",e.lcZ(2,1,s.priceDetail.totalDiscountBasePrice)," \u0111")}}function sn(u,h){if(1&u&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&u){const s=e.oxw(4);e.xp6(1),e.hij(" ",e.lcZ(2,1,s.priceDetail.totalBasePrice)," \u0111")}}function un(u,h){if(1&u&&(e.TgZ(0,"div",109)(1,"div",110)(2,"div",111),e._uU(3,"T\u1ed5ng gi\xe1 g\u1ed1c"),e.qZA(),e.TgZ(4,"div",112),e.YNc(5,an,3,3,"span",25),e.YNc(6,sn,3,3,"span",25),e.qZA()(),e.TgZ(7,"div",110)(8,"div",111),e._uU(9,"D\u1ecbch v\u1ee5 c\u1ed9ng th\xeam"),e.qZA(),e.TgZ(10,"div",112),e._uU(11),e.ALo(12,"number"),e.qZA()(),e.TgZ(13,"div",110)(14,"div",111),e._uU(15,"Ph\xed d\u1ecbch v\u1ee5"),e.qZA(),e.TgZ(16,"div",112),e._uU(17),e.ALo(18,"number"),e.qZA()()()),2&u){const s=e.oxw(3);e.xp6(5),e.Q6J("ngIf",s.priceDetail.totalDiscountBasePrice),e.xp6(1),e.Q6J("ngIf",!s.priceDetail.totalDiscountBasePrice),e.xp6(5),e.hij("",e.lcZ(12,4,s.priceDetail.totalAddonService),"\u0111"),e.xp6(6),e.hij("",e.lcZ(18,6,s.priceDetail.totalServiceFee),"\u0111")}}function ln(u,h){if(1&u){const s=e.EpF();e.TgZ(0,"div",93)(1,"div",94),e._uU(2," Chi ti\u1ebft chi ph\xed "),e.qZA(),e.YNc(3,Dn,31,11,"div",95),e.TgZ(4,"div",96),e.NdJ("click",function(){e.CHM(s);const y=e.MAs(18),k=e.oxw(2);return e.KtG(k.toggle(y))}),e.TgZ(5,"div",97)(6,"div",98)(7,"div",99),e._uU(8,"T\u1ed5ng chi ph\xed:"),e.qZA(),e.TgZ(9,"div",100),e.YNc(10,on,3,3,"span",79),e.YNc(11,rn,3,3,"ng-template",null,80,e.W1O),e.qZA(),e._UZ(13,"cf-icon",101),e.qZA()(),e.TgZ(14,"div")(15,"button",102),e.NdJ("click",function(y){e.CHM(s);const k=e.oxw(2);return e.KtG(k.onImport(y))}),e._uU(16,"Import"),e.qZA()()(),e.YNc(17,un,19,8,"ng-template",null,103,e.W1O),e.qZA()}if(2&u){const s=e.MAs(12),c=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",null==c.priceDetail?null:c.priceDetail.passengers),e.xp6(1),e.ekj("!z-1000",c.increaseZIndex),e.xp6(6),e.Q6J("ngIf",c.priceDetail.totalDiscountFareCharge&&c.hasDiscountFare)("ngIfElse",s),e.xp6(3),e.Q6J("icon",c.iconChevron)}}function cn(u,h){if(1&u){const s=e.EpF();e.TgZ(0,"div",3),e._UZ(1,"div",4),e.TgZ(2,"div",5),e._uU(3,"Chi ti\u1ebft \u0111\u1eb7t ch\u1ed7"),e.qZA()(),e.YNc(4,Ht,31,9,"div",6),e.TgZ(5,"div",7)(6,"div",8),e._UZ(7,"cf-icon",9),e._uU(8," Th\xf4ng tin \u0111\u1ea1i l\xfd "),e.qZA(),e.TgZ(9,"div",10)(10,"cf-select",11),e.NdJ("selectedChange",function(y){e.CHM(s);const k=e.oxw();return e.KtG(k.onSelectedChange(y))}),e.YNc(11,Vt,1,0,"cf-input-hint",12),e.qZA()()(),e.YNc(12,D,49,12,"div",13),e.TgZ(13,"div",14)(14,"button",15),e.NdJ("click",function(y){e.CHM(s);const k=e.oxw();return e.KtG(k.onImport(y))}),e._uU(15," Import "),e.qZA()(),e.TgZ(16,"div",16)(17,"div",17),e._uU(18," Chi ti\u1ebft \u0111\u1eb7t ch\u1ed7 "),e.qZA(),e.TgZ(19,"div",18)(20,"div",19)(21,"div",20)(22,"div",21),e._uU(23,"M\xe3 \u0111\u1eb7t ch\u1ed7"),e.qZA(),e.TgZ(24,"div",22)(25,"div",23),e._uU(26),e.qZA(),e._UZ(27,"cf-icon",24),e.qZA()(),e.TgZ(28,"div",22),e.YNc(29,ge,5,0,"ng-container",25),e.YNc(30,S,5,0,"ng-container",25),e.qZA()(),e.TgZ(31,"div",26)(32,"div",22),e._UZ(33,"img",27),e.TgZ(34,"div",20)(35,"div",28),e._uU(36),e.qZA(),e.TgZ(37,"div",21),e._uU(38),e.qZA()()(),e.TgZ(39,"div",29)(40,"div",30),e._uU(41),e.qZA(),e.YNc(42,Se,1,0,"cf-icon",31),e.YNc(43,le,1,0,"cf-icon",32),e.TgZ(44,"div",30),e._uU(45),e.qZA()()(),e.YNc(46,Xt,14,12,"div",33),e.qZA(),e.TgZ(47,"div",34)(48,"cf-select",11),e.NdJ("selectedChange",function(y){e.CHM(s);const k=e.oxw();return e.KtG(k.onSelectedChange(y))}),e.TgZ(49,"label",35),e._uU(50," Th\xf4ng tin \u0111\u1ea1i l\xfd "),e.qZA(),e.YNc(51,Wt,1,0,"cf-input-hint",12),e.qZA()(),e.YNc(52,ln,19,6,"div",36),e.qZA()}if(2&u){const s=e.oxw();e.xp6(4),e.Q6J("ngIf",s.bookingDetail),e.xp6(6),e.Q6J("status","default")("data",s.optionAgent)("allowSearch",!0)("formControl",s.agentSelectControl)("status",s.agentSelectControl.invalid&&(s.agentSelectControl.touched||s.agentSelectControl.dirty||s.isSubmitted)?"error":"default"),e.xp6(1),e.Q6J("ngIf",s.agentSelectControl.invalid&&(s.agentSelectControl.touched||s.agentSelectControl.dirty||s.isSubmitted)),e.xp6(1),e.Q6J("ngIf",s.priceDetail),e.xp6(2),e.Q6J("disabled",s.isLoading),e.xp6(12),e.Oqu(s.bookingDetail.bookingCode),e.xp6(3),e.Q6J("ngIf","BOOKED"===s.bookingDetail.status),e.xp6(1),e.Q6J("ngIf","ISSUED"===s.bookingDetail.status),e.xp6(3),e.Q6J("src","assets/airline-logo/"+s.bookingDetail.airlineSystem+".png",e.LSH),e.xp6(3),e.Oqu(s.bookingDetail.flightNumber),e.xp6(2),e.Oqu(s.bookingDetail.airlineName),e.xp6(3),e.Oqu(s.bookingDetail.startPoint),e.xp6(1),e.Q6J("ngIf",1===s.bookingDetail.journeys.length),e.xp6(1),e.Q6J("ngIf",s.bookingDetail.journeys.length>1),e.xp6(2),e.Oqu(s.bookingDetail.endPoint),e.xp6(1),e.Q6J("ngIf",2===s.bookingDetail.journeys.length),e.xp6(2),e.Q6J("status","default")("data",s.optionAgent)("allowSearch",!0)("formControl",s.agentSelectControl)("status",s.agentSelectControl.invalid&&(s.agentSelectControl.touched||s.agentSelectControl.dirty||s.isSubmitted)?"error":"default"),e.xp6(3),e.Q6J("ngIf",s.agentSelectControl.invalid&&(s.agentSelectControl.touched||s.agentSelectControl.dirty||s.isSubmitted)),e.xp6(1),e.Q6J("ngIf",s.priceDetail)}}let dn=(()=>{class u{constructor(s,c,y,k){this._fb=c,this._bottomSheetService=y,this._permissionService=k,this.isLoading=!1,this.optionAgent=[],this.hasDiscountFare=!1,this.importBooking=new e.vpe,this.selectedAgent=new e.vpe,this.isSubmitted=!1,this.increaseZIndex=!1,this.iconChevron="chevron_up",this.isBottomSheetOpen=!1,s.registerIcons([N.llu,N.B2I,N.Ffn,N._tC,N.Ey$,N.fqi,N.n78]),this.agentSelectControl=this._fb.control("")}ngOnChanges(s){this.agentSelectControl=this._fb.control("",J.kI.required)}onImport(s){s.stopPropagation(),this.isSubmitted=!0,this.agentSelectControl.valid&&this.importBooking.emit()}onSelectedChange(s){this.selectedAgent.emit(s)}toggle(s){this.isBottomSheetOpen?this.closeBotomSheet():this.openBottomSheet(s)}openBottomSheet(s){this.bottomSheetRef=this._bottomSheetService.open(s,{headerTitle:"Gi\xe1 v\xe9",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4"}),this.increaseZIndex=!0,this.iconChevron="chevron_down",this.isBottomSheetOpen=!0,this.bottomSheetRef.backdropClick().subscribe(()=>{this._bottomSheetService.dismiss(),this.increaseZIndex=!1,this.iconChevron="chevron_up",this.isBottomSheetOpen=!1}),this.bottomSheetRef.containerInstance._rightButtonClick.subscribe(()=>{this._bottomSheetService.dismiss(),this.increaseZIndex=!1,this.iconChevron="chevron_up",this.isBottomSheetOpen=!1})}closeBotomSheet(){this._bottomSheetService.dismiss(),this.increaseZIndex=!1,this.iconChevron="chevron_up",this.isBottomSheetOpen=!1}}return u.\u0275fac=function(s){return new(s||u)(e.Y36(N.KNP),e.Y36(J.qu),e.Y36(X.a2),e.Y36(T.$A))},u.\u0275cmp=e.Xpm({type:u,selectors:[["import-pnr-detail"]],inputs:{bookingDetail:"bookingDetail",priceDetail:"priceDetail",isLoading:"isLoading",optionAgent:"optionAgent",hasDiscountFare:"hasDiscountFare"},outputs:{importBooking:"importBooking",selectedAgent:"selectedAgent"},standalone:!0,features:[e.TTD,e.jDz],decls:3,vars:2,consts:[["class","min-w-[750px] w-full h-full",4,"ngIf","ngIfElse"],["contentTemplate",""],[1,"min-w-[750px]","w-full","h-full"],[1,"flex","gap-x-[20px]","mb-4","md:hidden"],[1,"w-1","bg-primary-2-4"],[1,"text-heading-md","text-neutral-black"],["class","bg-white py-4 px-6 mb-2 shadow-cf-md md:hidden",4,"ngIf"],[1,"bg-white","rounded","shadow-cf-md","flex","flex-col","mb-2","md:hidden"],[1,"text-heading-sm","text-neutral-black","p-6","flex","items-center","gap-x-2"],["icon","circle_information","size","small"],[1,"px-6","pb-6"],["textField","name","valueField","id","placeholder","Ch\u1ecdn \u0111\u1ea1i l\xfd",1,"w-full","!max-w-full",3,"status","data","allowSearch","formControl","selectedChange"],["cfHint","","hint","Vui l\xf2ng ch\u1ecdn \u0111\u1ea1i l\xfd.",4,"ngIf"],["class","bg-white rounded shadow-cf-md flex flex-col md:hidden",4,"ngIf"],[1,"text-right","py-6","px-4","border-t","border-neutral-gray-1","md:hidden"],["cf-button","","size","medium",3,"disabled","click"],[1,"flex-col","w-screen","hidden","md:flex","p-4","pt-0","pb-16"],[1,"text-express-sm","mb-3"],[1,"flex","flex-col","p-3","rounded-lg","bg-neutral-white"],[1,"flex","justify-between"],[1,"flex","flex-col","gap-y-1"],[1,"text-espressive-xs","text-neutral-gray-4"],[1,"flex","items-center","gap-x-2"],[1,"text-heading-md","text-neutral-gray-6"],["icon","copy","size","small",1,"text-neutral-gray-4"],[4,"ngIf"],[1,"flex","items-center","justify-between","mt-3"],[1,"w-9","h-9","object-contain",3,"src"],[1,"text-heading-xs","text-neutral-gray-6"],[1,"flex","items-center","justify-end","gap-x-2","px-3","py-1","rounded","bg-neutral-gray-1"],[1,"text-heading-sm","text-neutral-black"],["icon","arrow_right","size","small",4,"ngIf"],["icon","switch","size","small",4,"ngIf"],["class","flex justify-between items-center mt-3",4,"ngIf"],[1,"p-3","rounded-lg","bg-neutral-white","md:mt-2"],["cfLabel","",1,"text-express-sm","text-black"],["class","felx flex-col",4,"ngIf"],[1,"bg-white","py-4","px-6","mb-2","shadow-cf-md","md:hidden"],[1,"flex","justify-between","items-center","gap-x-7","mb-4"],[1,"h-full","w-full","flex","flex-col","gap-y-1.5","justify-center","items-center"],[1,"w-[120px]","h-[60px]","object-contain",3,"src"],[1,"text-body-sm","flex","flex-nowrap"],[1,"text-espressive-sm","whitespace-nowrap"],[1,"whitespace-nowrap"],[1,"h-5","flex","items-center","px-2","bg-neutral-gray-1","rounded","text-espressive-sm","text-neutral-black"],[1,"w-[2px]","h-[108px]","border-l","border-dashed","border-neutral-gray-1"],[1,"h-full","w-[206px]","shrink-0","flex","flex-col","items-start","justify-center"],["class","text-heading-sm py-1 px-3 bg-neutral-gray-1 rounded  flex gap-x-2 items-center w-fit",4,"ngIf"],["class","mt-3",4,"ngFor","ngForOf"],["class","w-[2px] h-[108px] border-l border-dashed border-neutral-gray-1",4,"ngIf"],[1,"h-full","w-full","flex","flex-col","items-start","py-3","gap-[20px]"],[1,"text-body-md","text-neutral-black"],[1,"text-heading-lg"],[1,"text-espressive-md","text-neutral-black","flex","gap-2.5","items-center"],["icon","checkbox_checked","size","medium",1,"text-secondary-5-4"],[1,"flex","flex-col","items-center"],[1,"text-espressive-md","text-neutral-black","whitespace-nowrap"],[1,"text-heading-sm","py-1","px-3","bg-neutral-gray-1","rounded","flex","gap-x-2","items-center","w-fit"],["icon","arrow_right","size","small"],["icon","switch","size","small"],[1,"mt-3"],[1,"text-espressive-sm","text-neutral-black"],["cfHint","","hint","Vui l\xf2ng ch\u1ecdn \u0111\u1ea1i l\xfd."],[1,"bg-white","rounded","shadow-cf-md","flex","flex-col","md:hidden"],[1,"!pt-0"],[1,"table-auto","w-full"],[1,"border-b","border-neutral-gray-1"],[1,"text-left","text-espressive-sm","text-neutral-gray-4","py-3","pl-3"],[1,"text-left","text-espressive-sm","text-neutral-gray-4","py-3"],[1,"text-right","text-espressive-sm","text-neutral-gray-4","py-3"],["class","text-right text-espressive-sm text-neutral-gray-4 py-3",4,"ngIf"],[1,"text-right","text-espressive-sm","text-neutral-gray-4","py-3","pr-3"],[4,"ngFor","ngForOf"],[1,"text-neutral-gray-1","w-full","mb-4"],[1,"flex","flex-col","items-end","gap-[10px]","pr-3"],[1,"flex","justify-end","items-center","gap-8"],[1,"text-espressive-sm","text-neutral-gray-4"],[1,"min-w-[120px]","text-end","text-body-dm","text-neutral-black"],[1,"min-w-[120px]","text-end","text-heading-md","text-primary-1-4"],[4,"ngIf","ngIfElse"],["noDiscountTempl",""],[1,"text-left","text-body-md","text-neutral-black","py-3","pl-3","uppercase"],[1,"text-left","text-body-md","text-neutral-black","py-3"],[1,"text-right","text-body-md","text-neutral-black","py-3"],["class","text-right text-body-md text-secondary-5-3 py-3",4,"ngIf"],[1,"text-right","text-body-md","text-neutral-black","py-3","pr-3"],[1,"text-right","text-body-md","text-secondary-5-3","py-3"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg",1,"text-secondary-7-4"],["d","M7.99968 1.33337C6.68114 1.33337 5.3922 1.72437 4.29588 2.45691C3.19955 3.18945 2.34506 4.23064 1.84048 5.44882C1.3359 6.66699 1.20387 8.00744 1.46111 9.30064C1.71834 10.5939 2.35328 11.7817 3.28563 12.7141C4.21798 13.6464 5.40587 14.2814 6.69908 14.5386C7.99228 14.7958 9.33273 14.6638 10.5509 14.1592C11.7691 13.6547 12.8103 12.8002 13.5428 11.7038C14.2754 10.6075 14.6663 9.31858 14.6663 8.00004C14.6612 6.23351 13.9572 4.54079 12.7081 3.29166C11.4589 2.04253 9.76621 1.3385 7.99968 1.33337ZM6.88857 11.0078L4.27357 8.39282C4.05664 8.17589 4.05664 7.82419 4.27357 7.60726C4.49049 7.39034 4.8422 7.39034 5.05912 7.60726L6.88857 9.43671L10.9402 5.38504C11.1572 5.16812 11.5089 5.16812 11.7258 5.38504C11.9427 5.60197 11.9427 5.95367 11.7258 6.1706L6.88857 11.0078Z","fill","currentColor"],[1,"text-espressive-md","text-neutral-gray-6"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg",1,"text-secondary-5-4"],[1,"flex","justify-between","items-center","mt-3"],[1,"flex","flex-col","gap-y-1","items-center"],[1,"felx","flex-col"],[1,"text-express-sm","mb-3","mt-4"],["class","flex flex-col rounded-lg bg-neutral-white p-3 gap-y-2 mb-4",4,"ngFor","ngForOf"],[1,"fixed","bottom-0","left-0","w-screen","bg-white","shadow-cf-large-top","p-3","flex","items-center","justify-between","z-[1]",3,"click"],[1,"flex","flex-col"],[1,"flex","items-center","gap-x-1"],[1,"text-express-xs","text-neutral-gray-4","mt-1"],[1,"text-heading-sm","text-neutral-gray-6"],["size","small",3,"icon"],["cf-button","",1,"w-24","justify-center",3,"click"],["totalPriceBts",""],[1,"flex","flex-col","rounded-lg","bg-neutral-white","p-3","gap-y-2","mb-4"],[1,"flex","items-center","gap-x-5"],[1,"text-body-sm","text-neutral-gray-4","w-[104px]"],["class","flex items-center gap-x-5",4,"ngIf"],[1,"text-espressive-md","text-secondary-5-3"],[1,"w-full","flex","flex-col","py-2","px-4","gap-y-1.5","pb-[75px]"],[1,"flex","justify-between","w-full"],[1,"text-body-sm","text-neutral-gray-4"],[1,"text-body-md-short","text-neutral-gray-6"]],template:function(s,c){if(1&s&&(e.YNc(0,Mt,5,0,"div",0),e.YNc(1,cn,53,27,"ng-template",null,1,e.W1O)),2&s){const y=e.MAs(2);e.Q6J("ngIf",c.isLoading)("ngIfElse",y)}},dependencies:[m.ez,m.sg,m.O5,m.JJ,m.uU,ie.j$,ie.v2,_.IA,N.AxE,N.Sm8,F.N8,F.Xq,Ae.q,J.u5,J.JJ,J.UX,J.oH,he.f],encapsulation:2}),u})();var tt=C(88516),nt=C(19123),pn=C(57085),_n=C(34541),Le=C(15439);function gn(u,h){1&u&&e._UZ(0,"cf-input-hint",26),2&u&&e.Q6J("hint","Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng, ch\u1ec9 nh\u1eadp ch\u1eef")}function fn(u,h){1&u&&e._UZ(0,"cf-input-hint",26),2&u&&e.Q6J("hint","Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng, ch\u1ec9 nh\u1eadp ch\u1eef")}function mn(u,h){1&u&&e._UZ(0,"cf-input-hint",26),2&u&&e.Q6J("hint","Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function hn(u,h){1&u&&e._UZ(0,"cf-input-hint",26),2&u&&e.Q6J("hint","Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function xn(u,h){1&u&&e._UZ(0,"cf-input-hint",26),2&u&&e.Q6J("hint","Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng, ch\u1ec9 nh\u1eadp ch\u1eef")}function vn(u,h){1&u&&e._UZ(0,"cf-input-hint",26),2&u&&e.Q6J("hint","Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function Cn(u,h){1&u&&e._UZ(0,"cf-input-hint",26),2&u&&e.Q6J("hint","L\u1edbn h\u01a1n 12 tu\u1ed5i")}function bn(u,h){1&u&&e._UZ(0,"cf-input-hint",26),2&u&&e.Q6J("hint","Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng, ch\u1ec9 nh\u1eadp s\u1ed1")}function yn(u,h){1&u&&e._UZ(0,"cf-input-hint",26),2&u&&e.Q6J("hint","Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng, nh\u1eadp \u0111\u01b0\u1ee3c c\u1ea3 s\u1ed1 v\xe0 ch\u1eef")}var ve=(()=>{return(u=ve||(ve={})).ONE_WAY="ONE_WAY",u.ROUND_TRIP="ROUND_TRIP",u.MULTI_WAY="MULTI_WAY",ve;var u})();let En=(()=>{class u{constructor(s,c,y,k,Y,fe){this.ref=s,this.bottomSheetData=c,this.bottomSheetRef=y,this._cfRegister=k,this.fb=Y,this.calendar=fe,this.FLIGHT_TYPE=ve,this.flightType=ve.ONE_WAY,k.registerIcons([N.UNF])}ngOnInit(){this.initFormGroup()}initFormGroup(){var s;this.formGroup=this.fb.group({fullNamePax:[null,J.kI.required],dob:[null,J.kI.required],ticketNumber:[null,J.kI.required],fareBasic:[null,J.kI.required],localDepartureTime:[null,J.kI.required],issuedTime:[null,J.kI.required],startPoint:[null,J.kI.required],endPoint:[null,J.kI.required]},{validators:[(0,pn.fJ)("dob",((null===(s=this.formGroup)||void 0===s?void 0:s.value.localDepartureTime)||new Date).getTime())]})}flightTypeChange(s){var c,y,k,Y,fe,ye,Ee,Ze;this.flightType=s,this.flightType===ve.MULTI_WAY?(null===(c=this.formGroup.get("startPoint"))||void 0===c||c.setValidators(null),null===(y=this.formGroup.get("startPoint"))||void 0===y||y.updateValueAndValidity(),null===(k=this.formGroup.get("endPoint"))||void 0===k||k.setValidators(null),null===(Y=this.formGroup.get("endPoint"))||void 0===Y||Y.updateValueAndValidity()):(null===(fe=this.formGroup.get("startPoint"))||void 0===fe||fe.setValidators([J.kI.required]),null===(ye=this.formGroup.get("startPoint"))||void 0===ye||ye.updateValueAndValidity(),null===(Ee=this.formGroup.get("endPoint"))||void 0===Ee||Ee.setValidators([J.kI.required]),null===(Ze=this.formGroup.get("endPoint"))||void 0===Ze||Ze.updateValueAndValidity())}ok(){var s,c,y,k,Y,fe,ye,Ee,Ze,He,Ve,ze,Ke,$e;if(this.formGroup.invalid)return;const te=this.formGroup.value;let Ye=[];switch(this.flightType){case ve.ONE_WAY:Ye=[{leg:0,startPoint:(null===(c=null===(s=te.startPoint)||void 0===s?void 0:s.trim())||void 0===c?void 0:c.toUpperCase())||"",endPoint:(null===(k=null===(y=te.endPoint)||void 0===y?void 0:y.trim())||void 0===k?void 0:k.toUpperCase())||""}];break;case ve.ROUND_TRIP:Ye=[{leg:0,startPoint:(null===(fe=null===(Y=te.startPoint)||void 0===Y?void 0:Y.trim())||void 0===fe?void 0:fe.toUpperCase())||"",endPoint:(null===(Ee=null===(ye=te.endPoint)||void 0===ye?void 0:ye.trim())||void 0===Ee?void 0:Ee.toUpperCase())||""},{leg:1,startPoint:(null===(He=null===(Ze=te.endPoint)||void 0===Ze?void 0:Ze.trim())||void 0===He?void 0:He.toUpperCase())||"",endPoint:(null===(ze=null===(Ve=te.startPoint)||void 0===Ve?void 0:Ve.trim())||void 0===ze?void 0:ze.toUpperCase())||""}];break;default:Ye=[]}const it={dob:te.dob?Le(te.dob).format("YYYY-MM-DD"):"",fareBasic:te.fareBasic||"",fullNamePax:(null===($e=null===(Ke=te.fullNamePax)||void 0===Ke?void 0:Ke.trim())||void 0===$e?void 0:$e.toUpperCase())||"",issuedTime:te.issuedTime?Le(te.issuedTime).format("YYYY-MM-DD")+"T00:00:00":"",localDepartureTime:te.localDepartureTime?Le(te.localDepartureTime).format("YYYY-MM-DD")+"T00:00:00":"",ticketNumber:te.ticketNumber||"",journeysInfo:Ye};this.ref&&this.ref.close(it),this.bottomSheetRef&&this.bottomSheetRef.dismiss(it)}close(){this.ref&&this.ref.close(!1),this.bottomSheetRef&&this.bottomSheetRef.dismiss(!1)}}return u.\u0275fac=function(s){return new(s||u)(e.Y36(R.gb,8),e.Y36(X.Rr,8),e.Y36(X.Zu,8),e.Y36(N.KNP),e.Y36(J.qu),e.Y36(tt.jH))},u.\u0275cmp=e.Xpm({type:u,selectors:[["import-original-ticket"]],hostAttrs:[1,"md:w-full"],standalone:!0,features:[e.jDz],decls:67,vars:46,consts:[[1,"w-[748px]","max-h-[600px]","md:max-h-full","md:w-full","md:h-full","overflow-hidden","rounded-lg","bg-neutral-white","flex","flex-col","md:justify-between"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-b-neutral-gray-1","md:hidden"],[1,"text-heading-xs","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"p-6","overflow-auto","flex","flex-col","gap-y-4"],[1,"flex","items-center","gap-x-8",3,"ngModel","checkChange","ngModelChange"],["size","medium",3,"value"],[1,"grid","grid-cols-2","gap-4","md:grid-cols-1"],[1,"grow-[400]","!w-full",3,"disabled","status"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5",3,"CfRequired"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp \u0111i\u1ec3m \u0111i",3,"formControl"],["cfHint","",3,"hint",4,"ngIf"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp \u0111i\u1ec3m \u0111\u1ebfn",3,"formControl"],[1,"grow-[400]","!w-full",3,"status"],["autocomplete","off","cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Nh\u1eadp ng\xe0y bay",1,"py-[7px]",3,"secondaryCalendar","displayMonths","formControl","input","dateSelect"],["departureFrom","cfDatepicker"],["autocomplete","off","cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Nh\u1eadp ng\xe0y sinh",1,"py-[7px]",3,"secondaryCalendar","displayMonths","formControl","input","dateSelect"],["issuedTimeFrom","cfDatepicker"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp h\u1ecd t\xean",3,"formControl"],[1,"text-neutral-gray-4","text-espressive-sm"],["dobFrom","cfDatepicker"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp s\u1ed1 v\xe9",3,"formControl"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp Fare Basis",3,"formControl"],[1,"p-6","flex","gap-x-4","justify-end","md:justify-between"],["cf-button","","size","medium","type","secondary",1,"min-w-[100px]","md:w-full","justify-center",3,"click"],["cf-button","","size","medium","color","primary-1",1,"min-w-fit","md:w-full","justify-center",3,"disabled","click"],["cfHint","",3,"hint"]],template:function(s,c){if(1&s){const y=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Nh\u1eadp v\xe9 g\u1ed1c"),e.qZA(),e.TgZ(4,"cf-icon",3),e.NdJ("click",function(){return c.close()}),e.qZA()(),e.TgZ(5,"div",4)(6,"cf-radio-group",5),e.NdJ("checkChange",function(Y){return c.flightTypeChange(Y)})("ngModelChange",function(Y){return c.flightType=Y}),e.TgZ(7,"cf-radio",6),e._uU(8,"M\u1ed9t chi\u1ec1u"),e.qZA(),e.TgZ(9,"cf-radio",6),e._uU(10,"Kh\u1ee9 h\u1ed3i"),e.qZA(),e.TgZ(11,"cf-radio",6),e._uU(12,"\u0110a ch\u1eb7ng"),e.qZA()(),e.TgZ(13,"div",7)(14,"cf-input-group",8)(15,"label",9),e._uU(16," \u0110i\u1ec3m \u0111i "),e.qZA(),e._UZ(17,"input",10),e.YNc(18,gn,1,1,"cf-input-hint",11),e.qZA(),e.TgZ(19,"cf-input-group",8)(20,"label",9),e._uU(21," \u0110i\u1ec3m \u0111\u1ebfn "),e.qZA(),e._UZ(22,"input",12),e.YNc(23,fn,1,1,"cf-input-hint",11),e.qZA(),e.TgZ(24,"cf-input-group",13)(25,"label",9),e._uU(26," Ng\xe0y bay "),e.qZA(),e.TgZ(27,"input",14,15),e.NdJ("input",function(){e.CHM(y);const Y=e.MAs(28);return e.KtG(Y.close())})("dateSelect",function(){e.CHM(y);const Y=e.MAs(28);return e.KtG(Y.close())}),e.qZA(),e.YNc(29,mn,1,1,"cf-input-hint",11),e.qZA(),e.TgZ(30,"cf-input-group",13)(31,"label",9),e._uU(32," Ng\xe0y xu\u1ea5t v\xe9 "),e.qZA(),e.TgZ(33,"input",16,17),e.NdJ("input",function(){e.CHM(y);const Y=e.MAs(34);return e.KtG(Y.close())})("dateSelect",function(){e.CHM(y);const Y=e.MAs(34);return e.KtG(Y.close())}),e.qZA(),e.YNc(35,hn,1,1,"cf-input-hint",11),e.qZA(),e.TgZ(36,"cf-input-group",13)(37,"label",9),e._uU(38," H\u1ecd v\xe0 t\xean "),e.qZA(),e._UZ(39,"input",18),e.YNc(40,xn,1,1,"cf-input-hint",11),e.qZA(),e.TgZ(41,"cf-input-group",13)(42,"label",9)(43,"span"),e._uU(44,"Ng\xe0y sinh"),e.qZA(),e._uU(45,"\xa0 "),e.TgZ(46,"span",19),e._uU(47," (L\u1edbn h\u01a1n 12 tu\u1ed5i) "),e.qZA()(),e.TgZ(48,"input",16,20),e.NdJ("input",function(){e.CHM(y);const Y=e.MAs(49);return e.KtG(Y.close())})("dateSelect",function(){e.CHM(y);const Y=e.MAs(49);return e.KtG(Y.close())}),e.qZA(),e.YNc(50,vn,1,1,"cf-input-hint",11),e.YNc(51,Cn,1,1,"cf-input-hint",11),e.qZA(),e.TgZ(52,"cf-input-group",13)(53,"label",9),e._uU(54," S\u1ed1 v\xe9 "),e.qZA(),e._UZ(55,"input",21),e.YNc(56,bn,1,1,"cf-input-hint",11),e.qZA(),e.TgZ(57,"cf-input-group",13)(58,"label",9),e._uU(59," Fare Basis "),e.qZA(),e._UZ(60,"input",22),e.YNc(61,yn,1,1,"cf-input-hint",11),e.qZA()()(),e.TgZ(62,"div",23)(63,"button",24),e.NdJ("click",function(){return c.close()}),e._uU(64," \u0110\xf3ng "),e.qZA(),e.TgZ(65,"button",25),e.NdJ("click",function(){return c.ok()}),e._uU(66," X\xe1c nh\u1eadn "),e.qZA()()()}2&s&&(e.xp6(6),e.Q6J("ngModel",c.flightType),e.xp6(1),e.Q6J("value",c.FLIGHT_TYPE.ONE_WAY),e.xp6(2),e.Q6J("value",c.FLIGHT_TYPE.ROUND_TRIP),e.xp6(2),e.Q6J("value",c.FLIGHT_TYPE.MULTI_WAY),e.xp6(3),e.Q6J("disabled",c.flightType===c.FLIGHT_TYPE.MULTI_WAY)("status",c.formGroup.controls.startPoint.invalid&&(c.formGroup.controls.startPoint.dirty||c.formGroup.controls.startPoint.touched)?"error":"default"),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",c.formGroup.controls.startPoint),e.xp6(1),e.Q6J("ngIf",c.formGroup.controls.startPoint.hasError("required")&&(c.formGroup.controls.startPoint.touched||c.formGroup.controls.startPoint.dirty)),e.xp6(1),e.Q6J("disabled",c.flightType===c.FLIGHT_TYPE.MULTI_WAY)("status",c.formGroup.controls.endPoint.invalid&&(c.formGroup.controls.endPoint.dirty||c.formGroup.controls.endPoint.touched)?"error":"default"),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",c.formGroup.controls.endPoint),e.xp6(1),e.Q6J("ngIf",c.formGroup.controls.endPoint.hasError("required")&&(c.formGroup.controls.endPoint.touched||c.formGroup.controls.endPoint.dirty)),e.xp6(1),e.Q6J("status",c.formGroup.controls.localDepartureTime.invalid&&(c.formGroup.controls.localDepartureTime.dirty||c.formGroup.controls.localDepartureTime.touched)?"error":"default"),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("formControl",c.formGroup.controls.localDepartureTime),e.xp6(2),e.Q6J("ngIf",c.formGroup.controls.localDepartureTime.hasError("required")&&(c.formGroup.controls.localDepartureTime.touched||c.formGroup.controls.localDepartureTime.dirty)),e.xp6(1),e.Q6J("status",c.formGroup.controls.issuedTime.invalid&&(c.formGroup.controls.issuedTime.dirty||c.formGroup.controls.issuedTime.touched)?"error":"default"),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("formControl",c.formGroup.controls.issuedTime),e.xp6(2),e.Q6J("ngIf",c.formGroup.controls.issuedTime.hasError("required")&&(c.formGroup.controls.issuedTime.touched||c.formGroup.controls.issuedTime.dirty)),e.xp6(1),e.Q6J("status",c.formGroup.controls.fullNamePax.invalid&&(c.formGroup.controls.fullNamePax.dirty||c.formGroup.controls.fullNamePax.touched)?"error":"default"),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",c.formGroup.controls.fullNamePax),e.xp6(1),e.Q6J("ngIf",c.formGroup.controls.fullNamePax.hasError("required")&&(c.formGroup.controls.fullNamePax.touched||c.formGroup.controls.fullNamePax.dirty)),e.xp6(1),e.Q6J("status",c.formGroup.controls.dob.invalid&&(c.formGroup.controls.dob.dirty||c.formGroup.controls.dob.touched)?"error":"default"),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(6),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("formControl",c.formGroup.controls.dob),e.xp6(2),e.Q6J("ngIf",c.formGroup.controls.dob.hasError("required")&&(c.formGroup.controls.dob.touched||c.formGroup.controls.dob.dirty)),e.xp6(1),e.Q6J("ngIf",c.formGroup.controls.dob.hasError("DoBAdult")&&c.formGroup.controls.dob.touched),e.xp6(1),e.Q6J("status",c.formGroup.controls.ticketNumber.invalid&&(c.formGroup.controls.ticketNumber.dirty||c.formGroup.controls.ticketNumber.touched)?"error":"default"),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",c.formGroup.controls.ticketNumber),e.xp6(1),e.Q6J("ngIf",c.formGroup.controls.ticketNumber.hasError("required")&&(c.formGroup.controls.ticketNumber.touched||c.formGroup.controls.ticketNumber.dirty)),e.xp6(1),e.Q6J("status",c.formGroup.controls.fareBasic.invalid&&(c.formGroup.controls.fareBasic.dirty||c.formGroup.controls.fareBasic.touched)?"error":"default"),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",c.formGroup.controls.fareBasic),e.xp6(1),e.Q6J("ngIf",c.formGroup.controls.fareBasic.hasError("required")&&(c.formGroup.controls.fareBasic.touched||c.formGroup.controls.fareBasic.dirty)),e.xp6(4),e.Q6J("disabled",c.formGroup.invalid))},dependencies:[m.ez,m.O5,N.AxE,N.Sm8,F.N8,F.Xq,ie.j$,ie.ND,ie.BN,ie.v2,J.u5,J.Fj,J.JJ,J.On,J.UX,J.oH,tt.Cs,_n.C,nt.o,nt.T],encapsulation:2}),u})()},57085:(Ue,oe,C)=>{C.d(oe,{bz:()=>m,fJ:()=>j,$K:()=>F,DW:()=>N,Ab:()=>f,i4:()=>T,aV:()=>_});const m=(w,Q)=>w.get(Q);var e=C(15439);const F=(w,Q)=>E=>{const p=E.controls[w];if(!p.value)return;const O=e(Q).startOf("day").toDate().getTime(),L=e(p.value).startOf("day").toDate();L.setFullYear(L.getFullYear()+2);const $=L.getTime(),H=e(p.value).toDate();H.setFullYear(H.getFullYear()+12);const ce=H.getTime();O<=ce&&O>=$?p.setErrors(null):O<=ce?p.setErrors({DoBChildUnder:!0}):O>$&&p.setErrors({DoBChildUpper:!0})},N=(w,Q)=>E=>{const p=E.controls[w];if(!p.value)return;const O=e(Q).startOf("day").add(0,"hours").toDate().getTime(),L=e(p.value).startOf("day").toDate().getTime(),$=e(p.value).startOf("day").toDate();$.setFullYear($.getFullYear()+2);const H=$.getTime();p.setErrors(O<H&&O>L?null:{DoBInfant:!0})},j=(w,Q)=>E=>{const p=E.controls[w];if(!p.value)return;const O=e(Q).startOf("day").add(0,"hours").toDate().getTime(),L=e(p.value).toDate().getTime();p.setErrors(O-L>=378683424e3?null:{DoBAdult:!0})},f=w=>Q=>{const E=Q.controls[w];E.value&&E.setErrors(""!=E.value?null:{required:!0})},_=()=>w=>{let Q=[];for(let E=0;E<w.controls.infantPassenger.controls.length;E++){const p=w.controls.infantPassenger.at(E).controls.parentIndex.value;Q.push({index:E,parentIndex:p})}for(let E=0;E<w.controls.infantPassenger.controls.length;E++){const p=w.controls.infantPassenger.at(E).controls.parentIndex.value;Q.filter(L=>L.parentIndex===p).length>1?w.controls.infantPassenger.at(E).controls.parentIndex.setErrors({ParentInfantDupplicate:!0}):w.controls.infantPassenger.at(E).controls.parentIndex.setErrors(null)}},T=(w,Q)=>E=>{const p=E.controls[w],O=E.controls[Q];if(!p.value||!O.value)return;const L=e(p.value).startOf("day").add(0,"hours").toDate().getTime();e(O.value).startOf("day").add(0,"hours").toDate().getTime()<=L?p.setErrors({issuanceDateInvalid:!0}):p.setErrors(null)}},57716:(Ue,oe,C)=>{C.d(oe,{p:()=>e});var m=C(94650);let e=(()=>{class F{constructor(j){this.el=j}onInputChange(j){const f=this.el.nativeElement,_=f.value,T=this.removeVietnameseAccents(_),w=this.removeSpecialCharacters(T);_!==w&&(f.value=w)}removeVietnameseAccents(j){const f={\u00e2:"aa",\u0103:"aw",\u00e1:"a",\u00e0:"a",\u1ea3:"a",\u00e3:"a",\u1ea1:"a",\u00ea:"ee",\u00e9:"e",\u00e8:"e",\u1ebb:"e",\u1ebd:"e",\u1eb9:"e",\u00f4:"oo",\u01a1:"ow",\u00f3:"o",\u00f2:"o",\u1ecf:"o",\u00f5:"o",\u1ecd:"o",\u01b0:"uw",\u00fa:"u",\u00f9:"u",\u1ee7:"u",\u0169:"u",\u1ee5:"u",\u00ed:"i",\u00ec:"i",\u1ec9:"i",\u0129:"i",\u1ecb:"i",\u00fd:"y",\u1ef3:"y",\u1ef7:"y",\u1ef9:"y",\u1ef5:"y",\u0111:"dd",\u00c2:"AA",\u0102:"AW",\u00c1:"A",\u00c0:"A",\u1ea2:"A",\u00c3:"A",\u1ea0:"A",\u00ca:"EE",\u00c9:"E",\u00c8:"E",\u1eba:"E",\u1ebc:"E",\u1eb8:"E",\u00d4:"OO",\u01a0:"OW",\u00d3:"O",\u00d2:"O",\u1ece:"O",\u00d5:"O",\u1ecc:"O",\u01af:"UW",\u00da:"U",\u00d9:"U",\u1ee6:"U",\u0168:"U",\u1ee4:"U",\u00cd:"I",\u00cc:"I",\u1ec8:"I",\u0128:"I",\u1eca:"I",\u00dd:"Y",\u1ef2:"Y",\u1ef6:"Y",\u1ef8:"Y",\u1ef4:"Y",\u0110:"DD"};return j.replace(/[\u00C0-\u1EF9]/g,T=>f[T]||T).toUpperCase()}removeSpecialCharacters(j){return j.replace(/[^a-zA-Z0-9]/g,"")}}return F.\u0275fac=function(j){return new(j||F)(m.Y36(m.SBq))},F.\u0275dir=m.lG2({type:F,selectors:[["","CfRemoveAccents",""]],hostBindings:function(j,f){1&j&&m.NdJ("input",function(T){return f.onInputChange(T)})},standalone:!0}),F})()},35650:(Ue,oe,C)=>{C.d(oe,{Z:()=>N});var m=C(91998),e=C(80953),F=C(40833);function N(j,f){(0,F.Z)(2,arguments);var _=(0,e.Z)(j),T=(0,m.Z)(f);return isNaN(T)?new Date(NaN):(T&&_.setDate(_.getDate()+T),_)}},43201:(Ue,oe,C)=>{C.d(oe,{Z:()=>j});var m=C(91998),e=C(80953),F=C(40833);function j(f,_){return(0,F.Z)(2,arguments),function N(f,_){(0,F.Z)(2,arguments);var T=(0,e.Z)(f),w=(0,m.Z)(_);if(isNaN(w))return new Date(NaN);if(!w)return T;var Q=T.getDate(),E=new Date(T.getTime());return E.setMonth(T.getMonth()+w+1,0),Q>=E.getDate()?E:(T.setFullYear(E.getFullYear(),E.getMonth(),Q),T)}(f,12*(0,m.Z)(_))}},4688:(Ue,oe,C)=>{C.d(oe,{b:()=>f});var m=C(36895),e=C(94650),F=C(72506);function N(_,T){if(1&_){const w=e.EpF();e.TgZ(0,"cf-icon",3),e.NdJ("click",function(E){e.CHM(w);const p=e.oxw();return e.KtG(p.close(E))}),e.qZA()}}const j=["*"];let f=(()=>{class _{constructor(w,Q,E){this.renderer=w,this.elementRef=Q,this.mode="default",this.type="solid",this.size="medium",this.color="red",this.onClose=new e.vpe,E.registerIcons([F.UNF])}ngOnChanges(w){this.loadClasses()}ngOnInit(){this.loadClasses()}loadClasses(){this.classes="rounded inline-flex justify-center items-center gap-x-1 "+this.getSizeClass()+" "+this.getModeClass()}getSizeClass(){return"small"===this.size?"py-1 px-2 text-express-sm":"xsmall"===this.size?"py-[2px] px-1 text-express-sm":"py-1.5 px-3 text-express-md"}getModeClass(){return"outline"===this.type?`bg-white bordertext-${this.color}-4 border-${this.color}-4`:"inverted"===this.type?`bg-${this.color}-1 text-${this.color}-4`:"gray-2"===this.color?"text-neutral-gray-6 bg-neutral-gray-2":`text-neutral-white bg-${this.color}-4`}close(w){this.onClose.emit(w),w.defaultPrevented||this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}}return _.\u0275fac=function(w){return new(w||_)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(F.KNP))},_.\u0275cmp=e.Xpm({type:_,selectors:[["cf-label"]],hostVars:2,hostBindings:function(w,Q){2&w&&e.Tol(Q.classes)},inputs:{mode:"mode",type:"type",size:"size",color:"color"},outputs:{onClose:"onClose"},standalone:!0,features:[e.TTD,e.jDz],ngContentSelectors:j,decls:4,vars:1,consts:[[1,"flex","justify-between","items-center","gap-x-2"],[1,"text-ellipsis","overflow-hidden","whitespace-normal","flex","items-center"],["icon","close","size","small","class","cursor-pointer",3,"click",4,"ngIf"],["icon","close","size","small",1,"cursor-pointer",3,"click"]],template:function(w,Q){1&w&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1),e.Hsn(2),e.qZA(),e.YNc(3,N,1,0,"cf-icon",2),e.qZA()),2&w&&(e.xp6(3),e.Q6J("ngIf","closeable"===Q.mode))},dependencies:[m.ez,m.O5,F.AxE,F.Sm8],encapsulation:2,changeDetection:0}),_})()}}]);