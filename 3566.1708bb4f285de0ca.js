"use strict";(self.webpackChunkcheapflightclient=self.webpackChunkcheapflightclient||[]).push([[3566],{93566:(tn,fe,C)=>{C.r(fe),C.d(fe,{StatisticEndOfDayPageComponent:()=>Rt,StatisticManagementPageComponent:()=>dt});var x=C(36895),b=C(24006),I=C(83700),Z=C(88516),S=C(72506),O=C(44143),se=C(74713),L=C(48373),ue=C(67534),H=C(40899),Te=C(35119),De=C(81664),be=C(47910),W=C(28746),e=C(94650);let Se=(()=>{class a{transform(t,n,o){return t}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275pipe=e.Yjl({name:"replace",type:a,pure:!0,standalone:!0}),a})();var V=C(10908),q=C(15439),pe=C(88001),z=C(97579);function ye(a,d){1&a&&e._UZ(0,"cf-input-hint",19),2&a&&e.Q6J("hint","Th\u1eddi gian kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}let Fe=(()=>{class a{constructor(t,n,o,i,r){this.ref=t,this.bottomSheetData=n,this.bottomSheetRef=o,this.cfIconRegister=i,this._fb=r,this.providerSelectOption=[],this.supplierSelectOption=[],this.invalidTimeFilter=!1,this.provider=pe.QK.QH,i.registerIcons([S.UNF]);const h=new Date;this.startTime=new Date,this.startTime.setDate(h.getDate()-1),this.endTime=new Date,this.endTime.setDate(h.getDate()-1);const y=(0,x.p6)(this.startTime,"dd/MM/yyyy","vi-VN"),c=(0,x.p6)(this.endTime,"dd/MM/yyyy","vi-VN");this.dateRangeStr=y+" - "+c}ngOnInit(){this.providerSelectOption=[{text:"Bamboo Airways",value:pe.QK.QH}]}onDateSelection(t,n,o,i){if(n||o)if(n&&!o&&t&&t.getTime()>=n.getTime()){this.endTime=t,i.close(),this.startDate=n;const r=q(t).format("DD/MM/YYYY");this.dateRangeStr+=r}else{this.startTime=t,this.endTime=null;const r=q(t).format("DD/MM/YYYY");this.dateRangeStr=r+" - "}else{this.startTime=t,this.endTime=null;const r=q(t).format("DD/MM/YYYY");this.dateRangeStr=r+" - "}this.invalidTimeFilter=!(this.startTime&&this.endTime)}close(){this.ref&&this.ref.close(!1),this.bottomSheetData&&this.bottomSheetRef.dismiss(!1)}ok(){if(this.invalidTimeFilter)return;const t={startDate:this.startTime,endDate:this.endTime,provider:this.provider};this.ref&&this.ref.close(t),this.bottomSheetData&&this.bottomSheetRef.dismiss(t)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(z.gb,8),e.Y36(V.Rr,8),e.Y36(V.Zu,8),e.Y36(S.KNP),e.Y36(b.qu))},a.\u0275cmp=e.Xpm({type:a,selectors:[["filter-export-excel-accountant"]],standalone:!0,features:[e.jDz],decls:24,vars:15,consts:[[1,"w-[344px]","max-h-[600px]","overflow-hidden","rounded-lg","bg-neutral-white","flex","flex-col","md:hidden"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-b-neutral-gray-1","md:hidden"],[1,"text-heading-xs","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"p-6","w-full","h-full","flex-1","overflow-auto","flex","flex-col","gap-y-4"],[1,"flex","gap-x-2","flex-col"],[1,"grow","!w-full",3,"status"],["cfHeadIcon","","icon","calendar","size","small"],["cfLabel","",1,"mb-1.5"],["cf-input","","type","text","size","medium","placeholder","Ch\u1ecdn kho\u1ea3ng th\u1eddi gian",1,"py-[7px]",3,"ngModel","click","ngModelChange"],[1,"hidden"],["cfHint","",3,"hint",4,"ngIf"],["cfDatepicker","","type","text","outsideDays","hidden",1,"w-0","h-0","m-0","mr-2","bottom-0",3,"secondaryCalendar","displayMonths","rangeSelection","containerWidth","startDate","canReset","fromDate","toDate","dateSelect"],["dateRange","cfDatepicker"],["textField","text","valueField","value","size","medium","placeholder","Ch\u1ecdn provider",1,"w-full",3,"ngModel","data","allowSearch","ngModelChange"],["cfLabel",""],[1,"flex","justify-end","gap-x-4","pb-6","pr-6","md:p-4"],["cf-button","","size","medium","type","secondary",1,"md:w-full","md:justify-center",3,"click"],["cf-button","","size","medium","color","primary-1",1,"md:w-full","md:justify-center",3,"disabled","click"],["cfHint","",3,"hint"]],template:function(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Xu\u1ea5t Excel format h\xe3ng"),e.qZA(),e.TgZ(4,"cf-icon",3),e.NdJ("click",function(){return n.close()}),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5)(7,"cf-input-group",6),e._UZ(8,"cf-icon",7),e.TgZ(9,"label",8),e._uU(10," Kho\u1ea3ng th\u1eddi gian "),e.qZA(),e.TgZ(11,"input",9),e.NdJ("click",function(){e.CHM(o);const r=e.MAs(15);return e.KtG(r.open())})("ngModelChange",function(r){return n.dateRangeStr=r}),e.qZA(),e.TgZ(12,"div",10),e.YNc(13,ye,1,1,"cf-input-hint",11),e.qZA()(),e.TgZ(14,"input",12,13),e.NdJ("dateSelect",function(r){e.CHM(o);const h=e.MAs(15);return e.KtG(n.onDateSelection(r,n.startTime,n.endTime,h))}),e.qZA()(),e.TgZ(16,"cf-select",14),e.NdJ("ngModelChange",function(r){return n.provider=r}),e.TgZ(17,"label",15),e._uU(18,"Provider"),e.qZA()()(),e.TgZ(19,"div",16)(20,"button",17),e.NdJ("click",function(){return n.close()}),e._uU(21," \u0110\xf3ng "),e.qZA(),e.TgZ(22,"button",18),e.NdJ("click",function(){return n.ok()}),e._uU(23," Xu\u1ea5t Excel "),e.qZA()()()}2&t&&(e.xp6(7),e.Q6J("status",n.invalidTimeFilter?"error":"default"),e.xp6(4),e.Q6J("ngModel",n.dateRangeStr),e.xp6(2),e.Q6J("ngIf",n.invalidTimeFilter),e.xp6(1),e.Q6J("secondaryCalendar","lunar")("displayMonths",2)("rangeSelection",!0)("containerWidth",600)("startDate",n.startDate)("canReset",!1)("fromDate",n.startTime)("toDate",n.endTime),e.xp6(2),e.Q6J("ngModel",n.provider)("data",n.providerSelectOption)("allowSearch",!1),e.xp6(6),e.Q6J("disabled",n.invalidTimeFilter))},dependencies:[x.ez,x.O5,S.AxE,S.Sm8,I.N8,I.Xq,O.j$,O.ND,O.BN,O.v2,Z.Cs,b.u5,b.Fj,b.JJ,b.On,b.UX,se.q],encapsulation:2}),a})();var de=C(80750),ve=C(19123),ge=C(77296),xe=C(80529),ee=C(54004),te=C(50494),l=C(97582),s=C(87067),B=C(43429);class F{}(0,l.gn)([(0,s.C)()],F.prototype,"timeIssue",void 0),(0,l.gn)([(0,s.C)()],F.prototype,"ticketNum",void 0),(0,l.gn)([(0,s.C)()],F.prototype,"bookingCode",void 0),(0,l.gn)([(0,s.C)()],F.prototype,"provider",void 0),(0,l.gn)([(0,s.C)()],F.prototype,"supplier",void 0),(0,l.gn)([(0,s.C)()],F.prototype,"journeyInfo",void 0),(0,l.gn)([(0,s.C)()],F.prototype,"airline",void 0),(0,l.gn)([(0,s.C)()],F.prototype,"description",void 0),(0,l.gn)([(0,s.C)()],F.prototype,"account",void 0),(0,l.gn)([(0,s.C)()],F.prototype,"ticketPrice",void 0),(0,l.gn)([(0,s.C)()],F.prototype,"serviceFee",void 0),(0,l.gn)([(0,s.C)()],F.prototype,"discountNow",void 0),(0,l.gn)([(0,s.C)()],F.prototype,"discountAfter",void 0),(0,l.gn)([(0,B.D)(()=>ne),(0,s.C)()],F.prototype,"discountReceiverDetail",void 0),(0,l.gn)([(0,B.D)(()=>$),(0,s.C)()],F.prototype,"serviceFeeReceiverDetail",void 0),(0,l.gn)([(0,B.D)(()=>X),(0,s.C)()],F.prototype,"otherFeeDetail",void 0),(0,l.gn)([(0,s.C)()],F.prototype,"finalPrice",void 0),(0,l.gn)([(0,s.C)()],F.prototype,"depositAmount",void 0),(0,l.gn)([(0,s.C)()],F.prototype,"balance",void 0),(0,l.gn)([(0,s.C)()],F.prototype,"orderNum",void 0),(0,l.gn)([(0,s.C)()],F.prototype,"userAction",void 0),(0,l.gn)([(0,s.C)()],F.prototype,"bookerProfit",void 0),(0,l.gn)([(0,s.C)()],F.prototype,"totalProfit",void 0),(0,l.gn)([(0,s.C)()],F.prototype,"baseFee",void 0),(0,l.gn)([(0,s.C)()],F.prototype,"vatFee",void 0),(0,l.gn)([(0,s.C)()],F.prototype,"taxFee",void 0);class k{}(0,l.gn)([(0,s.C)()],k.prototype,"totalTicketPrice",void 0),(0,l.gn)([(0,s.C)()],k.prototype,"totalServiceFee",void 0),(0,l.gn)([(0,s.C)()],k.prototype,"totalDiscountNow",void 0),(0,l.gn)([(0,s.C)()],k.prototype,"totalDiscountAfter",void 0),(0,l.gn)([(0,s.C)()],k.prototype,"totalFinalPrice",void 0),(0,l.gn)([(0,s.C)()],k.prototype,"totalDepositAmount",void 0),(0,l.gn)([(0,s.C)()],k.prototype,"totalBalance",void 0),(0,l.gn)([(0,s.C)()],k.prototype,"totalBookerProfit",void 0),(0,l.gn)([(0,s.C)()],k.prototype,"totalProfit",void 0),(0,l.gn)([(0,s.C)()],k.prototype,"totalBaseFee",void 0),(0,l.gn)([(0,s.C)()],k.prototype,"totalVatFee",void 0),(0,l.gn)([(0,s.C)()],k.prototype,"totalTaxFee",void 0),(0,l.gn)([(0,s.C)()],k.prototype,"totalBookerServiceFee",void 0),(0,l.gn)([(0,s.C)()],k.prototype,"totalAgentServiceFee",void 0),(0,l.gn)([(0,s.C)()],k.prototype,"totalRefServiceFee",void 0),(0,l.gn)([(0,s.C)()],k.prototype,"totalBookerOtherFee",void 0),(0,l.gn)([(0,s.C)()],k.prototype,"totalAgentOtherFee",void 0),(0,l.gn)([(0,s.C)()],k.prototype,"totalAirlineOtherFee",void 0),(0,l.gn)([(0,s.C)()],k.prototype,"totalOtherFee",void 0);class _e{}(0,l.gn)([(0,B.D)(()=>F),(0,s.C)()],_e.prototype,"listStatistics",void 0),(0,l.gn)([(0,s.C)()],_e.prototype,"total",void 0);class Y{}(0,l.gn)([(0,s.C)()],Y.prototype,"status",void 0),(0,l.gn)([(0,B.D)(()=>_e),(0,s.C)()],Y.prototype,"data",void 0),(0,l.gn)([(0,s.C)()],Y.prototype,"objectError",void 0),(0,l.gn)([(0,s.C)()],Y.prototype,"success",void 0);class ne{}(0,l.gn)([(0,s.C)()],ne.prototype,"discountAgent1",void 0),(0,l.gn)([(0,s.C)()],ne.prototype,"discountAgent2",void 0),(0,l.gn)([(0,s.C)()],ne.prototype,"totalDiscountFee",void 0);class ${}(0,l.gn)([(0,s.C)()],$.prototype,"serviceFeeAgent1",void 0),(0,l.gn)([(0,s.C)()],$.prototype,"serviceFeeAgent2",void 0),(0,l.gn)([(0,s.C)()],$.prototype,"serviceFeeBooker",void 0),(0,l.gn)([(0,s.C)()],$.prototype,"serviceFeeReference",void 0);class X{}(0,l.gn)([(0,s.C)()],X.prototype,"agentOtherFee",void 0),(0,l.gn)([(0,s.C)()],X.prototype,"airlineOtherFee",void 0),(0,l.gn)([(0,s.C)()],X.prototype,"bookerOtherFee",void 0),(0,l.gn)([(0,s.C)()],X.prototype,"totalOtherFee",void 0);class j{}(0,l.gn)([(0,s.C)()],j.prototype,"status",void 0),(0,l.gn)([(0,B.D)(()=>he),(0,s.C)()],j.prototype,"data",void 0),(0,l.gn)([(0,s.C)()],j.prototype,"objectError",void 0),(0,l.gn)([(0,s.C)()],j.prototype,"errorCode",void 0),(0,l.gn)([(0,s.C)()],j.prototype,"success",void 0);class he{}(0,l.gn)([(0,s.C)()],he.prototype,"titleDateList",void 0),(0,l.gn)([(0,B.D)(()=>K),(0,s.C)()],he.prototype,"detail",void 0);class K{}(0,l.gn)([(0,s.C)()],K.prototype,"userId",void 0),(0,l.gn)([(0,s.C)()],K.prototype,"userName",void 0),(0,l.gn)([(0,s.C)()],K.prototype,"displayName",void 0),(0,l.gn)([(0,s.C)()],K.prototype,"agentState",void 0),(0,l.gn)([(0,s.C)()],K.prototype,"currentAvailable",void 0),(0,l.gn)([(0,s.C)()],K.prototype,"maxNegative",void 0),(0,l.gn)([(0,s.C)()],K.prototype,"endOfDateAvailable",void 0),(0,l.gn)([(0,s.C)()],K.prototype,"agentDescription",void 0);class R{}(0,l.gn)([(0,s.C)()],R.prototype,"status",void 0),(0,l.gn)([(0,B.D)(()=>w),(0,s.C)()],R.prototype,"data",void 0),(0,l.gn)([(0,s.C)()],R.prototype,"objectError",void 0),(0,l.gn)([(0,s.C)()],R.prototype,"errorCode",void 0),(0,l.gn)([(0,s.C)()],R.prototype,"success",void 0);class w{}(0,l.gn)([(0,s.C)()],w.prototype,"issueDate",void 0),(0,l.gn)([(0,s.C)()],w.prototype,"ticketNumber",void 0),(0,l.gn)([(0,s.C)()],w.prototype,"bookingCode",void 0),(0,l.gn)([(0,s.C)()],w.prototype,"provider",void 0),(0,l.gn)([(0,s.C)()],w.prototype,"ticketType",void 0),(0,l.gn)([(0,s.C)()],w.prototype,"customerCode",void 0),(0,l.gn)([(0,s.C)()],w.prototype,"paxName",void 0),(0,l.gn)([(0,s.C)()],w.prototype,"route",void 0),(0,l.gn)([(0,s.C)()],w.prototype,"currency",void 0),(0,l.gn)([(0,s.C)()],w.prototype,"roe",void 0),(0,l.gn)([(0,s.C)()],w.prototype,"fare",void 0),(0,l.gn)([(0,s.C)()],w.prototype,"vat",void 0),(0,l.gn)([(0,s.C)()],w.prototype,"tax",void 0),(0,l.gn)([(0,s.C)()],w.prototype,"charge",void 0),(0,l.gn)([(0,s.C)()],w.prototype,"penalty",void 0),(0,l.gn)([(0,s.C)()],w.prototype,"service_fee",void 0),(0,l.gn)([(0,s.C)()],w.prototype,"discount",void 0),(0,l.gn)([(0,s.C)()],w.prototype,"bookerName",void 0),(0,l.gn)([(0,s.C)()],w.prototype,"departureDate",void 0),(0,l.gn)([(0,s.C)()],w.prototype,"arrivalDate",void 0),(0,l.gn)([(0,s.C)()],w.prototype,"tourCode",void 0);const ie={headers:new xe.WM({"Content-Type":"application/json"})};let Ce=(()=>{class a{constructor(t,n){this.http=t,this.appConfig=n}getStatisticBalance(t){return this.http.post(this.appConfig.apiUrl+"balance/statistics",JSON.stringify(t),ie).pipe((0,ee.U)(n=>(0,te.yE)(Y,n,{excludeExtraneousValues:!0})))}getStatisticBalanceV2(t){return this.http.post(this.appConfig.apiUrl+"balance/statistics-v2",JSON.stringify(t),ie).pipe((0,ee.U)(n=>(0,te.yE)(Y,n,{excludeExtraneousValues:!0})))}getStatisticOffEndDay(t){return this.http.post(this.appConfig.apiUrl+"balance/statistic-end-of-day",JSON.stringify(t),ie).pipe((0,ee.U)(n=>(0,te.yE)(j,n,{excludeExtraneousValues:!0})))}statisticsForAccountant(t){return this.http.post(this.appConfig.apiUrl+"balance/statistics-for-accountant",JSON.stringify(t),ie).pipe((0,ee.U)(n=>(0,te.yE)(R,n,{excludeExtraneousValues:!0})))}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(xe.eN),e.LFG(pe.qB))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var me=C(16039),Ae=C(62733),Ne=C(2225),Ze=C(9381),Ee=C(82761);function Me(a,d){1&a&&e._UZ(0,"cf-input-hint",33),2&a&&e.Q6J("hint","Th\u1eddi gian kh\xf4ng h\u1ee3p l\u1ec7")}function we(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.exportExcelForAccountant())}),e._UZ(1,"cf-icon",40),e._uU(2," Xu\u1ea5t Excel format h\xe3ng "),e.qZA()}}function ke(a,d){if(1&a&&e._UZ(0,"img",94),2&a){const t=e.oxw().$implicit;e.Q6J("src",t.airlineLogo,e.LSH)}}function qe(a,d){1&a&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}const m=function(a){return{"text-primary-1-4":a}};function Pe(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"tr",85)(1,"td",86),e._uU(2),e.qZA(),e.TgZ(3,"td",87)(4,"div",88),e.NdJ("click",function(){const i=e.CHM(t).$implicit,r=e.oxw(3);return e.KtG(r.gotoBookingDetail(i.airline,i.bookingCode))}),e._uU(5),e.qZA()(),e.TgZ(6,"td",87),e._uU(7),e.qZA(),e.TgZ(8,"td",87),e.YNc(9,ke,1,1,"img",89),e.YNc(10,qe,2,0,"span",32),e.qZA(),e.TgZ(11,"td",87),e._uU(12),e.qZA(),e.TgZ(13,"td",87),e._uU(14),e.qZA(),e.TgZ(15,"td",87),e._uU(16),e.ALo(17,"date"),e.qZA(),e.TgZ(18,"td",90)(19,"div",91),e._uU(20),e.qZA(),e.TgZ(21,"cf-icon",92),e.NdJ("click",function(){const i=e.CHM(t).$implicit,r=e.oxw(3);return e.KtG(r.onExpand(i.description))}),e.qZA()(),e.TgZ(22,"td",87),e._uU(23),e.qZA(),e.TgZ(24,"td",87),e._uU(25),e.qZA(),e.TgZ(26,"td",93),e._uU(27),e.ALo(28,"replace"),e.ALo(29,"number"),e.qZA(),e.TgZ(30,"td",93),e._uU(31),e.ALo(32,"replace"),e.ALo(33,"number"),e.qZA(),e.TgZ(34,"td",93),e._uU(35),e.ALo(36,"replace"),e.ALo(37,"number"),e.qZA(),e.TgZ(38,"td",93),e._uU(39),e.ALo(40,"replace"),e.ALo(41,"number"),e.qZA(),e.TgZ(42,"td",93),e._uU(43),e.ALo(44,"replace"),e.ALo(45,"number"),e.qZA(),e.TgZ(46,"td",93),e._uU(47),e.ALo(48,"replace"),e.ALo(49,"number"),e.qZA(),e.TgZ(50,"td",93),e._uU(51),e.ALo(52,"replace"),e.ALo(53,"number"),e.qZA(),e.TgZ(54,"td",93),e._uU(55),e.ALo(56,"replace"),e.ALo(57,"number"),e.qZA(),e.TgZ(58,"td",93),e._uU(59),e.ALo(60,"replace"),e.ALo(61,"number"),e.qZA(),e.TgZ(62,"td",93),e._uU(63),e.ALo(64,"replace"),e.ALo(65,"number"),e.qZA(),e.TgZ(66,"td",93),e._uU(67),e.ALo(68,"replace"),e.ALo(69,"number"),e.qZA(),e.TgZ(70,"td",93),e._uU(71),e.ALo(72,"replace"),e.ALo(73,"number"),e.qZA(),e.TgZ(74,"td",93),e._uU(75),e.ALo(76,"replace"),e.ALo(77,"number"),e.qZA(),e.TgZ(78,"td",93),e._uU(79),e.ALo(80,"replace"),e.ALo(81,"number"),e.qZA(),e.TgZ(82,"td",93),e._uU(83),e.ALo(84,"replace"),e.ALo(85,"number"),e.qZA()()}if(2&a){const t=d.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("sticky",n.isMobile?null:"left"),e.xp6(1),e.Oqu(t.ticketNum),e.xp6(3),e.hij(" ",t.bookingCode,""),e.xp6(2),e.Oqu(t.journeyInfo),e.xp6(2),e.Q6J("ngIf",t.airline),e.xp6(1),e.Q6J("ngIf",!t.airline),e.xp6(2),e.Oqu(t.provider),e.xp6(2),e.Oqu(t.supplier),e.xp6(2),e.Oqu(e.xi3(17,42,t.timeIssue,"dd/MM/yyyy HH:mm")),e.xp6(4),e.hij(" ",t.description," "),e.xp6(3),e.Oqu(t.userAction),e.xp6(2),e.Oqu(t.account),e.xp6(1),e.Q6J("ngClass",e.VKq(135,m,t.baseFee<0)),e.xp6(1),e.hij("",e.Dn7(28,45,e.lcZ(29,49,t.baseFee),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(137,m,t.vatFee<0)),e.xp6(1),e.Oqu(e.Dn7(32,51,e.lcZ(33,55,t.vatFee),",",".")),e.xp6(3),e.Q6J("ngClass",e.VKq(139,m,t.taxFee<0)),e.xp6(1),e.Oqu(e.Dn7(36,57,e.lcZ(37,61,t.taxFee),",",".")),e.xp6(3),e.Q6J("ngClass",e.VKq(141,m,t.ticketPrice<0)),e.xp6(1),e.hij("",e.Dn7(40,63,e.lcZ(41,67,t.ticketPrice),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(143,m,t.serviceFeeBooker<0)),e.xp6(1),e.hij(" ",e.Dn7(44,69,e.lcZ(45,73,t.serviceFeeReceiverDetail.serviceFeeBooker),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(145,m,t.serviceFeeAgent1<0)),e.xp6(1),e.hij(" ",e.Dn7(48,75,e.lcZ(49,79,t.serviceFeeReceiverDetail.serviceFeeAgent1),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(147,m,t.serviceFeeReference<0)),e.xp6(1),e.hij(" ",e.Dn7(52,81,e.lcZ(53,85,t.serviceFeeReceiverDetail.serviceFeeReference),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(149,m,t.serviceFee<0)),e.xp6(1),e.hij(" ",e.Dn7(56,87,e.lcZ(57,91,t.serviceFee),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(151,m,t.bookerOtherFee<0)),e.xp6(1),e.hij(" ",e.Dn7(60,93,e.lcZ(61,97,t.otherFeeDetail.bookerOtherFee),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(153,m,t.airlineOtherFee<0)),e.xp6(1),e.hij(" ",e.Dn7(64,99,e.lcZ(65,103,t.otherFeeDetail.airlineOtherFee),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(155,m,t.agentOtherFee<0)),e.xp6(1),e.hij(" ",e.Dn7(68,105,e.lcZ(69,109,t.otherFeeDetail.agentOtherFee),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(157,m,t.totalOtherFee<0)),e.xp6(1),e.hij(" ",e.Dn7(72,111,e.lcZ(73,115,t.otherFeeDetail.totalOtherFee),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(159,m,t.discountNow<0)),e.xp6(1),e.hij(" ",e.Dn7(76,117,e.lcZ(77,121,t.discountNow),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(161,m,t.discountAfter<0)),e.xp6(1),e.hij(" ",e.Dn7(80,123,e.lcZ(81,127,t.discountAfter),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(163,m,t.finalPrice<0)),e.xp6(1),e.hij(" ",e.Dn7(84,129,e.lcZ(85,133,t.finalPrice),",",".")," ")}}function Oe(a,d){if(1&a&&(e.TgZ(0,"tfoot")(1,"tr"),e._UZ(2,"td",95)(3,"td")(4,"td")(5,"td")(6,"td")(7,"td")(8,"td")(9,"td")(10,"td")(11,"td"),e.TgZ(12,"td",96),e._uU(13),e.ALo(14,"replace"),e.ALo(15,"number"),e.qZA(),e.TgZ(16,"td",96),e._uU(17),e.ALo(18,"replace"),e.ALo(19,"number"),e.qZA(),e.TgZ(20,"td",96),e._uU(21),e.ALo(22,"replace"),e.ALo(23,"number"),e.qZA(),e.TgZ(24,"td",96),e._uU(25),e.ALo(26,"replace"),e.ALo(27,"number"),e.qZA(),e.TgZ(28,"td",96),e._uU(29),e.ALo(30,"replace"),e.ALo(31,"number"),e.qZA(),e.TgZ(32,"td",96),e._uU(33),e.ALo(34,"replace"),e.ALo(35,"number"),e.qZA(),e.TgZ(36,"td",96),e._uU(37),e.ALo(38,"replace"),e.ALo(39,"number"),e.qZA(),e.TgZ(40,"td",96),e._uU(41),e.ALo(42,"replace"),e.ALo(43,"number"),e.qZA(),e.TgZ(44,"td",96),e._uU(45),e.ALo(46,"replace"),e.ALo(47,"number"),e.qZA(),e.TgZ(48,"td",96),e._uU(49),e.ALo(50,"replace"),e.ALo(51,"number"),e.qZA(),e.TgZ(52,"td",96),e._uU(53),e.ALo(54,"replace"),e.ALo(55,"number"),e.qZA(),e.TgZ(56,"td",96),e._uU(57),e.ALo(58,"replace"),e.ALo(59,"number"),e.qZA(),e.TgZ(60,"td",96),e._uU(61),e.ALo(62,"replace"),e.ALo(63,"number"),e.qZA(),e.TgZ(64,"td",96),e._uU(65),e.ALo(66,"replace"),e.ALo(67,"number"),e.qZA(),e.TgZ(68,"td",96),e._uU(69),e.ALo(70,"replace"),e.ALo(71,"number"),e.qZA()()()),2&a){const t=e.oxw(3);e.xp6(2),e.Q6J("sticky",t.isMobile?null:"left"),e.xp6(10),e.Q6J("ngClass",e.VKq(121,m,t.totalOfData.totalBaseFee<0)),e.xp6(1),e.hij(" ",e.Dn7(14,31,e.lcZ(15,35,(null==t.totalOfData?null:t.totalOfData.totalBaseFee)||0),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(123,m,t.totalOfData.totalVatFee<0)),e.xp6(1),e.hij(" ",e.Dn7(18,37,e.lcZ(19,41,(null==t.totalOfData?null:t.totalOfData.totalVatFee)||0),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(125,m,t.totalOfData.totalTaxFee<0)),e.xp6(1),e.hij(" ",e.Dn7(22,43,e.lcZ(23,47,(null==t.totalOfData?null:t.totalOfData.totalTaxFee)||0),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(127,m,t.totalOfData.totalTicketPrice<0)),e.xp6(1),e.hij(" ",e.Dn7(26,49,e.lcZ(27,53,(null==t.totalOfData?null:t.totalOfData.totalTicketPrice)||0),",","."),""),e.xp6(3),e.Q6J("ngClass",e.VKq(129,m,t.totalOfData.totalBookerServiceFee<0)),e.xp6(1),e.hij(" ",e.Dn7(30,55,e.lcZ(31,59,(null==t.totalOfData?null:t.totalOfData.totalBookerServiceFee)||0),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(131,m,t.totalOfData.totalAgentServiceFee<0)),e.xp6(1),e.hij(" ",e.Dn7(34,61,e.lcZ(35,65,(null==t.totalOfData?null:t.totalOfData.totalAgentServiceFee)||0),",","."),""),e.xp6(3),e.Q6J("ngClass",e.VKq(133,m,t.totalOfData.totalRefServiceFee<0)),e.xp6(1),e.hij(" ",e.Dn7(38,67,e.lcZ(39,71,(null==t.totalOfData?null:t.totalOfData.totalRefServiceFee)||0),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(135,m,t.totalOfData.totalServiceFee<0)),e.xp6(1),e.hij(" ",e.Dn7(42,73,e.lcZ(43,77,(null==t.totalOfData?null:t.totalOfData.totalServiceFee)||0),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(137,m,t.totalOfData.totalBookerOtherFee<0)),e.xp6(1),e.hij(" ",e.Dn7(46,79,e.lcZ(47,83,(null==t.totalOfData?null:t.totalOfData.totalBookerOtherFee)||0),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(139,m,t.totalOfData.totalAirlineOtherFee<0)),e.xp6(1),e.hij(" ",e.Dn7(50,85,e.lcZ(51,89,(null==t.totalOfData?null:t.totalOfData.totalAirlineOtherFee)||0),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(141,m,t.totalOfData.totalAgentOtherFee<0)),e.xp6(1),e.hij(" ",e.Dn7(54,91,e.lcZ(55,95,(null==t.totalOfData?null:t.totalOfData.totalAgentOtherFee)||0),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(143,m,t.totalOfData.totalOtherFee<0)),e.xp6(1),e.hij(" ",e.Dn7(58,97,e.lcZ(59,101,(null==t.totalOfData?null:t.totalOfData.totalOtherFee)||0),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(145,m,t.totalOfData.totalDiscountNow<0)),e.xp6(1),e.hij(" ",e.Dn7(62,103,e.lcZ(63,107,(null==t.totalOfData?null:t.totalOfData.totalDiscountNow)||0),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(147,m,t.totalOfData.totalDiscountAfter<0)),e.xp6(1),e.hij(" ",e.Dn7(66,109,e.lcZ(67,113,(null==t.totalOfData?null:t.totalOfData.totalDiscountAfter)||0),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(149,m,t.totalOfData.totalFinalPrice<0)),e.xp6(1),e.hij(" ",e.Dn7(70,115,e.lcZ(71,119,(null==t.totalOfData?null:t.totalOfData.totalFinalPrice)||0),",",".")," ")}}const oe=function(){return{num:25}},ae=function(){return{num:50}},re=function(){return{num:75}},ce=function(){return{num:100}},le=function(a,d,t,n){return[a,d,t,n]};function Je(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"div",44)(1,"cf-table",45,46)(3,"thead",47)(4,"th",48)(5,"div",49),e._uU(6," S\u1ed1 v\xe9 "),e.qZA()(),e.TgZ(7,"th",50),e._uU(8,"Code"),e.qZA(),e.TgZ(9,"th",50),e._uU(10,"H\xe0nh tr\xecnh "),e.qZA(),e.TgZ(11,"th",50),e._uU(12,"H\xe3ng"),e.qZA(),e.TgZ(13,"th",50),e._uU(14,"Provider"),e.qZA(),e.TgZ(15,"th",50),e._uU(16,"NCC"),e.qZA(),e.TgZ(17,"th",50),e._uU(18,"Ng\xe0y xu\u1ea5t"),e.qZA(),e.TgZ(19,"th",51),e._uU(20,"Di\u1ec5n gi\u1ea3i"),e.qZA(),e.TgZ(21,"th",50),e._uU(22,"Ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n "),e.qZA(),e.TgZ(23,"th",50),e._uU(24,"Thu\u1ed9c \u0111\u1ea1i l\xfd"),e.qZA(),e.TgZ(25,"th",52)(26,"div",53)(27,"div"),e._uU(28,"Gi\xe1 v\xe9 Net"),e.qZA(),e.TgZ(29,"span"),e._uU(30,"(1)"),e.qZA()()(),e.TgZ(31,"th",52)(32,"div",53)(33,"div"),e._uU(34,"VAT"),e.qZA(),e.TgZ(35,"span"),e._uU(36,"(2)"),e.qZA()()(),e.TgZ(37,"th",52)(38,"div",53)(39,"div"),e._uU(40,"Thu\u1ebf"),e.qZA(),e.TgZ(41,"span"),e._uU(42,"(3)"),e.qZA()()(),e.TgZ(43,"th",54)(44,"div",53)(45,"div"),e._uU(46,"Gi\xe1 v\xe9 full"),e.qZA(),e.TgZ(47,"span"),e._uU(48,"(4) = (1) + (2) + (3)"),e.qZA()()(),e.TgZ(49,"th",54)(50,"div",53)(51,"div"),e._uU(52,"Ph\xed d\u1ecbch v\u1ee5 - Booker"),e.qZA(),e.TgZ(53,"span"),e._uU(54,"(5)"),e.qZA()()(),e.TgZ(55,"th",54)(56,"div",53)(57,"div"),e._uU(58,"Ph\xed d\u1ecbch v\u1ee5 - \u0110\u1ea1i l\xfd"),e.qZA(),e.TgZ(59,"span"),e._uU(60,"(6)"),e.qZA()()(),e.TgZ(61,"th",54)(62,"div",53)(63,"div"),e._uU(64,"Ph\xed d\u1ecbch v\u1ee5 - Ref"),e.qZA(),e.TgZ(65,"span"),e._uU(66,"(7)"),e.qZA()()(),e.TgZ(67,"th",54)(68,"div",53)(69,"div"),e._uU(70,"T\u1ed5ng ph\xed d\u1ecbch v\u1ee5"),e.qZA(),e.TgZ(71,"span"),e._uU(72,"(8) = (5) + (6) + (7)"),e.qZA()()(),e.TgZ(73,"th",54)(74,"div",53)(75,"div"),e._uU(76,"Ph\xed kh\xe1c - Booker"),e.qZA(),e.TgZ(77,"span"),e._uU(78,"(9)"),e.qZA()()(),e.TgZ(79,"th",54)(80,"div",53)(81,"div"),e._uU(82,"Ph\xed kh\xe1c - H\xe3ng"),e.qZA(),e.TgZ(83,"span"),e._uU(84,"(10)"),e.qZA()()(),e.TgZ(85,"th",54)(86,"div",53)(87,"div"),e._uU(88,"Ph\xed kh\xe1c - \u0110\u1ea1i l\xfd"),e.qZA(),e.TgZ(89,"span"),e._uU(90,"(11)"),e.qZA()()(),e.TgZ(91,"th",54)(92,"div",53)(93,"div"),e._uU(94,"T\u1ed5ng ph\xed kh\xe1c"),e.qZA(),e.TgZ(95,"span"),e._uU(96,"(12) = (9) + (10) + (11)"),e.qZA()()(),e.TgZ(97,"th",54)(98,"div",53)(99,"div"),e._uU(100,"Chi\u1ebft kh\u1ea5u tr\u1ea3 ngay"),e.qZA(),e.TgZ(101,"span"),e._uU(102,"(13)"),e.qZA()()(),e.TgZ(103,"th",54)(104,"div",53)(105,"div"),e._uU(106,"Chi\u1ebft kh\u1ea5u tr\u1ea3 sau"),e.qZA(),e.TgZ(107,"span"),e._uU(108,"(14)"),e.qZA()()(),e.TgZ(109,"th",54)(110,"div",53)(111,"div"),e._uU(112,"Gi\xe1 cu\u1ed1i"),e.qZA(),e.TgZ(113,"span"),e._uU(114,"(15) = (4) + (8) + (12) + (13)"),e.qZA()()()(),e.TgZ(115,"tbody")(116,"tr",55)(117,"td",56)(118,"cf-input-group",57)(119,"input",58),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(120,"td",59)(121,"cf-input-group",57)(122,"input",60),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(123,"td",59)(124,"cf-input-group",57)(125,"input",61),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(126,"td",59)(127,"cf-input-group",57)(128,"input",62),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(129,"td",59)(130,"cf-input-group",57)(131,"input",63),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(132,"td",59)(133,"cf-input-group",57)(134,"input",64),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(135,"td",59)(136,"cf-input-group",57)(137,"input",65),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(138,"td",59)(139,"cf-input-group",57)(140,"input",66),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(141,"td",59)(142,"cf-input-group",57)(143,"input",67),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(144,"td",59)(145,"cf-input-group",57)(146,"input",68),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(147,"td",59)(148,"cf-input-group",57)(149,"input",69),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(150,"td",59)(151,"cf-input-group",57)(152,"input",70),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(153,"td",59)(154,"cf-input-group",57)(155,"input",71),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(156,"td",59)(157,"cf-input-group",57)(158,"input",72),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(159,"td",59)(160,"cf-input-group",57)(161,"input",73),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(162,"td",59)(163,"cf-input-group",57)(164,"input",74),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(165,"td",59)(166,"cf-input-group",57)(167,"input",75),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(168,"td",59)(169,"cf-input-group",57)(170,"input",76),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(171,"td",59)(172,"cf-input-group",57)(173,"input",77),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(174,"td",59)(175,"cf-input-group",57)(176,"input",78),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(177,"td",59)(178,"cf-input-group",57)(179,"input",79),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(180,"td",59)(181,"cf-input-group",57)(182,"input",80),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(183,"td",59)(184,"cf-input-group",57)(185,"input",81),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(186,"td",59)(187,"cf-input-group",57)(188,"input",82),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(189,"td",59)(190,"cf-input-group",57)(191,"input",83),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()()(),e.YNc(192,Pe,86,165,"ng-template",84),e.qZA(),e.YNc(193,Oe,72,151,"tfoot",32),e.qZA()()}if(2&a){const t=e.MAs(2),n=e.oxw(2);e.xp6(1),e.Q6J("fnSort",n.sortChange)("fnSearch",n.searchChange)("hidePaginationInfo",n.isMobile)("hidePageSize",n.isMobile)("pageSizeList",e.l5B(36,le,e.DdM(32,oe),e.DdM(33,ae),e.DdM(34,re),e.DdM(35,ce)))("listData",n.listOfData)("pageSize",n.pageSize),e.xp6(3),e.Q6J("sticky",n.isMobile?null:"left")("sortName","ticketNum"),e.xp6(3),e.Q6J("sortName","bookingCode"),e.xp6(2),e.Q6J("sortName","journeyInfo"),e.xp6(2),e.Q6J("sortName","airline"),e.xp6(2),e.Q6J("sortName","provider"),e.xp6(2),e.Q6J("sortName","supplier"),e.xp6(2),e.Q6J("sortName","timeIssue"),e.xp6(4),e.Q6J("sortName","userAction"),e.xp6(2),e.Q6J("sortName","account"),e.xp6(20),e.Q6J("sortName","ticketPrice"),e.xp6(6),e.Q6J("sortName","serviceFeeBooker"),e.xp6(6),e.Q6J("sortName","serviceFeeAgent1"),e.xp6(6),e.Q6J("sortName","serviceFeeReference"),e.xp6(6),e.Q6J("sortName","serviceFee"),e.xp6(6),e.Q6J("sortName","bookerOtherFee"),e.xp6(6),e.Q6J("sortName","airlineOtherFee"),e.xp6(6),e.Q6J("sortName","agentOtherFee"),e.xp6(6),e.Q6J("sortName","totalOtherFee"),e.xp6(6),e.Q6J("sortName","discountNow"),e.xp6(6),e.Q6J("sortName","discountAfter"),e.xp6(6),e.Q6J("sortName","finalPrice"),e.xp6(8),e.Q6J("sticky","left"),e.xp6(75),e.Q6J("ngForOf",t.partOfdata),e.xp6(1),e.Q6J("ngIf",n.listOfData.length)}}function Ue(a,d){if(1&a&&e._UZ(0,"img",94),2&a){const t=e.oxw().$implicit;e.Q6J("src",t.airlineLogo,e.LSH)}}function Le(a,d){1&a&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}function Qe(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"tr",85)(1,"td",86),e._uU(2),e.qZA(),e.TgZ(3,"td",87)(4,"div",88),e.NdJ("click",function(){const i=e.CHM(t).$implicit,r=e.oxw(3);return e.KtG(r.gotoBookingDetail(i.airline,i.bookingCode))}),e._uU(5),e.qZA()(),e.TgZ(6,"td",87),e._uU(7),e.qZA(),e.TgZ(8,"td",87),e.YNc(9,Ue,1,1,"img",89),e.YNc(10,Le,2,0,"span",32),e.qZA(),e.TgZ(11,"td",87),e._uU(12),e.qZA(),e.TgZ(13,"td",87),e._uU(14),e.qZA(),e.TgZ(15,"td",87),e._uU(16),e.ALo(17,"date"),e.qZA(),e.TgZ(18,"td",90)(19,"div",91),e._uU(20),e.qZA(),e.TgZ(21,"cf-icon",92),e.NdJ("click",function(){const i=e.CHM(t).$implicit,r=e.oxw(3);return e.KtG(r.onExpand(i.description))}),e.qZA()(),e.TgZ(22,"td",87),e._uU(23),e.qZA(),e.TgZ(24,"td",87),e._uU(25),e.qZA(),e.TgZ(26,"td",93),e._uU(27),e.ALo(28,"replace"),e.ALo(29,"number"),e.qZA(),e.TgZ(30,"td",93),e._uU(31),e.ALo(32,"replace"),e.ALo(33,"number"),e.qZA(),e.TgZ(34,"td",93),e._uU(35),e.ALo(36,"replace"),e.ALo(37,"number"),e.qZA(),e.TgZ(38,"td",93),e._uU(39),e.ALo(40,"replace"),e.ALo(41,"number"),e.qZA(),e.TgZ(42,"td",93),e._uU(43),e.ALo(44,"replace"),e.ALo(45,"number"),e.qZA()()}if(2&a){const t=d.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("sticky",n.isMobile?null:"left"),e.xp6(1),e.hij(" ",t.ticketNum," "),e.xp6(3),e.hij(" ",t.bookingCode,""),e.xp6(2),e.Oqu(t.journeyInfo),e.xp6(2),e.Q6J("ngIf",t.airline),e.xp6(1),e.Q6J("ngIf",!t.airline),e.xp6(2),e.Oqu(t.provider),e.xp6(2),e.Oqu(t.supplier),e.xp6(2),e.Oqu(e.xi3(17,22,t.timeIssue,"dd/MM/yyyy HH:mm")),e.xp6(4),e.hij(" ",t.description," "),e.xp6(3),e.Oqu(t.userAction),e.xp6(2),e.Oqu(t.account),e.xp6(1),e.Q6J("ngClass",e.VKq(55,m,t.ticketPrice<0)),e.xp6(1),e.hij(" ",e.Dn7(28,25,e.lcZ(29,29,t.ticketPrice),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(57,m,t.serviceFee<0)),e.xp6(1),e.hij(" ",e.Dn7(32,31,e.lcZ(33,35,t.serviceFee),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(59,m,t.finalPrice<0)),e.xp6(1),e.hij(" ",e.Dn7(36,37,e.lcZ(37,41,t.finalPrice),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(61,m,t.bookerProfit<0)),e.xp6(1),e.hij(" ",e.Dn7(40,43,e.lcZ(41,47,t.bookerProfit),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(63,m,t.totalProfit<0)),e.xp6(1),e.hij(" ",e.Dn7(44,49,e.lcZ(45,53,t.totalProfit),",",".")," ")}}function Ke(a,d){if(1&a&&(e.TgZ(0,"tfoot")(1,"tr"),e._UZ(2,"td",95)(3,"td")(4,"td")(5,"td")(6,"td")(7,"td")(8,"td")(9,"td")(10,"td")(11,"td"),e.TgZ(12,"td",96),e._uU(13),e.ALo(14,"replace"),e.ALo(15,"number"),e.qZA(),e.TgZ(16,"td",96),e._uU(17),e.ALo(18,"replace"),e.ALo(19,"number"),e.qZA(),e.TgZ(20,"td",96),e._uU(21),e.ALo(22,"replace"),e.ALo(23,"number"),e.qZA(),e.TgZ(24,"td",96),e._uU(25),e.ALo(26,"replace"),e.ALo(27,"number"),e.qZA(),e.TgZ(28,"td",96),e._uU(29),e.ALo(30,"replace"),e.ALo(31,"number"),e.qZA()()()),2&a){const t=e.oxw(3);e.xp6(2),e.Q6J("sticky",t.isMobile?null:"left"),e.xp6(10),e.Q6J("ngClass",e.VKq(41,m,t.totalOfData.totalTicketPrice<0)),e.xp6(1),e.hij(" ",e.Dn7(14,11,e.lcZ(15,15,(null==t.totalOfData?null:t.totalOfData.totalTicketPrice)||0),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(43,m,t.totalOfData.totalServiceFee<0)),e.xp6(1),e.hij(" ",e.Dn7(18,17,e.lcZ(19,21,(null==t.totalOfData?null:t.totalOfData.totalServiceFee)||0),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(45,m,t.totalOfData.totalFinalPrice<0)),e.xp6(1),e.hij(" ",e.Dn7(22,23,e.lcZ(23,27,(null==t.totalOfData?null:t.totalOfData.totalFinalPrice)||0),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(47,m,t.totalOfData.totalBookerProfit<0)),e.xp6(1),e.hij(" ",e.Dn7(26,29,e.lcZ(27,33,(null==t.totalOfData?null:t.totalOfData.totalBookerProfit)||0),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(49,m,t.totalOfData.totalProfit<0)),e.xp6(1),e.hij(" ",e.Dn7(30,35,e.lcZ(31,39,(null==t.totalOfData?null:t.totalOfData.totalProfit)||0),",",".")," ")}}function Ie(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"div",44)(1,"cf-table",45,46)(3,"thead",47)(4,"th",48)(5,"div",49),e._uU(6," S\u1ed1 v\xe9 "),e.qZA()(),e.TgZ(7,"th",50),e._uU(8,"Code"),e.qZA(),e.TgZ(9,"th",50),e._uU(10,"H\xe0nh tr\xecnh "),e.qZA(),e.TgZ(11,"th",50),e._uU(12,"H\xe3ng"),e.qZA(),e.TgZ(13,"th",50),e._uU(14,"Provider"),e.qZA(),e.TgZ(15,"th",50),e._uU(16,"NCC"),e.qZA(),e.TgZ(17,"th",50),e._uU(18,"Ng\xe0y xu\u1ea5t"),e.qZA(),e.TgZ(19,"th",51),e._uU(20,"Di\u1ec5n gi\u1ea3i"),e.qZA(),e.TgZ(21,"th",50),e._uU(22,"Ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n "),e.qZA(),e.TgZ(23,"th",50),e._uU(24,"Thu\u1ed9c \u0111\u1ea1i l\xfd"),e.qZA(),e.TgZ(25,"th",54)(26,"div",53)(27,"div"),e._uU(28,"Gi\xe1"),e.qZA(),e.TgZ(29,"span"),e._uU(30,"(1)"),e.qZA()()(),e.TgZ(31,"th",54)(32,"div",53)(33,"div"),e._uU(34,"Ph\xed d\u1ecbch v\u1ee5"),e.qZA(),e.TgZ(35,"span"),e._uU(36,"(2)"),e.qZA()()(),e.TgZ(37,"th",54)(38,"div",53)(39,"div"),e._uU(40,"Gi\xe1 cu\u1ed1i"),e.qZA(),e.TgZ(41,"span"),e._uU(42,"(3) = (1) + (2)"),e.qZA()()(),e.TgZ(43,"th",54),e._uU(44," L\u1ee3i nhu\u1eadn "),e.qZA(),e.TgZ(45,"th",52),e._uU(46," T\u1ed5ng l\u1ee3i nhu\u1eadn "),e.qZA()(),e.TgZ(47,"tbody")(48,"tr",55)(49,"td",56)(50,"cf-input-group",57)(51,"input",58),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(52,"td",59)(53,"cf-input-group",57)(54,"input",60),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(55,"td",59)(56,"cf-input-group",57)(57,"input",61),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(58,"td",59)(59,"cf-input-group",57)(60,"input",62),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(61,"td",59)(62,"cf-input-group",57)(63,"input",63),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(64,"td",59)(65,"cf-input-group",57)(66,"input",64),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(67,"td",59)(68,"cf-input-group",57)(69,"input",65),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(70,"td",59)(71,"cf-input-group",57)(72,"input",66),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(73,"td",59)(74,"cf-input-group",57)(75,"input",67),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(76,"td",59)(77,"cf-input-group",57)(78,"input",68),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(79,"td",59)(80,"cf-input-group",57)(81,"input",72),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(82,"td",59)(83,"cf-input-group",57)(84,"input",76),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(85,"td",59)(86,"cf-input-group",57)(87,"input",83),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(88,"td",59)(89,"cf-input-group",57)(90,"input",97),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(91,"td",59)(92,"cf-input-group",57)(93,"input",98),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()()(),e.YNc(94,Qe,46,65,"ng-template",84),e.qZA(),e.YNc(95,Ke,32,51,"tfoot",32),e.qZA()()}if(2&a){const t=e.MAs(2),n=e.oxw(2);e.xp6(1),e.Q6J("fnSort",n.sortChange)("fnSearch",n.searchChange)("hidePaginationInfo",n.isMobile)("hidePageSize",n.isMobile)("pageSizeList",e.l5B(28,le,e.DdM(24,oe),e.DdM(25,ae),e.DdM(26,re),e.DdM(27,ce)))("listData",n.listOfData)("pageSize",n.pageSize),e.xp6(3),e.Q6J("sticky","left")("sortName","ticketNum"),e.xp6(3),e.Q6J("sortName","bookingCode"),e.xp6(2),e.Q6J("sortName","journeyInfo"),e.xp6(2),e.Q6J("sortName","airline"),e.xp6(2),e.Q6J("sortName","provider"),e.xp6(2),e.Q6J("sortName","supplier"),e.xp6(2),e.Q6J("sortName","timeIssue"),e.xp6(4),e.Q6J("sortName","userAction"),e.xp6(2),e.Q6J("sortName","account"),e.xp6(2),e.Q6J("sortName","ticketPrice"),e.xp6(6),e.Q6J("sortName","serviceFee"),e.xp6(6),e.Q6J("sortName","finalPrice"),e.xp6(6),e.Q6J("sortName","bookerProfit"),e.xp6(6),e.Q6J("sticky",n.isMobile?null:"left"),e.xp6(45),e.Q6J("ngForOf",t.partOfdata),e.xp6(1),e.Q6J("ngIf",n.listOfData.length)}}function Be(a,d){if(1&a&&e._UZ(0,"img",94),2&a){const t=e.oxw().$implicit;e.Q6J("src",t.airlineLogo,e.LSH)}}function He(a,d){1&a&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}function Ge(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"tr",85)(1,"td",86),e._uU(2),e.qZA(),e.TgZ(3,"td",87)(4,"div",88),e.NdJ("click",function(){const i=e.CHM(t).$implicit,r=e.oxw(3);return e.KtG(r.gotoBookingDetail(i.airline,i.bookingCode))}),e._uU(5),e.qZA()(),e.TgZ(6,"td",87),e.YNc(7,Be,1,1,"img",89),e.YNc(8,He,2,0,"span",32),e.qZA(),e.TgZ(9,"td",87),e._uU(10),e.ALo(11,"date"),e.qZA(),e.TgZ(12,"td",90)(13,"div",91),e._uU(14),e.qZA(),e.TgZ(15,"cf-icon",92),e.NdJ("click",function(){const i=e.CHM(t).$implicit,r=e.oxw(3);return e.KtG(r.onExpand(i.description))}),e.qZA()(),e.TgZ(16,"td",87),e._uU(17),e.qZA(),e.TgZ(18,"td",87),e._uU(19),e.qZA(),e.TgZ(20,"td",93),e._uU(21),e.ALo(22,"replace"),e.ALo(23,"number"),e.qZA(),e.TgZ(24,"td",93),e._uU(25),e.ALo(26,"replace"),e.ALo(27,"number"),e.qZA(),e.TgZ(28,"td",93),e._uU(29),e.ALo(30,"replace"),e.ALo(31,"number"),e.qZA(),e.TgZ(32,"td",93),e._uU(33),e.ALo(34,"replace"),e.ALo(35,"number"),e.qZA(),e.TgZ(36,"td",93),e._uU(37),e.ALo(38,"replace"),e.ALo(39,"number"),e.qZA(),e.TgZ(40,"td",93),e._uU(41),e.ALo(42,"replace"),e.ALo(43,"number"),e.qZA(),e.TgZ(44,"td",93),e._uU(45),e.ALo(46,"replace"),e.ALo(47,"number"),e.qZA()()}if(2&a){const t=d.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("sticky",n.isMobile?null:"left"),e.xp6(1),e.Oqu(t.ticketNum),e.xp6(3),e.hij(" ",t.bookingCode,""),e.xp6(2),e.Q6J("ngIf",t.airline),e.xp6(1),e.Q6J("ngIf",!t.airline),e.xp6(2),e.Oqu(e.xi3(11,23,t.timeIssue,"dd/MM/yyyy HH:mm")),e.xp6(4),e.hij(" ",t.description," "),e.xp6(3),e.Oqu(t.userAction),e.xp6(2),e.Oqu(t.account),e.xp6(1),e.Q6J("ngClass",e.VKq(68,m,t.ticketPrice<0)),e.xp6(1),e.hij("",e.Dn7(22,26,e.lcZ(23,30,t.ticketPrice),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(70,m,t.serviceFee<0)),e.xp6(1),e.hij(" ",e.Dn7(26,32,e.lcZ(27,36,t.serviceFee),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(72,m,t.discountNow<0)),e.xp6(1),e.hij("",e.Dn7(30,38,e.lcZ(31,42,t.discountNow),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(74,m,t.discountAfter<0)),e.xp6(1),e.hij("",e.Dn7(34,44,e.lcZ(35,48,t.discountAfter),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(76,m,t.finalPrice<0)),e.xp6(1),e.hij(" ",e.Dn7(38,50,e.lcZ(39,54,t.finalPrice),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(78,m,t.depositAmount<0)),e.xp6(1),e.hij("",e.Dn7(42,56,e.lcZ(43,60,t.depositAmount),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(80,m,t.balance<0)),e.xp6(1),e.hij("",e.Dn7(46,62,e.lcZ(47,66,t.balance),",",".")," ")}}function Ye(a,d){if(1&a&&(e.TgZ(0,"tfoot")(1,"tr"),e._UZ(2,"td",95)(3,"td")(4,"td")(5,"td")(6,"td")(7,"td")(8,"td"),e.TgZ(9,"td",96),e._uU(10),e.ALo(11,"replace"),e.ALo(12,"number"),e.qZA(),e.TgZ(13,"td",96),e._uU(14),e.ALo(15,"replace"),e.ALo(16,"number"),e.qZA(),e.TgZ(17,"td",96),e._uU(18),e.ALo(19,"replace"),e.ALo(20,"number"),e.qZA(),e.TgZ(21,"td",96),e._uU(22),e.ALo(23,"replace"),e.ALo(24,"number"),e.qZA(),e.TgZ(25,"td",96),e._uU(26),e.ALo(27,"replace"),e.ALo(28,"number"),e.qZA(),e.TgZ(29,"td",96),e._uU(30),e.ALo(31,"replace"),e.ALo(32,"number"),e.qZA(),e._UZ(33,"td"),e.qZA()()),2&a){const t=e.oxw(3);e.xp6(2),e.Q6J("sticky",t.isMobile?null:"left"),e.xp6(7),e.Q6J("ngClass",e.VKq(49,m,t.totalOfData.totalTicketPrice<0)),e.xp6(1),e.hij(" ",e.Dn7(11,13,e.lcZ(12,17,(null==t.totalOfData?null:t.totalOfData.totalTicketPrice)||0),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(51,m,t.totalOfData.totalServiceFee<0)),e.xp6(1),e.hij(" ",e.Dn7(15,19,e.lcZ(16,23,(null==t.totalOfData?null:t.totalOfData.totalServiceFee)||0),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(53,m,t.totalOfData.totalDiscountNow<0)),e.xp6(1),e.hij(" ",e.Dn7(19,25,e.lcZ(20,29,(null==t.totalOfData?null:t.totalOfData.totalDiscountNow)||0),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(55,m,t.totalOfData.totalDiscountAfter<0)),e.xp6(1),e.hij(" ",e.Dn7(23,31,e.lcZ(24,35,(null==t.totalOfData?null:t.totalOfData.totalDiscountAfter)||0),",","."),""),e.xp6(3),e.Q6J("ngClass",e.VKq(57,m,t.totalOfData.totalFinalPrice<0)),e.xp6(1),e.hij(" ",e.Dn7(27,37,e.lcZ(28,41,(null==t.totalOfData?null:t.totalOfData.totalFinalPrice)||0),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(59,m,t.totalOfData.totalDepositAmount<0)),e.xp6(1),e.hij(" ",e.Dn7(31,43,e.lcZ(32,47,(null==t.totalOfData?null:t.totalOfData.totalDepositAmount)||0),",","."),"")}}function je(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"div",44)(1,"cf-table",45,46)(3,"thead",47)(4,"th",48)(5,"div",49),e._uU(6," S\u1ed1 v\xe9 "),e.qZA()(),e.TgZ(7,"th",50),e._uU(8,"Code"),e.qZA(),e.TgZ(9,"th",50),e._uU(10,"H\xe3ng"),e.qZA(),e.TgZ(11,"th",50),e._uU(12,"Ng\xe0y xu\u1ea5t"),e.qZA(),e.TgZ(13,"th",51),e._uU(14,"Di\u1ec5n gi\u1ea3i"),e.qZA(),e.TgZ(15,"th",50),e._uU(16,"Ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n "),e.qZA(),e.TgZ(17,"th",50),e._uU(18,"Thu\u1ed9c \u0111\u1ea1i l\xfd"),e.qZA(),e.TgZ(19,"th",54)(20,"div",53)(21,"div"),e._uU(22,"Gi\xe1"),e.qZA(),e.TgZ(23,"span"),e._uU(24,"(1)"),e.qZA()()(),e.TgZ(25,"th",54)(26,"div",53)(27,"div"),e._uU(28,"Ph\xed d\u1ecbch v\u1ee5"),e.qZA(),e.TgZ(29,"span"),e._uU(30,"(2)"),e.qZA()()(),e.TgZ(31,"th",54)(32,"div",53)(33,"div"),e._uU(34,"Chi\u1ebft kh\u1ea5u tr\u1ea3 ngay"),e.qZA(),e.TgZ(35,"span"),e._uU(36,"(3)"),e.qZA()()(),e.TgZ(37,"th",54)(38,"div",53)(39,"div"),e._uU(40,"Chi\u1ebft kh\u1ea5u tr\u1ea3 sau"),e.qZA(),e.TgZ(41,"span"),e._uU(42,"(4)"),e.qZA()()(),e.TgZ(43,"th",54)(44,"div",53)(45,"div"),e._uU(46,"Gi\xe1 cu\u1ed1i"),e.qZA(),e.TgZ(47,"span"),e._uU(48,"(5) = (1) + (2) - (3)"),e.qZA()()(),e.TgZ(49,"th",54)(50,"div",53)(51,"div"),e._uU(52,"Ti\u1ec1n n\u1ea1p"),e.qZA(),e.TgZ(53,"span"),e._uU(54,"(6)"),e.qZA()()(),e.TgZ(55,"th",54)(56,"div",53)(57,"div"),e._uU(58,"S\u1ed1 d\u01b0"),e.qZA(),e.TgZ(59,"span"),e._uU(60,"(7) = Tr\u01b0\u1edbc - (5) + (6)"),e.qZA()()()(),e.TgZ(61,"tbody")(62,"tr")(63,"td",56)(64,"cf-input-group",57)(65,"input",58),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(66,"td",59)(67,"cf-input-group",57)(68,"input",60),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(69,"td",59)(70,"cf-input-group",57)(71,"input",62),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(72,"td",59)(73,"cf-input-group",57)(74,"input",65),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(75,"td",59)(76,"cf-input-group",57)(77,"input",66),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(78,"td",59)(79,"cf-input-group",57)(80,"input",67),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(81,"td",59)(82,"cf-input-group",57)(83,"input",68),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(84,"td",59)(85,"cf-input-group",57)(86,"input",72),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(87,"td",59)(88,"cf-input-group",57)(89,"input",76),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(90,"td",59)(91,"cf-input-group",57)(92,"input",81),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(93,"td",59)(94,"cf-input-group",57)(95,"input",82),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(96,"td",59)(97,"cf-input-group",57)(98,"input",83),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(99,"td",59)(100,"cf-input-group",57)(101,"input",99),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(102,"td",59)(103,"cf-input-group",57)(104,"input",100),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()()(),e.YNc(105,Ge,48,82,"ng-template",84),e.qZA(),e.YNc(106,Ye,34,61,"tfoot",32),e.qZA()()}if(2&a){const t=e.MAs(2),n=e.oxw(2);e.xp6(1),e.Q6J("fnSort",n.sortChange)("fnSearch",n.searchChange)("hidePaginationInfo",n.isMobile)("hidePageSize",n.isMobile)("pageSizeList",e.l5B(28,le,e.DdM(24,oe),e.DdM(25,ae),e.DdM(26,re),e.DdM(27,ce)))("listData",n.listOfData)("pageSize",n.pageSize),e.xp6(3),e.Q6J("sticky",n.isMobile?null:"left")("sortName","ticketNum"),e.xp6(3),e.Q6J("sortName","bookingCode"),e.xp6(2),e.Q6J("sortName","airline"),e.xp6(2),e.Q6J("sortName","timeIssue"),e.xp6(4),e.Q6J("sortName","userAction"),e.xp6(2),e.Q6J("sortName","account"),e.xp6(2),e.Q6J("sortName","ticketPrice"),e.xp6(6),e.Q6J("sortName","serviceFee"),e.xp6(6),e.Q6J("sortName","discountNow"),e.xp6(6),e.Q6J("sortName","discountAfter"),e.xp6(6),e.Q6J("sortName","finalPrice"),e.xp6(6),e.Q6J("sortName","depositAmount"),e.xp6(6),e.Q6J("sortName","balance"),e.xp6(8),e.Q6J("sticky",n.isMobile?null:"left"),e.xp6(42),e.Q6J("ngForOf",t.partOfdata),e.xp6(1),e.Q6J("ngIf",n.listOfData.length)}}function Re(a,d){if(1&a&&e._UZ(0,"img",94),2&a){const t=e.oxw().$implicit;e.Q6J("src",t.airlineLogo,e.LSH)}}function Ve(a,d){1&a&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}function ze(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"tr",85)(1,"td",86),e._uU(2),e.qZA(),e.TgZ(3,"td",87)(4,"div",88),e.NdJ("click",function(){const i=e.CHM(t).$implicit,r=e.oxw(3);return e.KtG(r.gotoBookingDetail(i.airline,i.bookingCode))}),e._uU(5),e.qZA()(),e.TgZ(6,"td",87),e.YNc(7,Re,1,1,"img",89),e.YNc(8,Ve,2,0,"span",32),e.qZA(),e.TgZ(9,"td",87),e._uU(10),e.ALo(11,"date"),e.qZA(),e.TgZ(12,"td",90)(13,"div",91),e._uU(14),e.qZA(),e.TgZ(15,"cf-icon",92),e.NdJ("click",function(){const i=e.CHM(t).$implicit,r=e.oxw(3);return e.KtG(r.onExpand(i.description))}),e.qZA()(),e.TgZ(16,"td",87),e._uU(17),e.qZA(),e.TgZ(18,"td",87),e._uU(19),e.qZA(),e.TgZ(20,"td",93),e._uU(21),e.ALo(22,"replace"),e.ALo(23,"number"),e.qZA(),e.TgZ(24,"td",93),e._uU(25),e.ALo(26,"replace"),e.ALo(27,"number"),e.qZA(),e.TgZ(28,"td",93),e._uU(29),e.ALo(30,"replace"),e.ALo(31,"number"),e.qZA(),e.TgZ(32,"td",93),e._uU(33),e.ALo(34,"replace"),e.ALo(35,"number"),e.qZA()()}if(2&a){const t=d.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("sticky",n.isMobile?null:"left"),e.xp6(1),e.Oqu(t.ticketNum),e.xp6(3),e.hij(" ",t.bookingCode,""),e.xp6(2),e.Q6J("ngIf",t.airline),e.xp6(1),e.Q6J("ngIf",!t.airline),e.xp6(2),e.Oqu(e.xi3(11,17,t.timeIssue,"dd/MM/yyyy HH:mm")),e.xp6(4),e.hij(" ",t.description," "),e.xp6(3),e.Oqu(t.userAction),e.xp6(2),e.Oqu(t.account),e.xp6(1),e.Q6J("ngClass",e.VKq(44,m,t.ticketPrice<0)),e.xp6(1),e.hij("",e.Dn7(22,20,e.lcZ(23,24,t.ticketPrice),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(46,m,t.serviceFee<0)),e.xp6(1),e.hij(" ",e.Dn7(26,26,e.lcZ(27,30,t.serviceFee),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(48,m,t.finalPrice<0)),e.xp6(1),e.hij(" ",e.Dn7(30,32,e.lcZ(31,36,t.finalPrice),",","."),""),e.xp6(3),e.Q6J("ngClass",e.VKq(50,m,t.balance<0)),e.xp6(1),e.hij("",e.Dn7(34,38,e.lcZ(35,42,t.balance),",",".")," ")}}function $e(a,d){if(1&a&&(e.TgZ(0,"tfoot")(1,"tr"),e._UZ(2,"td",95)(3,"td")(4,"td")(5,"td")(6,"td")(7,"td")(8,"td"),e.TgZ(9,"td",96),e._uU(10),e.ALo(11,"replace"),e.ALo(12,"number"),e.qZA(),e.TgZ(13,"td",96),e._uU(14),e.ALo(15,"replace"),e.ALo(16,"number"),e.qZA(),e.TgZ(17,"td",96),e._uU(18),e.ALo(19,"replace"),e.ALo(20,"number"),e.qZA(),e._UZ(21,"td",96),e.qZA()()),2&a){const t=e.oxw(3);e.xp6(2),e.Q6J("sticky",t.isMobile?null:"left"),e.xp6(7),e.Q6J("ngClass",e.VKq(26,m,t.totalOfData.totalTicketPrice<0)),e.xp6(1),e.hij(" ",e.Dn7(11,8,e.lcZ(12,12,(null==t.totalOfData?null:t.totalOfData.totalTicketPrice)||0),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(28,m,t.totalOfData.totalServiceFee<0)),e.xp6(1),e.hij(" ",e.Dn7(15,14,e.lcZ(16,18,(null==t.totalOfData?null:t.totalOfData.totalServiceFee)||0),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(30,m,t.totalOfData.totalFinalPrice<0)),e.xp6(1),e.hij(" ",e.Dn7(19,20,e.lcZ(20,24,(null==t.totalOfData?null:t.totalOfData.totalFinalPrice)||0),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(32,m,t.totalOfData.totalBalance<0))}}function Xe(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"div",44)(1,"cf-table",45,46)(3,"thead",47)(4,"th",48)(5,"div",49),e._uU(6," S\u1ed1 v\xe9 "),e.qZA()(),e.TgZ(7,"th",50),e._uU(8,"Code"),e.qZA(),e.TgZ(9,"th",50),e._uU(10,"H\xe3ng"),e.qZA(),e.TgZ(11,"th",50),e._uU(12,"Ng\xe0y xu\u1ea5t"),e.qZA(),e.TgZ(13,"th",51),e._uU(14,"Di\u1ec5n gi\u1ea3i"),e.qZA(),e.TgZ(15,"th",50),e._uU(16,"Ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n "),e.qZA(),e.TgZ(17,"th",50),e._uU(18,"Thu\u1ed9c \u0111\u1ea1i l\xfd"),e.qZA(),e.TgZ(19,"th",54)(20,"div",53)(21,"div"),e._uU(22,"Gi\xe1 v\xe9"),e.qZA(),e.TgZ(23,"span"),e._uU(24,"(1)"),e.qZA()()(),e.TgZ(25,"th",54)(26,"div",53)(27,"div"),e._uU(28,"Ph\xed d\u1ecbch v\u1ee5"),e.qZA(),e.TgZ(29,"span"),e._uU(30,"(2)"),e.qZA()()(),e.TgZ(31,"th",54)(32,"div",53)(33,"div"),e._uU(34,"Gi\xe1 cu\u1ed1i"),e.qZA(),e.TgZ(35,"span"),e._uU(36,"(3) = (1) + (2)"),e.qZA()()(),e.TgZ(37,"th",54)(38,"div",53)(39,"div"),e._uU(40,"S\u1ed1 d\u01b0"),e.qZA(),e.TgZ(41,"span"),e._uU(42,"(4) = Tr\u01b0\u1edbc - (3)"),e.qZA()()()(),e.TgZ(43,"tbody")(44,"tr")(45,"td",56)(46,"cf-input-group",57)(47,"input",58),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(48,"td",59)(49,"cf-input-group",57)(50,"input",60),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(51,"td",59)(52,"cf-input-group",57)(53,"input",62),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(54,"td",59)(55,"cf-input-group",57)(56,"input",65),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(57,"td",59)(58,"cf-input-group",57)(59,"input",66),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(60,"td",59)(61,"cf-input-group",57)(62,"input",67),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(63,"td",59)(64,"cf-input-group",57)(65,"input",68),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(66,"td",59)(67,"cf-input-group",57)(68,"input",72),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(69,"td",59)(70,"cf-input-group",57)(71,"input",76),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(72,"td",59)(73,"cf-input-group",57)(74,"input",83),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()(),e.TgZ(75,"td",59)(76,"cf-input-group",57)(77,"input",100),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.filterChange(o))}),e.qZA()()()(),e.YNc(78,ze,36,52,"ng-template",84),e.qZA(),e.YNc(79,$e,22,34,"tfoot",32),e.qZA()()}if(2&a){const t=e.MAs(2),n=e.oxw(2);e.xp6(1),e.Q6J("fnSort",n.sortChange)("fnSearch",n.searchChange)("hidePaginationInfo",n.isMobile)("hidePageSize",n.isMobile)("pageSizeList",e.l5B(25,le,e.DdM(21,oe),e.DdM(22,ae),e.DdM(23,re),e.DdM(24,ce)))("listData",n.listOfData)("pageSize",n.pageSize),e.xp6(3),e.Q6J("sticky",n.isMobile?null:"left")("sortName","ticketNum"),e.xp6(3),e.Q6J("sortName","bookingCode"),e.xp6(2),e.Q6J("sortName","airline"),e.xp6(2),e.Q6J("sortName","timeIssue"),e.xp6(4),e.Q6J("sortName","userAction"),e.xp6(2),e.Q6J("sortName","account"),e.xp6(2),e.Q6J("sortName","ticketPrice"),e.xp6(6),e.Q6J("sortName","serviceFee"),e.xp6(6),e.Q6J("sortName","finalPrice"),e.xp6(6),e.Q6J("sortName","balance"),e.xp6(8),e.Q6J("sticky","left"),e.xp6(33),e.Q6J("ngForOf",t.partOfdata),e.xp6(1),e.Q6J("ngIf",n.listOfData.length)}}function We(a,d){1&a&&e._UZ(0,"div")}function et(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"div",34)(1,"div",35)(2,"div",36),e._uU(3,"Th\u1ed1ng k\xea c\xf4ng n\u1ee3"),e.qZA(),e.TgZ(4,"div",37),e.YNc(5,we,3,0,"button",38),e.TgZ(6,"button",39),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.exportExcel())}),e._UZ(7,"cf-icon",40),e._uU(8," Xu\u1ea5t excel "),e.qZA()()(),e.TgZ(9,"div",41),e.YNc(10,Je,194,41,"div",42),e.YNc(11,Ie,96,33,"div",42),e.YNc(12,je,107,33,"div",42),e.YNc(13,Xe,80,30,"div",42),e.YNc(14,We,1,0,"div",43),e.qZA()()}if(2&a){const t=e.oxw();e.xp6(5),e.Q6J("ngIf","Admin_Accountant"===t.view),e.xp6(4),e.Q6J("ngSwitch",t.view),e.xp6(1),e.Q6J("ngSwitchCase","Admin_Accountant"),e.xp6(1),e.Q6J("ngSwitchCase","Booker"),e.xp6(1),e.Q6J("ngSwitchCase","Agent"),e.xp6(1),e.Q6J("ngSwitchCase","SubAgent")}}function tt(a,d){1&a&&(e.TgZ(0,"div",101)(1,"div",102)(2,"div"),e._UZ(3,"img",103),e.qZA(),e.TgZ(4,"div",104)(5,"div",105),e._uU(6,"Kh\xf4ng c\xf3 k\u1ebft qu\u1ea3"),e.qZA(),e.TgZ(7,"div",106)(8,"div"),e._uU(9,"Kh\xf4ng c\xf3 k\u1ebft qu\u1ea3 \u0111\u1ec3 hi\u1ec3n th\u1ecb"),e.qZA(),e.TgZ(10,"div"),e._uU(11,"Vui l\xf2ng ki\u1ec3m tra l\u1ea1i \u0111i\u1ec1u ki\u1ec7n t\xecm ki\u1ebfm."),e.qZA()()()()())}function nt(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"div",101)(1,"div",102)(2,"div"),e._UZ(3,"img",107),e.qZA(),e.TgZ(4,"div",104)(5,"div",105),e._uU(6,"C\xf3 l\u1ed7i x\u1ea3y ra"),e.qZA(),e.TgZ(7,"div",108),e._uU(8,"Kh\xf4ng th\u1ec3 hi\u1ec3n th\u1ecb danh s\xe1ch c\xf4ng n\u1ee3. Vui l\xf2ng th\u1eed l\u1ea1i!"),e.qZA()(),e.TgZ(9,"button",109),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSearch())}),e._UZ(10,"cf-icon",110),e._uU(11," Th\u1eed l\u1ea1i "),e.qZA()()()}}function it(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"div",111)(1,"div",112)(2,"cf-select",113),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.mobileAccountChange(o))}),e.TgZ(3,"label",5),e._uU(4,"T\xe0i kho\u1ea3n"),e.qZA()(),e.TgZ(5,"div",114)(6,"label",115),e._uU(7,"Kho\u1ea3ng th\u1eddi gian"),e.qZA(),e.TgZ(8,"div",116),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),i=e.MAs(44);return e.KtG(o.mobileDateOptionClick(i))}),e.TgZ(9,"div",117),e._UZ(10,"cf-icon",118),e.TgZ(11,"div",119),e._uU(12,"T\xf9y ch\u1ec9nh"),e.qZA(),e._UZ(13,"cf-icon",120),e.qZA(),e.TgZ(14,"div",121),e._uU(15),e.qZA()()()(),e.TgZ(16,"div")(17,"button",122),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onReSearch())}),e._UZ(18,"cf-icon",123),e.TgZ(19,"div"),e._uU(20,"T\xecm ki\u1ebfm"),e.qZA()()()()}if(2&a){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t.searchForm.controls.userId.value)("data",t.accountOptions)("allowSearch",!1),e.xp6(13),e.Oqu(t.dateOptionStr)}}function ot(a,d){if(1&a&&(e.TgZ(0,"cf-radio",130),e._uU(1),e.qZA()),2&a){const t=d.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.name)}}function at(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"div",124)(1,"div",125)(2,"cf-radio-group",126),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.tempMobileOptionSelected=o)}),e.YNc(3,ot,2,2,"cf-radio",127),e.qZA()(),e.TgZ(4,"div",128)(5,"button",129),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),i=e.MAs(48);return e.KtG(o.dateOptionChange(i))}),e._uU(6,"X\xe1c nh\u1eadn"),e.qZA()()()}if(2&a){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t.mobileOptionSelected),e.xp6(1),e.Q6J("ngForOf",t.dateMobileOption)}}function rt(a,d){if(1&a&&(e.TgZ(0,"cf-radio",130),e._uU(1),e.qZA()),2&a){const t=d.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.name)}}function ct(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"div",124)(1,"div",125)(2,"cf-radio-group",126),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.mobileAccountChange(o))}),e.YNc(3,rt,2,2,"cf-radio",127),e.qZA()(),e.TgZ(4,"div",128)(5,"button",129),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.accountOptionChange())}),e._uU(6,"X\xe1c nh\u1eadn"),e.qZA()()()}if(2&a){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t.searchForm.controls.userId.value),e.xp6(1),e.Q6J("ngForOf",t.accountOptions)}}function lt(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"div",131)(1,"div",132)(2,"div",133),e.NdJ("scrolled",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.scrollDown())})("scrolledUp",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.scrollUp())}),e.TgZ(3,"cf-datepicker-inline",134),e.NdJ("dateSelect",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.onMobileDateSelection(o,i.searchForm.controls.fromDate,i.searchForm.controls.toDate))}),e.qZA()()(),e.TgZ(4,"div",135)(5,"button",129),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onMobileDatePickerOK())}),e._uU(6,"X\xe1c nh\u1eadn"),e.qZA()()()}if(2&a){const t=e.oxw();e.xp6(2),e.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",300)("infiniteScrollUpDistance",2)("scrollWindow",!1)("fromRoot",!0)("alwaysCallback",!0)("infiniteScrollContainer",".ngb-dp-content"),e.xp6(1),e.Q6J("displayMonths",t.numOfMonth)("displayMonthsOffset",t.displayMonthsOffset)("rangeSelection",!0)("fromDate",t.searchForm.controls.fromDate.value)("startDate",t.startDate)("toDate",t.searchForm.controls.toDate.value)}}function st(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"cf-input-group",139)(1,"label",140)(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"input",141),e.NdJ("ngModelChange",function(o){const r=e.CHM(t).$implicit,h=e.oxw(2);return e.KtG(h.mobileFilterInputChange(o,r.fieldName))}),e.qZA()()}if(2&a){const t=d.$implicit,n=e.oxw(2);e.xp6(3),e.Oqu(t.name),e.xp6(1),e.s9C("placeholder",t.placeholder),e.Q6J("ngModel",n.filterData[t.fieldName])}}function ut(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"div",136)(1,"div",137),e.YNc(2,st,5,3,"cf-input-group",138),e.qZA(),e.TgZ(3,"div")(4,"button",122),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.mobileFilterOk())}),e._UZ(5,"cf-icon",123),e.TgZ(6,"div"),e._uU(7,"T\xecm ki\u1ebfm"),e.qZA()()()()}if(2&a){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.filterList)}}function pt(a,d){1&a&&e._UZ(0,"cf-spinner")}let dt=(()=>{class a{constructor(t,n,o,i,r,h,y,c,_,f,v,A){this.calendar=t,this._statisticService=i,this._excelService=r,this._flightDataService=h,this._permissionService=y,this._userService=c,this._modal=_,this._bottomSheetService=f,this._detectMobileService=v,this._route=A,this.accountOptions=[],this.dateType="TODAY",this.listOfData=[],this.pageSize=25,this.currentPage=1,this.filterData={ticketNum:"",bookingCode:"",airline:"",timeIssue:"",description:"",account:"",ticketPrice:"",serviceFee:"",discountNow:"",discountAfter:"",finalPrice:"",depositAmount:"",balance:"",orderNum:"",userAction:"",bookerProfit:"",totalProfit:"",baseFee:"",vatFee:"",taxFee:"",serviceFeeBooker:"",serviceFeeAgent1:"",serviceFeeReference:"",bookerOtherFee:"",airlineOtherFee:"",agentOtherFee:"",totalOtherFee:""},this.tempFilterData={ticketNum:"",bookingCode:"",airline:"",timeIssue:"",description:"",account:"",ticketPrice:"",serviceFee:"",discountNow:"",discountAfter:"",finalPrice:"",depositAmount:"",balance:"",orderNum:"",userAction:"",bookerProfit:"",totalProfit:"",baseFee:"",vatFee:"",taxFee:"",serviceFeeBooker:"",serviceFeeAgent1:"",serviceFeeReference:"",bookerOtherFee:"",airlineOtherFee:"",agentOtherFee:"",totalOtherFee:""},this.dataSource=[],this.state="SUCCESS",this.isLoading=!1,this.dateRangeStr="",this.isMobile=!1,this.mobileOptionSelected="today",this.tempMobileOptionSelected="today",this.tempMobileAccountSelected="",this.dateOptionStr="H\xf4m nay",this.dateMobileOption=[{value:"today",name:"H\xf4m nay"},{value:"7day",name:"7 ng\xe0y g\u1ea7n nh\u1ea5t"},{value:"90day",name:"90 ng\xe0y g\u1ea7n nh\u1ea5t"},{value:"current_month",name:"Th\xe1ng n\xe0y"},{value:"current_quarter",name:"Qu\xfd n\xe0y"},{value:"current_year",name:"N\u0103m"},{value:"custom",name:"T\xf9y ch\u1ec9nh"}],this.filterListAdmin=[{name:"S\u1ed1 v\xe9",placeholder:"Nh\u1eadp s\u1ed1 v\xe9",fieldName:"ticketNum"},{name:"Code",placeholder:"Nh\u1eadp code",fieldName:"bookingCode"},{name:"H\xe3ng",placeholder:"Nh\u1eadp h\xe3ng",fieldName:"airline"},{name:"Ng\xe0y xu\u1ea5t",placeholder:"Nh\u1eadp ng\xe0y xu\u1ea5t",fieldName:"timeIssue"},{name:"Di\u1ec5n gi\u1ea3i",placeholder:"Nh\u1eadp di\u1ec5n gi\u1ea3i",fieldName:"description"},{name:"Ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n",placeholder:"Nh\u1eadp ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n",fieldName:"userAction"},{name:"Thu\u1ed9c \u0111\u1ea1i l\xfd",placeholder:"Nh\u1eadp \u0111\u1ea1i l\xfd",fieldName:"account"},{name:"Gi\xe1 v\xe9 Net",placeholder:"Nh\u1eadp gi\xe1 net",fieldName:"baseFee"},{name:"VAT",placeholder:"Nh\u1eadp vat",fieldName:"vatFee"},{name:"Thu\u1ebf",placeholder:"Nh\u1eadp vat",fieldName:"taxFee"},{name:"Gi\xe1 v\xe9 full",placeholder:"Nh\u1eadp gi\xe1 v\xe9 full",fieldName:"ticketPrice"},{name:"Ph\xed d\u1ecbch v\u1ee5 - Booker",placeholder:"Nh\u1eadp ph\xed d\u1ecbch v\u1ee5 - Booker",fieldName:"serviceFeeBooker"},{name:"Ph\xed d\u1ecbch v\u1ee5 - \u0110\u1ea1i l\xfd",placeholder:"Nh\u1eadp ph\xed d\u1ecbch v\u1ee5 - \u0110\u1ea1i l\xfd",fieldName:"serviceFeeAgent1"},{name:"Ph\xed d\u1ecbch v\u1ee5 - Ref",placeholder:"Nh\u1eadp ph\xed d\u1ecbch v\u1ee5 - Ref",fieldName:"serviceFeeReference"},{name:"T\u1ed5ng ph\xed d\u1ecbch v\u1ee5",placeholder:"Nh\u1eadp t\u1ed5ng ph\xed d\u1ecbch v\u1ee5",fieldName:"serviceFee"},{name:"Ph\xed kh\xe1c - Booker",placeholder:"Nh\u1eadp ph\xed kh\xe1c - Booker",fieldName:"bookerOtherFee"},{name:"Ph\xed d\u1ecbch v\u1ee5 - H\xe3ng",placeholder:"Nh\u1eadp ph\xed d\u1ecbch v\u1ee5 - H\xe3ng",fieldName:"airlineOtherFee"},{name:"Ph\xed kh\xe1c - \u0110\u1ea1i l\xfd",placeholder:"Nh\u1eadp ph\xed kh\xe1c - \u0110\u1ea1i l\xfd",fieldName:"agentOtherFee"},{name:"T\u1ed5ng ph\xed kh\xe1c",placeholder:"Nh\u1eadp t\u1ed5ng ph\xed kh\xe1c",fieldName:"totalOtherFee"},{name:"Chi\u1ebft kh\u1ea5u tr\u1ea3 ngay",placeholder:"Nh\u1eadp CK tr\u1ea3 tr\u01b0\u1edbc",fieldName:"discountNow"},{name:"Chi\u1ebft kh\u1ea5u tr\u1ea3 sau",placeholder:"Nh\u1eadp CK tr\u1ea3 sau",fieldName:"discountAfter"},{name:"Gi\xe1 cu\u1ed1i",placeholder:"Nh\u1eadp gi\xe1 cu\u1ed1i",fieldName:"finalPrice"}],this.filterListBooker=[{name:"S\u1ed1 v\xe9",placeholder:"Nh\u1eadp s\u1ed1 v\xe9",fieldName:"ticketNum"},{name:"Code",placeholder:"Nh\u1eadp code",fieldName:"bookingCode"},{name:"H\xe3ng",placeholder:"Nh\u1eadp h\xe3ng",fieldName:"airline"},{name:"Ng\xe0y xu\u1ea5t",placeholder:"Nh\u1eadp ng\xe0y xu\u1ea5t",fieldName:"timeIssue"},{name:"Di\u1ec5n gi\u1ea3i",placeholder:"Nh\u1eadp di\u1ec5n gi\u1ea3i",fieldName:"description"},{name:"Ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n",placeholder:"Nh\u1eadp ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n",fieldName:"userAction"},{name:"Thu\u1ed9c \u0111\u1ea1i l\xfd",placeholder:"Nh\u1eadp \u0111\u1ea1i l\xfd",fieldName:"account"},{name:"Gi\xe1",placeholder:"Nh\u1eadp gi\xe1",fieldName:"ticketPrice"},{name:"Ph\xed d\u1ecbch v\u1ee5",placeholder:"Nh\u1eadp ph\xed d\u1ecbch v\u1ee5",fieldName:"serviceFee"},{name:"Gi\xe1 cu\u1ed1i",placeholder:"Nh\u1eadp gi\xe1 cu\u1ed1i",fieldName:"finalPrice"},{name:"L\u1ee3i nhu\u1eadn",placeholder:"Nh\u1eadp l\u1ee3i nhu\u1eadn",fieldName:"bookerProfit"},{name:"T\u1ed5ng l\u1ee3i nhu\u1eadn",placeholder:"Nh\u1eadp t\u1ed5ng l\u1ee3i nhu\u1eadn",fieldName:"totalProfit"}],this.filterListAgent=[{name:"S\u1ed1 v\xe9",placeholder:"Nh\u1eadp s\u1ed1 v\xe9",fieldName:"ticketNum"},{name:"Code",placeholder:"Nh\u1eadp code",fieldName:"bookingCode"},{name:"H\xe3ng",placeholder:"Nh\u1eadp h\xe3ng",fieldName:"airline"},{name:"Ng\xe0y xu\u1ea5t",placeholder:"Nh\u1eadp ng\xe0y xu\u1ea5t",fieldName:"timeIssue"},{name:"Di\u1ec5n gi\u1ea3i",placeholder:"Nh\u1eadp di\u1ec5n gi\u1ea3i",fieldName:"description"},{name:"Ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n",placeholder:"Nh\u1eadp ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n",fieldName:"userAction"},{name:"Thu\u1ed9c \u0111\u1ea1i l\xfd",placeholder:"Nh\u1eadp \u0111\u1ea1i l\xfd",fieldName:"account"},{name:"Gi\xe1",placeholder:"Nh\u1eadp \u0111\u1ea1i l\xfd",fieldName:"ticketPrice"},{name:"Ph\xed d\u1ecbch v\u1ee5",placeholder:"Nh\u1eadp \u0111\u1ea1i l\xfd",fieldName:"serviceFee"},{name:"Chi\u1ebft kh\u1ea5u tr\u1ea3 ngay",placeholder:"Nh\u1eadp \u0111\u1ea1i l\xfd",fieldName:"discountNow"},{name:"Chi\u1ebft kh\u1ea5u tr\u1ea3 sau",placeholder:"Nh\u1eadp \u0111\u1ea1i l\xfd",fieldName:"discountAfter"},{name:"Gi\xe1 cu\u1ed1i",placeholder:"Nh\u1eadp \u0111\u1ea1i l\xfd",fieldName:"finalPrice"},{name:"Ti\u1ec1n n\u1ea1p",placeholder:"Nh\u1eadp \u0111\u1ea1i l\xfd",fieldName:"depositAmount"},{name:"S\u1ed1 d\u01b0",placeholder:"Nh\u1eadp \u0111\u1ea1i l\xfd",fieldName:"balance"}],this.filterListSubAgent=[{name:"S\u1ed1 v\xe9",placeholder:"Nh\u1eadp s\u1ed1 v\xe9",fieldName:"ticketNum"},{name:"Code",placeholder:"Nh\u1eadp code",fieldName:"bookingCode"},{name:"H\xe3ng",placeholder:"Nh\u1eadp h\xe3ng",fieldName:"airline"},{name:"Ng\xe0y xu\u1ea5t",placeholder:"Nh\u1eadp ng\xe0y xu\u1ea5t",fieldName:"timeIssue"},{name:"Di\u1ec5n gi\u1ea3i",placeholder:"Nh\u1eadp di\u1ec5n gi\u1ea3i",fieldName:"description"},{name:"Ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n",placeholder:"Nh\u1eadp ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n",fieldName:"userAction"},{name:"Thu\u1ed9c \u0111\u1ea1i l\xfd",placeholder:"Nh\u1eadp \u0111\u1ea1i l\xfd",fieldName:"account"},{name:"Gi\xe1 v\xe9",placeholder:"Nh\u1eadp \u0111\u1ea1i l\xfd",fieldName:"ticketPrice"},{name:"Ph\xed d\u1ecbch v\u1ee5",placeholder:"Nh\u1eadp \u0111\u1ea1i l\xfd",fieldName:"serviceFee"},{name:"Gi\xe1 cu\u1ed1i",placeholder:"Nh\u1eadp \u0111\u1ea1i l\xfd",fieldName:"finalPrice"},{name:"S\u1ed1 d\u01b0",placeholder:"Nh\u1eadp \u0111\u1ea1i l\xfd",fieldName:"balance"}],this.filterList=[],this.dataExportExcel=[],this.currentURL="",this.urlStatisticV2="/admin/statistic-balance-v2",this.sortChange=(N,D)=>{let g=D.map(G=>G);for(let G=0;G<N.length;G++){const E=N[G];switch(E.key){case"ticketNum":g=g.sort("ascend"===E.sort?(u,p)=>this.increaseNumberSort(Number(u.ticketNum),Number(p.ticketNum)):(u,p)=>this.decreaseNumberSort(Number(u.ticketNum),Number(p.ticketNum)));break;case"bookingCode":g=g.sort("ascend"===E.sort?(u,p)=>this.increaseAlphabetSort(u.bookingCode,p.bookingCode):(u,p)=>this.decreaseAlphabetSort(u.bookingCode,p.bookingCode));break;case"provider":g=g.sort("ascend"===E.sort?(u,p)=>this.increaseAlphabetSort(u.provider,p.provider):(u,p)=>this.decreaseAlphabetSort(u.provider,p.provider));break;case"supplier":g=g.sort("ascend"===E.sort?(u,p)=>this.increaseAlphabetSort(u.supplier,p.supplier):(u,p)=>this.decreaseAlphabetSort(u.supplier,p.supplier));break;case"airline":g=g.sort("ascend"===E.sort?(u,p)=>this.increaseAlphabetSort(u.airline,p.airline):(u,p)=>this.decreaseAlphabetSort(u.airline,p.airline));break;case"timeIssue":g=g.sort("ascend"===E.sort?(u,p)=>this.increaseDateSort(u.timeIssue,p.timeIssue):(u,p)=>this.decreaseDateSort(u.timeIssue,p.timeIssue));break;case"userAction":g=g.sort("ascend"===E.sort?(u,p)=>this.increaseAlphabetSort(u.userAction,p.userAction):(u,p)=>this.decreaseAlphabetSort(u.userAction,p.userAction));break;case"account":g=g.sort("ascend"===E.sort?(u,p)=>this.increaseAlphabetSort(u.account,p.account):(u,p)=>this.decreaseAlphabetSort(u.account,p.account));break;case"ticketPrice":g=g.sort("ascend"===E.sort?(u,p)=>this.increaseNumberSort(u.ticketPrice,p.ticketPrice):(u,p)=>this.decreaseNumberSort(u.ticketPrice,p.ticketPrice));break;case"serviceFeeBooker":g=g.sort("ascend"===E.sort?(u,p)=>this.increaseNumberSort(u.serviceFeeReceiverDetail.serviceFeeBooker,p.serviceFeeReceiverDetail.serviceFeeBooker):(u,p)=>this.decreaseNumberSort(u.serviceFeeReceiverDetail.serviceFeeBooker,p.serviceFeeReceiverDetail.serviceFeeBooker));break;case"serviceFeeAgent1":g=g.sort("ascend"===E.sort?(u,p)=>this.increaseNumberSort(u.serviceFeeReceiverDetail.serviceFeeAgent1,p.serviceFeeReceiverDetail.serviceFeeAgent1):(u,p)=>this.decreaseNumberSort(u.serviceFeeReceiverDetail.serviceFeeAgent1,p.serviceFeeReceiverDetail.serviceFeeAgent1));break;case"serviceFeeReference":g=g.sort("ascend"===E.sort?(u,p)=>this.increaseNumberSort(u.serviceFeeReceiverDetail.serviceFeeReference,p.serviceFeeReceiverDetail.serviceFeeReference):(u,p)=>this.decreaseNumberSort(u.serviceFeeReceiverDetail.serviceFeeReference,p.serviceFeeReceiverDetail.serviceFeeReference));break;case"serviceFee":g=g.sort("ascend"===E.sort?(u,p)=>this.increaseNumberSort(u.serviceFee,p.serviceFee):(u,p)=>this.decreaseNumberSort(u.serviceFee,p.serviceFee));break;case"bookerOtherFee":g=g.sort("ascend"===E.sort?(u,p)=>this.increaseNumberSort(u.otherFeeDetail.bookerOtherFee,p.otherFeeDetail.bookerOtherFee):(u,p)=>this.decreaseNumberSort(u.otherFeeDetail.bookerOtherFee,p.otherFeeDetail.bookerOtherFee));break;case"airlineOtherFee":g=g.sort("ascend"===E.sort?(u,p)=>this.increaseNumberSort(u.otherFeeDetail.airlineOtherFee,p.otherFeeDetail.airlineOtherFee):(u,p)=>this.decreaseNumberSort(u.otherFeeDetail.airlineOtherFee,p.otherFeeDetail.airlineOtherFee));break;case"agentOtherFee":g=g.sort("ascend"===E.sort?(u,p)=>this.increaseNumberSort(u.otherFeeDetail.agentOtherFee,p.otherFeeDetail.agentOtherFee):(u,p)=>this.decreaseNumberSort(u.otherFeeDetail.agentOtherFee,p.otherFeeDetail.agentOtherFee));break;case"totalOtherFee":g=g.sort("ascend"===E.sort?(u,p)=>this.increaseNumberSort(u.otherFeeDetail.totalOtherFee,p.otherFeeDetail.totalOtherFee):(u,p)=>this.decreaseNumberSort(u.otherFeeDetail.totalOtherFee,p.otherFeeDetail.totalOtherFee));break;case"discountNow":g=g.sort("ascend"===E.sort?(u,p)=>this.increaseNumberSort(u.discountNow,p.discountNow):(u,p)=>this.decreaseNumberSort(u.discountNow,p.discountNow));break;case"discountAfter":g=g.sort("ascend"===E.sort?(u,p)=>this.increaseNumberSort(u.discountAfter,p.discountAfter):(u,p)=>this.decreaseNumberSort(u.discountAfter,p.discountAfter));break;case"finalPrice":g=g.sort("ascend"===E.sort?(u,p)=>this.increaseNumberSort(u.finalPrice,p.finalPrice):(u,p)=>this.decreaseNumberSort(u.finalPrice,p.finalPrice));break;case"bookerProfit":g=g.sort("ascend"===E.sort?(u,p)=>this.increaseNumberSort(u.bookerProfit,p.bookerProfit):(u,p)=>this.decreaseNumberSort(u.bookerProfit,p.bookerProfit));break;case"totalProfit":g=g.sort("ascend"===E.sort?(u,p)=>this.increaseNumberSort(u.totalProfit,p.totalProfit):(u,p)=>this.decreaseNumberSort(u.totalProfit,p.totalProfit));break;case"depositAmount":g=g.sort("ascend"===E.sort?(u,p)=>this.increaseNumberSort(u.depositAmount,p.depositAmount):(u,p)=>this.decreaseNumberSort(u.depositAmount,p.depositAmount));break;case"balance":g=g.sort("ascend"===E.sort?(u,p)=>this.increaseNumberSort(u.balance,p.balance):(u,p)=>this.decreaseNumberSort(u.balance,p.balance))}}return this.dataExportExcel=g,g},this.searchChange=(N,D)=>D,this.increaseAlphabetSort=(N,D)=>N<D?-1:N>D?1:0,this.decreaseAlphabetSort=(N,D)=>N>D?-1:N<D?1:0,this.increaseNumberSort=(N,D)=>(N||(N=0),D||(D=0),N-D),this.decreaseNumberSort=(N,D)=>(N||(N=0),D||(D=0),D-N),this.increaseDateSort=(N,D)=>N.getTime()-D.getTime(),this.decreaseDateSort=(N,D)=>D.getTime()-N.getTime(),this.DEFAULT_NUM_OF_MONTH=4,this.INCREASE_OFFSET=4,this.numOfMonth=this.DEFAULT_NUM_OF_MONTH,this.displayMonthsOffset=0,this.currentDate=t.getToday(),this.isMobile=v.isMobile(),n.registerIcons([S.wvd,S.esH,S.iYu,S.$S,S.Tdu,S.jKM,S.n78,S.iK7]);const T=new Date,M=(0,Te.Z)(new Date),P=(0,De.Z)(new Date),Q=(0,x.p6)(this.isMobile?T:M,"dd/MM/yyyy","vi-VN"),U=(0,x.p6)(this.isMobile?T:P,"dd/MM/yyyy","vi-VN");this.dateRangeStr=Q+" - "+U,this.searchForm=o.group({fromDate:[this.isMobile?T:M,b.kI.required],toDate:[this.isMobile?T:P,b.kI.required],userId:[""]}),this.currentURL=A.url,this.onSearch()}ngOnInit(){this.initAccount(),this.setView()}setView(){const t=this._permissionService.hasPermission(H.or.ViewStatisticByAdminOrAccountant),n=this._permissionService.hasPermission(H.or.ViewStatisticByBooker),o=this._permissionService.hasPermission(H.or.ViewStatisticByAgent),i=this._permissionService.hasPermission(H.or.ViewStatisticBySubAgent);t?(this.view="Admin_Accountant",this.filterList=this.filterListAdmin):n?(this.view="Booker",this.filterList=this.filterListBooker):o?(this.view="Agent",this.filterList=this.filterListAgent):i?(this.view="SubAgent",this.filterList=this.filterListSubAgent):this.view=""}initAccount(){this.accountOptions=[{name:"T\u1ea5t c\u1ea3",value:""}],this._userService.getAllAgentStatistic().subscribe({next:t=>{var n;const o=(null===(n=t.data)||void 0===n?void 0:n.map(i=>({name:i.userName,value:i.userId})))||[];this.accountOptions=o,this.accountOptions.unshift({name:"T\u1ea5t c\u1ea3",value:""})}})}onDateSelection(t,n,o,i){if(n.value||o.value)if(n.value&&!o.value&&t&&t.getTime()>=n.value.getTime()){o.setValue(t),i.close(),this.startDate=n.value;const r=(0,x.p6)(t,"dd/MM/yyyy","vi-VN");this.dateRangeStr+=r}else{o.setValue(null),n.setValue(t);const r=(0,x.p6)(t,"dd/MM/yyyy","vi-VN");this.dateRangeStr=r+" - "}else{n.setValue(t),o.setValue(null);const r=(0,x.p6)(t,"dd/MM/yyyy","vi-VN");this.dateRangeStr=r+" - "}}changeValue(){this.searchForm.controls.fromDate.setValue(null),this.searchForm.controls.toDate.setValue(null)}onSearch(){if(this.searchForm.valid){this._detectMobileService.isMobile()&&this.mobileSearchBts&&this.mobileSearchBts.dismiss();const t={startDate:(0,x.p6)(this.searchForm.controls.fromDate.value,"yyyy-MM-dd","vi-VN"),endDate:(0,x.p6)(this.searchForm.controls.toDate.value,"yyyy-MM-dd","vi-VN"),userId:this.searchForm.controls.userId.value};this.isLoading=!0,this._statisticService.getStatisticBalanceV2(t).pipe((0,W.x)(()=>this.isLoading=!1)).subscribe({next:n=>{var o;n.data&&n.data.listStatistics.length?(this.dataSource=(null===(o=n.data.listStatistics)||void 0===o?void 0:o.map(i=>{var r,h,y,c,_,f,v,A,T,M,P;return{timeIssue:new Date(1e3*i.timeIssue),ticketNum:i.ticketNum||"-",bookingCode:i.bookingCode||"-",provider:i.provider||"",supplier:i.supplier||"",journeyInfo:i.journeyInfo||"",airline:i.airline||"",airlineLogo:i.airline?this._flightDataService.getAirlineLogoByCode(i.airline):"",description:i.description||"-",account:i.account||"-",ticketPrice:(null==i?void 0:i.ticketPrice)||0,serviceFee:(null==i?void 0:i.serviceFee)||0,discountNow:(null==i?void 0:i.discountNow)||0,discountAfter:(null==i?void 0:i.discountAfter)||0,discountReceiverDetail:{discountAgent1:(null===(r=i.discountReceiverDetail)||void 0===r?void 0:r.discountAgent1)||0,discountAgent2:(null===(h=i.discountReceiverDetail)||void 0===h?void 0:h.discountAgent2)||0,totalDiscountFee:(null===(y=i.discountReceiverDetail)||void 0===y?void 0:y.totalDiscountFee)||0},serviceFeeReceiverDetail:{serviceFeeAgent1:(null===(c=i.serviceFeeReceiverDetail)||void 0===c?void 0:c.serviceFeeAgent1)||0,serviceFeeAgent2:(null===(_=i.serviceFeeReceiverDetail)||void 0===_?void 0:_.serviceFeeAgent2)||0,serviceFeeBooker:(null===(f=i.serviceFeeReceiverDetail)||void 0===f?void 0:f.serviceFeeBooker)||0,serviceFeeReference:(null===(v=i.serviceFeeReceiverDetail)||void 0===v?void 0:v.serviceFeeReference)||0},otherFeeDetail:{bookerOtherFee:(null===(A=i.otherFeeDetail)||void 0===A?void 0:A.bookerOtherFee)||0,airlineOtherFee:(null===(T=i.otherFeeDetail)||void 0===T?void 0:T.airlineOtherFee)||0,agentOtherFee:(null===(M=i.otherFeeDetail)||void 0===M?void 0:M.agentOtherFee)||0,totalOtherFee:(null===(P=i.otherFeeDetail)||void 0===P?void 0:P.totalOtherFee)||0},finalPrice:(null==i?void 0:i.finalPrice)||0,depositAmount:(null==i?void 0:i.depositAmount)||0,balance:(null==i?void 0:i.balance)||0,orderNum:i.orderNum,userAction:i.userAction||"-",bookerProfit:i.bookerProfit||0,totalProfit:i.totalProfit||0,baseFee:(null==i?void 0:i.baseFee)||0,vatFee:(null==i?void 0:i.vatFee)||0,taxFee:(null==i?void 0:i.taxFee)||0}}))||[],this.totalOfData=n.data.total,this.state="SUCCESS"):(this.dataSource=[],this.state="EMPTY"),this.listOfData=this.dataSource.map(i=>Object.assign({},i))},error:()=>{this.state="ERROR"}})}this.searchForm.markAllAsTouched()}filterChange(t){var n;this.filterData[t.target.id]=(null===(n=t.target.value.trim())||void 0===n?void 0:n.toUpperCase())||"",this.processFilter()}processFilter(){const t=(n,o)=>this.filterData[o]?n[o]&&(n[o]+"").toUpperCase().includes(this.filterData[o]):n;this.listOfData=this.dataSource.filter(n=>t(n,"ticketNum")).filter(n=>t(n,"bookingCode")).filter(n=>t(n,"provider")).filter(n=>t(n,"airline")).filter(n=>this.filterData.timeIssue?n.ticketNum&&(0,be.Z)(n.timeIssue,"dd/MM/yyyy").includes(this.filterData.timeIssue):n).filter(n=>t(n,"description")).filter(n=>t(n,"userAction")).filter(n=>t(n,"account")).filter(n=>t(n,"ticketPrice")).filter(n=>t(n,"serviceFee")).filter(n=>t(n,"finalPrice")).filter(n=>t(n,"bookerProfit")).filter(n=>t(n,"totalProfit")).filter(n=>t(n,"serviceFeeBooker")).filter(n=>t(n,"serviceFeeAgent1")).filter(n=>t(n,"serviceFeeReference")).filter(n=>t(n,"bookerOtherFee")).filter(n=>t(n,"airlineOtherFee")).filter(n=>t(n,"agentOtherFee")).filter(n=>t(n,"totalOtherFee"))}checkChange(t){this.pageSize=parseInt(t)}exportExcel(){var t;const n=this.dataExportExcel.reduce((c,_)=>{var f,v,A,T,M,P,Q;return{baseFee:c.baseFee+_.baseFee,vatFee:c.vatFee+_.vatFee,taxFee:c.taxFee+_.taxFee,ticketPrice:c.ticketPrice+_.ticketPrice,serviceFeeBooker:c.serviceFeeBooker+(null===(f=_.serviceFeeReceiverDetail)||void 0===f?void 0:f.serviceFeeBooker),serviceFeeAgent1:c.serviceFeeAgent1+(null===(v=_.serviceFeeReceiverDetail)||void 0===v?void 0:v.serviceFeeAgent1)||0,serviceFeeReference:c.serviceFeeReference+(null===(A=_.serviceFeeReceiverDetail)||void 0===A?void 0:A.serviceFeeReference)||0,serviceFee:c.serviceFee+_.serviceFee,bookerOtherFee:c.bookerOtherFee+(null===(T=_.otherFeeDetail)||void 0===T?void 0:T.bookerOtherFee)||0,airlineOtherFee:c.airlineOtherFee+(null===(M=_.otherFeeDetail)||void 0===M?void 0:M.airlineOtherFee)||0,agentOtherFee:c.agentOtherFee+(null===(P=_.otherFeeDetail)||void 0===P?void 0:P.agentOtherFee)||0,totalOtherFee:c.totalOtherFee+(null===(Q=_.otherFeeDetail)||void 0===Q?void 0:Q.totalOtherFee)||0,discountNow:c.discountNow+_.discountNow,discountAfter:c.discountAfter+_.discountAfter,finalPrice:c.finalPrice+_.finalPrice}},{baseFee:0,vatFee:0,taxFee:0,ticketPrice:0,serviceFeeBooker:0,serviceFeeAgent1:0,serviceFeeReference:0,serviceFee:0,bookerOtherFee:0,airlineOtherFee:0,agentOtherFee:0,totalOtherFee:0,discountNow:0,discountAfter:0,finalPrice:0}),i=`ThongKeCongNo_${JSON.parse(null!==(t=localStorage.getItem("currentUser"))&&void 0!==t?t:"").data.username}`;let r=[],h=[],y=[];switch(this.view){case"Admin_Accountant":r=this.dataExportExcel.map(c=>{var _,f,v,A,T,M,P,Q,U,N;let D="";return D="vn"===(null===(_=c.airline)||void 0===_?void 0:_.toLocaleLowerCase())?c.ticketNum:"vj"===(null===(f=c.airline)||void 0===f?void 0:f.toLocaleLowerCase())?`VJA${c.bookingCode}`:"qh"===(null===(v=c.airline)||void 0===v?void 0:v.toLocaleLowerCase())?c.ticketNum:`UNT${q(c.timeIssue).format("MMDD")}`,{ticketNum:c.ticketNum,bookingCode:c.bookingCode,journeyInfo:c.journeyInfo,airline:c.airline,provider:c.provider,supplier:c.supplier,nbr:D,timeIssue:(0,x.p6)(c.timeIssue,"dd/MM/yyyy","vi-VN"),description:c.description,userAction:c.userAction,account:c.account,baseFee:c.baseFee,vatFee:c.vatFee,taxFee:c.taxFee,ticketPrice:c.ticketPrice,serviceFeeBooker:null===(A=c.serviceFeeReceiverDetail)||void 0===A?void 0:A.serviceFeeBooker,serviceFeeAgent1:null===(T=c.serviceFeeReceiverDetail)||void 0===T?void 0:T.serviceFeeAgent1,serviceFeeReference:null===(M=c.serviceFeeReceiverDetail)||void 0===M?void 0:M.serviceFeeReference,serviceFee:c.serviceFee,bookerOtherFee:null===(P=c.otherFeeDetail)||void 0===P?void 0:P.bookerOtherFee,airlineOtherFee:null===(Q=c.otherFeeDetail)||void 0===Q?void 0:Q.airlineOtherFee,agentOtherFee:null===(U=c.otherFeeDetail)||void 0===U?void 0:U.agentOtherFee,totalOtherFee:null===(N=c.otherFeeDetail)||void 0===N?void 0:N.totalOtherFee,discountNow:c.discountNow,discountAfter:c.discountAfter,finalPrice:c.finalPrice}}).concat([{ticketNum:"",bookingCode:"",journeyInfo:"",airline:"",provider:"",supplier:"",nbr:"",timeIssue:"",description:"",userAction:"",account:"",baseFee:n.baseFee,vatFee:n.vatFee,taxFee:n.taxFee,ticketPrice:n.ticketPrice,serviceFeeBooker:n.serviceFeeBooker,serviceFeeAgent1:n.serviceFeeAgent1,serviceFeeReference:n.serviceFeeReference,serviceFee:n.serviceFee,bookerOtherFee:n.bookerOtherFee,airlineOtherFee:n.airlineOtherFee,agentOtherFee:n.agentOtherFee,totalOtherFee:n.totalOtherFee,discountNow:n.discountNow,discountAfter:n.discountAfter,finalPrice:n.finalPrice}]),h=["S\u1ed1 v\xe9","Code","H\xe0nh tr\xecnh","H\xe3ng","Provider","NCC","S\u1ed1 CT","Ng\xe0y xu\u1ea5t","Di\u1ec5n gi\u1ea3i","Ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n","Thu\u1ed9c \u0111\u1ea1i l\xfd","Gi\xe1 v\xe9 Net \n(1)","VAT \n(2)","Thu\u1ebf \n(3)","Gi\xe1 v\xe9 full \n(4)=(1)+(2)+(3)","Ph\xed d\u1ecbch v\u1ee5 - Booker \n(5)","Ph\xed d\u1ecbch v\u1ee5 - \u0110\u1ea1i l\xfd \n(6)","Ph\xed d\u1ecbch v\u1ee5 - Ref \n(7)","T\u1ed5ng ph\xed d\u1ecbch v\u1ee5 \n(8)=(5)+(6)+(7)","Ph\xed kh\xe1c - Booker \n(9)","Ph\xed d\u1ecbch v\u1ee5 - H\xe3ng \n(10)","Ph\xed kh\xe1c - \u0110\u1ea1i l\xfd \n(11)","T\u1ed5ng ph\xed kh\xe1c \n(12)=(9)+(10)+(11)","Chi\u1ebft kh\u1ea5u tr\u1ea3 ngay \n(13)","Chi\u1ebft kh\u1ea5u tr\u1ea3 sau \n(14)","Gi\xe1 cu\u1ed1i \n(15)=(4)+(8)+(12)+(13)"],y=[{wch:20},{wch:10},{wch:15},{wch:10},{wch:10},{wch:10},{wch:15},{wch:15},{wch:30},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15}];break;case"Booker":r=this.dataExportExcel.map(c=>({ticketNum:c.ticketNum,bookingCode:c.bookingCode,journeyInfo:c.journeyInfo,airline:c.airline,provider:c.provider,supplier:c.supplier,timeIssue:(0,x.p6)(c.timeIssue,"dd/MM/yyyy","vi-VN"),description:c.description,userAction:c.userAction,account:c.account,ticketPrice:c.ticketPrice,serviceFee:c.serviceFee,finalPrice:c.finalPrice,bookerProfit:c.bookerProfit,totalProfit:c.totalProfit})).concat([{ticketNum:"",bookingCode:"",journeyInfo:"",airline:"",provider:"",supplier:"",timeIssue:"",description:"",userAction:"",account:"",ticketPrice:n.ticketPrice,serviceFee:n.serviceFee,finalPrice:n.finalPrice,bookerProfit:n.bookerProfit,totalProfit:n.totalProfit}]),h=["S\u1ed1 v\xe9","Code","H\xe0nh tr\xecnh","H\xe3ng","Provider","NCC","Ng\xe0y xu\u1ea5t","Di\u1ec5n gi\u1ea3i","Ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n","Thu\u1ed9c \u0111\u1ea1i l\xfd","Gi\xe1 \n(1)","Ph\xed d\u1ecbch v\u1ee5 \n(2)","Gi\xe1 cu\u1ed1i \n(3)=(1)+(2)","L\u1ee3i nhu\u1eadn","T\u1ed5ng l\u1ee3i nhu\u1eadn"],y=[{wch:20},{wch:10},{wch:15},{wch:10},{wch:10},{wch:10},{wch:15},{wch:30},{wch:20},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15}];break;case"Agent":r=this.dataExportExcel.map(c=>({ticketNum:c.ticketNum,bookingCode:c.bookingCode,airline:c.airline,timeIssue:(0,x.p6)(c.timeIssue,"dd/MM/yyyy","vi-VN"),description:c.description,userAction:c.userAction,account:c.account,ticketPrice:c.ticketPrice,serviceFee:c.serviceFee,discountNow:c.discountNow,discountAfter:c.discountAfter,finalPrice:c.finalPrice,depositAmount:c.depositAmount,balance:c.balance})).concat([{ticketNum:"",bookingCode:"",airline:"",timeIssue:"",description:"",userAction:"",account:"",ticketPrice:n.ticketPrice,serviceFee:n.serviceFee,discountNow:n.discountNow,discountAfter:n.discountAfter,finalPrice:n.finalPrice,depositAmount:n.depositAmount,balance:n.balance}]),h=["S\u1ed1 v\xe9","Code","H\xe3ng","Ng\xe0y xu\u1ea5t","Di\u1ec5n gi\u1ea3i","Ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n","Thu\u1ed9c \u0111\u1ea1i l\xfd","Gi\xe1 \n(1)","Ph\xed d\u1ecbch v\u1ee5 \n(2)","Chi\u1ebft kh\u1ea5u tr\u1ea3 ngay \n(3)","Chi\u1ebft kh\u1ea5u tr\u1ea3 sau \n(4)","Gi\xe1 cu\u1ed1i \n(5)=(1)+(2)-(3)","Ti\u1ec1n n\u1ea1p \n(6)","S\u1ed1 d\u01b0 \n(7)=Tr\u01b0\u1edbc-(5)+(6)"],y=[{wch:20},{wch:10},{wch:10},{wch:15},{wch:30},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15}];break;case"SubAgent":r=this.dataExportExcel.map(c=>({ticketNum:c.ticketNum,bookingCode:c.bookingCode,airline:c.airline,timeIssue:(0,x.p6)(c.timeIssue,"dd/MM/yyyy","vi-VN"),description:c.description,userAction:c.userAction,account:c.account,ticketPrice:c.ticketPrice,serviceFee:c.serviceFee,finalPrice:c.finalPrice,balance:c.balance})).concat([{ticketNum:"",bookingCode:"",airline:"",timeIssue:"",description:"",userAction:"",account:"",ticketPrice:n.ticketPrice,serviceFee:n.serviceFee,finalPrice:n.finalPrice,balance:n.balance}]),h=["S\u1ed1 v\xe9","Code","H\xe3ng","Ng\xe0y xu\u1ea5t","Di\u1ec5n gi\u1ea3i","Ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n","Thu\u1ed9c \u0111\u1ea1i l\xfd","Gi\xe1 v\xe9 \n(1)","Ph\xed d\u1ecbch v\u1ee5 \n(2)","Gi\xe1 cu\u1ed1i \n(3)=(1)+(2)","S\u1ed1 d\u01b0 \n(4)=Tr\u01b0\u1edbc-(3)"],y=[{wch:20},{wch:10},{wch:10},{wch:15},{wch:30},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15}]}this._excelService.exportToExcel(r,h,i,y)}exportExcelForAccountant(){this._modal.open(Fe,{}).afterClosed$.subscribe({next:n=>{if(n.data){const o={startDate:n.data.startDate?q(n.data.startDate).format("YYYY-MM-DD"):"",endDate:n.data.endDate?q(n.data.endDate).format("YYYY-MM-DD"):"",provider:n.data.provider};this.isLoading=!0,this._statisticService.statisticsForAccountant(o).pipe((0,W.x)(()=>this.isLoading=!1)).subscribe({next:i=>{if("OK"===i.status){const r=`cong_no_${q(n.data.startDate).format("DDMMYYYY")}_${q(n.data.endDate).format("DDMMYYYY")}`,h=["TT","ISS DATE","TKT NO","PNR CODE","TKT TYPE","PROVIDER CODE","CUST CODE","PAX NAME","ROUTE","CURR","ROE","FARE (S)","FARE (B)","VAT","TAX","CHARGE","PENALTY","SVF","COMM CUST","REMARK","BOOKER","DEP_DATE","ARV_DATE","TOUR CODE","Rmks"],y=[{wch:20},{wch:10},{wch:15},{wch:10},{wch:10},{wch:20},{wch:15},{wch:25},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:25},{wch:25},{wch:15},{wch:15}],c=i.data.map((_,f)=>({tt:f+1,issDate:_.issueDate,tktNo:_.ticketNumber,pnrCode:_.bookingCode,tktType:_.ticketType,providerCode:_.providerCode,custCode:_.customerCode,paxName:_.paxName,route:_.route,curr:_.currency,roe:_.roe,fare_s:_.fare,fare_b:_.fare,vat:_.vat,tax:_.tax,charge:_.charge,penalty:_.penalty,svf:_.penalty,commCust:_.discount,remark:"",booker:_.bookerName,depDate:_.departureDate,arvDate:_.arrivalDate,tourCode:_.tourCode,rmks:""}));this._excelService.exportToExcel(c,h,r,y)}}})}}})}onExpand(t){this._modal.open(de.G,{description:t,title:"Di\u1ec5n gi\u1ea3i"})}onReSearch(){console.log(this.tempMobileAccountSelected),this.searchForm.controls.userId.setValue(this.tempMobileAccountSelected),this.onSearch()}openSearchBts(t){this.mobileSearchBts=this._bottomSheetService.open(t,{headerTitle:"T\xecm ki\u1ebfm",containerFullHeigh:!0,rightButtonIcon:"",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",restoreFocus:!1}),this.mobileSearchBts.containerInstance._leftButtonClick.subscribe(()=>this.mobileSearchBts.dismiss())}mobileDateOptionClick(t){this.dateOptionBts=this._bottomSheetService.open(t,{headerTitle:"Kho\u1ea3ng th\u1eddi gian",rightButtonIcon:"",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",restoreFocus:!1}),this.dateOptionBts.containerInstance._leftButtonClick.subscribe(()=>this.dateOptionBts.dismiss())}openAccountBts(t){this.accountOptionBts=this._bottomSheetService.open(t,{headerTitle:"T\xe0i kho\u1ea3n",rightButtonIcon:"",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",restoreFocus:!1}),this.accountOptionBts.containerInstance._leftButtonClick.subscribe(()=>this.accountOptionBts.dismiss())}openDateOptionBts(t){this.mobileDateOptionClick(t),this.dateOptionBts.afterDismissed().subscribe(n=>{n&&this.onSearch()})}accountOptionChange(){this.accountOptionBts.dismiss(),this.onReSearch()}mobileAccountChange(t){this.tempMobileAccountSelected=t}dateOptionChange(t){var n;this.mobileOptionSelected=this.tempMobileOptionSelected;let o=new Date,i=new Date;const r=this.calendar.getToday();switch(this.tempMobileOptionSelected){case"today":o=new Date,i=new Date;break;case"7day":i=new Date,o=(0,Z.we)(this.calendar.getPrev((0,Z.jy)(i),"d",7));break;case"90day":i=new Date,o=(0,Z.we)(this.calendar.getPrev((0,Z.jy)(i),"d",90));break;case"current_month":o=new Date,o.setDate(1),i=(0,Z.we)(this.calendar.getNext((0,Z.jy)(o),"m",1)),i=(0,Z.we)(this.calendar.getPrev((0,Z.jy)(i),"d",1));break;case"current_quarter":const h=r.month;h>=1&&h<=3?(o=(0,Z.we)(Z.Ao.from({year:r.year,month:1,day:1})),i=(0,Z.we)(Z.Ao.from({year:r.year,month:3,day:31}))):h>=4&&h<=6?(o=(0,Z.we)(Z.Ao.from({year:r.year,month:4,day:1})),i=(0,Z.we)(Z.Ao.from({year:r.year,month:6,day:30}))):h>=7&&h<=9?(o=(0,Z.we)(Z.Ao.from({year:r.year,month:7,day:1})),i=(0,Z.we)(Z.Ao.from({year:r.year,month:9,day:30}))):h>=10&&h<=12&&(o=(0,Z.we)(Z.Ao.from({year:r.year,month:10,day:1})),i=(0,Z.we)(Z.Ao.from({year:r.year,month:12,day:31})));break;case"current_year":o=(0,Z.we)(Z.Ao.from({year:r.year,month:1,day:1})),i=(0,Z.we)(Z.Ao.from({year:r.year,month:12,day:31}));break;case"custom":const y=this._bottomSheetService.open(t,{headerTitle:"T\xf9y ch\u1ec9nh th\u1eddi gian",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",rightButtonIcon:"",containerFullHeigh:!0,restoreFocus:!1});y.afterDismissed().subscribe(c=>{this.displayMonthsOffset=0,this.numOfMonth=0}),y.containerInstance._leftButtonClick.subscribe(c=>{y.dismiss()}),setTimeout(()=>{this.displayMonthsOffset=this.DEFAULT_NUM_OF_MONTH})}this.searchForm.controls.fromDate.setValue(o),this.searchForm.controls.toDate.setValue(i),"custom"!=this.tempMobileOptionSelected&&(this.dateOptionStr=null===(n=this.dateMobileOption.find(h=>h.value===this.tempMobileOptionSelected))||void 0===n?void 0:n.name,this._bottomSheetService.dismiss(this.tempMobileOptionSelected))}scrollDown(){this.numOfMonth=this.numOfMonth+this.INCREASE_OFFSET}scrollUp(){this.displayMonthsOffset=this.displayMonthsOffset+this.INCREASE_OFFSET}onMobileDateSelection(t,n,o){if(n.value||o.value)if(n.value&&!o.value&&t&&t.getTime()>=n.value.getTime()){o.setValue(t),this.startDate=n.value;const i=(0,x.p6)(t,"dd/MM/yyyy","vi-VN");this.dateRangeStr+=i}else if(n.value&&o.value&&t&&t.getTime()>o.value.getTime()){o.setValue(null),n.setValue(t);const i=(0,x.p6)(t,"dd/MM/yyyy","vi-VN");this.dateRangeStr=i+" - "}else{n.setValue(t);const i=(0,x.p6)(t,"dd/MM/yyyy","vi-VN");this.dateRangeStr=i+" - "}else{n.setValue(t);const i=(0,x.p6)(t,"dd/MM/yyyy","vi-VN");this.dateRangeStr=i+" - "}}onMobileDatePickerOK(){this._bottomSheetService.dismiss(),this.dateOptionBts.dismiss(this.tempMobileOptionSelected),this.dateOptionStr=this.dateRangeStr}openFilterBts(t){this.tempFilterData={ticketNum:"",bookingCode:"",airline:"",timeIssue:"",description:"",account:"",ticketPrice:"",serviceFee:"",discountNow:"",discountAfter:"",finalPrice:"",depositAmount:"",balance:"",orderNum:"",userAction:"",bookerProfit:"",totalProfit:"",baseFee:"",vatFee:"",taxFee:"",serviceFeeBooker:"",serviceFeeAgent1:"",serviceFeeReference:"",bookerOtherFee:"",airlineOtherFee:"",agentOtherFee:"",totalOtherFee:""};const n=this._bottomSheetService.open(t,{headerTitle:"B\u1ed9 l\u1ecdc",containerFullHeigh:!0,rightButtonIcon:"",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",restoreFocus:!1});n.containerInstance._leftButtonClick.subscribe(()=>n.dismiss())}mobileFilterInputChange(t,n){this.tempFilterData[n]=t}mobileFilterOk(){this.filterData=Object.assign({},this.tempFilterData),this.processFilter(),this._bottomSheetService.dismiss()}gotoBookingDetail(t,n){this._route.navigate([`admin/booking-detail/${t}/${n}`])}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(Z.jH),e.Y36(S.KNP),e.Y36(b.qu),e.Y36(Ce),e.Y36(me.x),e.Y36(Ae.G),e.Y36(H.$A),e.Y36(Ne.KD),e.Y36(z.oE),e.Y36(V.a2),e.Y36(Ze.L),e.Y36(Ee.F0))},a.\u0275cmp=e.Xpm({type:a,selectors:[["statistic-management-page"]],hostAttrs:[1,"md:h-full","md:flex","md:flex-col","md:justify-start","md:items-stretch","!block"],standalone:!0,features:[e.jDz],decls:52,vars:20,consts:[[1,"py-4","px-[30px]","bg-white","w-full","md:hidden"],[1,"flex"],[1,"flex","mr-2"],[1,"grow",3,"status"],["cfHeadIcon","","icon","calendar","size","small"],["cfLabel",""],["tabindex","-1","cf-input","","type","text","size","medium","placeholder","Ch\u1ecdn kho\u1ea3ng th\u1eddi gian",1,"py-[7px]",3,"ngModel","click","input","ngModelChange"],["cfHint","",3,"hint",4,"ngIf"],["cfDatepicker","","type","text","outsideDays","hidden",1,"w-0","m-0","mr-2","bottom-0",3,"secondaryCalendar","displayMonths","rangeSelection","containerWidth","startDate","canReset","fromDate","toDate","dateSelect"],["dateRange","cfDatepicker"],["textField","name","valueField","value","size","medium","placeholder","Ch\u1ecdn \u0111\u1ea1i l\xfd",1,"grow-[180]","mr-4",3,"formControl","data","allowSearch"],[1,"flex","flex-col","justify-end","w-[168px]","shrink-0"],["cf-button","","type","secondary","size","medium",1,"justify-center",3,"disabled","click"],["cfHeadIcon","","icon","search","size","small",1,"mr-2"],[1,"hidden","md:flex","flex-col","py-3","px-4","gap-y-3","pr-0","bg-neutral-white","min-h-[140px]"],[1,"text-heading-sm","text-neutral-gray-6"],[1,"hidden","!w-full","md:pr-4","md:block"],["cfHeadIcon","","icon","search","size","small"],["size","medium","cf-input","","placeholder","T\xecm ki\u1ebfm t\xe0i kho\u1ea3n...",3,"focus"],[1,"flex","gap-x-3","overflow-x-auto","mx-1"],[1,"gap-x-1.5","items-center","border","border-neutral-gray-3","rounded-full","px-4","py-[5px]","hidden","md:flex",3,"click"],[1,"text-body-md","whitespace-nowrap"],["icon","filter_alt","size","small",1,"text-neutral-gray-5"],["icon","chevron_down","size","small",1,"text-neutral-gray-5"],[1,"py-4","px-[30px]","rounded-lg","md:py-4","md:pr-0","md:pl-4","md:flex-auto","md:overflow-y-hidden"],["class","bg-neutral-white rounded-lg shadow-cf-md md:h-full",4,"ngIf"],["class","bg-neutral-white rounded-lg shadow-cf-md md:mr-4",4,"ngIf"],["searchBts",""],["dateOptionMobile",""],["accountOptionMobile",""],["timeDatepickerBottomSheet",""],["filterBts",""],[4,"ngIf"],["cfHint","",3,"hint"],[1,"bg-neutral-white","rounded-lg","shadow-cf-md","md:h-full"],[1,"p-4","flex","justify-between","items-center","md:hidden"],[1,"text-heading-sm"],[1,"flex","items-center","gap-x-2"],["cf-button","","type","secondary",3,"click",4,"ngIf"],["cf-button","","type","secondary",3,"click"],["icon","export","size","small",1,"mr-2.5"],[1,"md:h-full",3,"ngSwitch"],["class","md:h-full",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"md:h-full"],[1,"",3,"fnSort","fnSearch","hidePaginationInfo","hidePageSize","pageSizeList","listData","pageSize"],["managerTable",""],["cf-thead",""],["cf-th","",1,"whitespace-nowrap","z-[11]","top-0",3,"sticky","sortName"],[1,"min-w-[80px]"],["cf-th","",1,"whitespace-nowrap","top-0","sticky","bg-neutral-gray-1",3,"sortName"],["cf-th","",1,"whitespace-nowrap","z-10","top-0","sticky","bg-neutral-gray-1"],["cf-th","",1,"whitespace-nowrap","top-0","sticky","bg-neutral-gray-1","flex-col"],[1,"flex-col"],["cf-th","",1,"whitespace-nowrap","top-0","sticky","bg-neutral-gray-1","flex-col",3,"sortName"],[1,"md:hidden"],["cf-td","",1,"py-2","px-1","!bg-neutral-white",3,"sticky"],[1,"grow","!w-auto"],["type","text","size","medium","cf-input","","placeholder","L\u1ecdc","id","ticketNum",3,"input"],[1,"py-2","px-1"],["type","text","size","medium","cf-input","","placeholder","L\u1ecdc","id","bookingCode",3,"input"],["type","text","size","medium","cf-input","","placeholder","L\u1ecdc","id","journeyInfo",3,"input"],["type","text","size","medium","cf-input","","placeholder","L\u1ecdc","id","airline",3,"input"],["type","text","size","medium","cf-input","","placeholder","L\u1ecdc","id","provider",3,"input"],["type","text","size","medium","cf-input","","placeholder","L\u1ecdc","id","supplier",3,"input"],["type","text","size","medium","cf-input","","placeholder","L\u1ecdc","id","timeIssue",3,"input"],["type","text","size","medium","cf-input","","placeholder","L\u1ecdc","id","description",3,"input"],["type","text","size","medium","cf-input","","placeholder","L\u1ecdc","id","userAction",3,"input"],["type","text","size","medium","cf-input","","placeholder","L\u1ecdc","id","account",3,"input"],["type","text","size","medium","cf-input","","placeholder","L\u1ecdc","id","baseFee",3,"input"],["type","text","size","medium","cf-input","","placeholder","L\u1ecdc","id","vatFee",3,"input"],["type","text","size","medium","cf-input","","placeholder","L\u1ecdc","id","taxFee",3,"input"],["type","text","size","medium","cf-input","","placeholder","L\u1ecdc","id","ticketPrice",3,"input"],["type","text","size","medium","cf-input","","placeholder","L\u1ecdc","id","serviceFeeBooker",3,"input"],["type","text","size","medium","cf-input","","placeholder","L\u1ecdc","id","serviceFeeAgent1",3,"input"],["type","text","size","medium","cf-input","","placeholder","L\u1ecdc","id","serviceFeeReference",3,"input"],["type","text","size","medium","cf-input","","placeholder","L\u1ecdc","id","serviceFee",3,"input"],["type","text","size","medium","cf-input","","placeholder","L\u1ecdc","id","bookerOtherFee",3,"input"],["type","text","size","medium","cf-input","","placeholder","L\u1ecdc","id","airlineOtherFee",3,"input"],["type","text","size","medium","cf-input","","placeholder","L\u1ecdc","id","agentOtherFee",3,"input"],["type","text","size","medium","cf-input","","placeholder","L\u1ecdc","id","totalOtherFee",3,"input"],["type","text","size","medium","cf-input","","placeholder","L\u1ecdc","id","discountNow",3,"input"],["type","text","size","medium","cf-input","","placeholder","L\u1ecdc","id","discountAfter",3,"input"],["type","text","size","medium","cf-input","","placeholder","L\u1ecdc","id","finalPrice",3,"input"],["ngFor","",3,"ngForOf"],[1,"border-b","border-neutral-gray-1"],["cf-td","",1,"py-2","px-3","text-body-sm","!bg-neutral-white","whitespace-nowrap",3,"sticky"],["cf-td","",1,"py-2","px-3","text-body-sm"],[1,"text-espressive-sm","text-secondary-3-4","cursor-pointer","whitespace-nowrap",3,"click"],["class","w-12 h-6 object-contain",3,"src",4,"ngIf"],["cf-td","",1,"py-2","px-3","text-body-sm","group","relative"],[1,"w-[170px]","overflow-ellipsis","whitespace-nowrap","overflow-hidden"],["icon","expand","size","small",1,"group-hover:block","hidden","text-body-sm","absolute","right-0","top-0","cursor-pointer",3,"click"],["cf-td","",1,"py-2","px-3","text-body-sm","text-right",3,"ngClass"],[1,"w-12","h-6","object-contain",3,"src"],["cf-td","",1,"!bg-neutral-white",3,"sticky"],[1,"py-2","px-3","text-espressive-semibold-sm","text-right",3,"ngClass"],["type","text","size","medium","cf-input","","placeholder","L\u1ecdc","id","bookerProfit",3,"input"],["type","text","size","medium","cf-input","","placeholder","L\u1ecdc","id","totalProfit",3,"input"],["type","text","size","medium","cf-input","","placeholder","L\u1ecdc","id","depositAmount",3,"input"],["type","text","size","medium","cf-input","","placeholder","L\u1ecdc","id","balance",3,"input"],[1,"bg-neutral-white","rounded-lg","shadow-cf-md","md:mr-4"],[1,"flex","flex-col","gap-y-8","justify-center","items-center","py-[120px]"],["src","assets/images/empty-result.svg","alt",""],[1,"flex","flex-col","gap-y-2","items-center"],[1,"text-heading-md"],[1,"text-body-md-short","text-center"],["src","assets/images/error.svg","alt",""],[1,"text-body-md-short"],["cf-button","","size","medium",3,"click"],["cfHeadIcon","","icon","refresh","size","small",1,"mr-2"],[1,"p-4","w-full","flex","flex-col","justify-between"],[1,"flex","flex-col","gap-y-4"],["textField","name","valueField","value","size","medium","placeholder","Ch\u1ecdn t\xe0i kho\u1ea3n",1,"w-full","max-w-none","mr-4",3,"ngModel","data","allowSearch","ngModelChange"],[1,"flex","flex-col"],[1,"text-espressive-md","text-neutral-gray-5","mb-1.5"],[1,"border","border-neutral-gray-3","rounded","flex",3,"click"],[1,"py-2.5","px-3","flex","items-center","gap-x-2","border-r","border-r-neutral-gray-3"],["icon","circle_add","size","small"],[1,"text-body-md-short","text-neutral-gray-6"],["icon","chevron_down","size","small"],[1,"py-2.5","px-3","text-body-md-short","text-neutral-gray-6"],["cf-button","",1,"w-full","justify-center","gap-x-2",3,"click"],["icon","search","size","small"],[1,"flex","flex-col","justify-between","w-full"],[1,"p-4","pb-2"],[1,"flex","flex-col","gap-y-4",3,"ngModel","ngModelChange"],["size","medium",3,"value",4,"ngFor","ngForOf"],[1,"p-4"],["cf-button","",1,"justify-center","w-full",3,"click"],["size","medium",3,"value"],[1,"flex","w-full","h-full","flex-col","justify-between"],[1,"grow","overflow-y-hidden","flex","pb-12"],["infinite-scroll","",1,"w-full","flex",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollUpDistance","scrollWindow","fromRoot","alwaysCallback","infiniteScrollContainer","scrolled","scrolledUp"],["outsideDays","hidden","navigation","none","direction","vertical",1,"",3,"displayMonths","displayMonthsOffset","rangeSelection","fromDate","startDate","toDate","dateSelect"],[1,"p-4","fixed","bottom-0","w-full","right-0","bg-neutral-white"],[1,"p-4","w-full","flex","flex-col","justify-between","gap-y-4"],[1,"flex","flex-col","gap-y-4","overflow-y-auto"],["class","!w-full",4,"ngFor","ngForOf"],[1,"!w-full"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5"],["size","medium","cf-input","",3,"placeholder","ngModel","ngModelChange"]],template:function(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"cf-input-group",3),e._UZ(4,"cf-icon",4),e.TgZ(5,"label",5),e._uU(6,"Kho\u1ea3ng th\u1eddi gian"),e.qZA(),e.TgZ(7,"input",6),e.NdJ("click",function(){e.CHM(o);const r=e.MAs(10);return e.KtG(r.open())})("input",function(){return n.changeValue()})("ngModelChange",function(r){return n.dateRangeStr=r}),e.qZA(),e.YNc(8,Me,1,1,"cf-input-hint",7),e.qZA(),e.TgZ(9,"input",8,9),e.NdJ("dateSelect",function(r){e.CHM(o);const h=e.MAs(10);return e.KtG(n.onDateSelection(r,n.searchForm.controls.fromDate,n.searchForm.controls.toDate,h))}),e.qZA()(),e.TgZ(11,"cf-select",10)(12,"label",5),e._uU(13,"T\xe0i kho\u1ea3n"),e.qZA()(),e.TgZ(14,"div",11)(15,"button",12),e.NdJ("click",function(){return n.onSearch()}),e._UZ(16,"cf-icon",13),e._uU(17," T\xecm ki\u1ebfm "),e.qZA()()()(),e.TgZ(18,"div",14)(19,"div",15),e._uU(20,"Th\u1ed1ng k\xea c\xf4ng n\u1ee3"),e.qZA(),e.TgZ(21,"cf-input-group",16),e._UZ(22,"cf-icon",17),e.TgZ(23,"input",18),e.NdJ("focus",function(){e.CHM(o);const r=e.MAs(42);return e.KtG(n.openSearchBts(r))}),e.qZA()(),e.TgZ(24,"div",19)(25,"div",20),e.NdJ("click",function(){e.CHM(o);const r=e.MAs(50);return e.KtG(n.openFilterBts(r))}),e.TgZ(26,"div",21),e._uU(27,"B\u1ed9 l\u1ecdc"),e.qZA(),e._UZ(28,"cf-icon",22),e.qZA(),e.TgZ(29,"div",20),e.NdJ("click",function(){e.CHM(o);const r=e.MAs(44);return e.KtG(n.openDateOptionBts(r))}),e.TgZ(30,"div",21),e._uU(31),e.qZA(),e._UZ(32,"cf-icon",23),e.qZA(),e.TgZ(33,"div",20),e.NdJ("click",function(){e.CHM(o);const r=e.MAs(46);return e.KtG(n.openAccountBts(r))}),e.TgZ(34,"div",21),e._uU(35,"T\xe0i kho\u1ea3n"),e.qZA(),e._UZ(36,"cf-icon",23),e.qZA()()(),e.TgZ(37,"div",24),e.YNc(38,et,15,6,"div",25),e.YNc(39,tt,12,0,"div",26),e.YNc(40,nt,12,0,"div",26),e.qZA(),e.YNc(41,it,21,4,"ng-template",null,27,e.W1O),e.YNc(43,at,7,2,"ng-template",null,28,e.W1O),e.YNc(45,ct,7,2,"ng-template",null,29,e.W1O),e.YNc(47,lt,7,13,"ng-template",null,30,e.W1O),e.YNc(49,ut,8,1,"ng-template",null,31,e.W1O),e.YNc(51,pt,1,0,"cf-spinner",32)}2&t&&(e.xp6(3),e.Q6J("status",n.searchForm.invalid?"error":"default"),e.xp6(4),e.Q6J("ngModel",n.dateRangeStr),e.xp6(1),e.Q6J("ngIf",n.searchForm.invalid),e.xp6(1),e.Q6J("secondaryCalendar","lunar")("displayMonths",2)("rangeSelection",!0)("containerWidth",600)("startDate",n.startDate)("canReset",!1)("fromDate",n.searchForm.controls.fromDate.value)("toDate",n.searchForm.controls.toDate.value),e.xp6(2),e.Q6J("formControl",n.searchForm.controls.userId)("data",n.accountOptions)("allowSearch",!0),e.xp6(4),e.Q6J("disabled",n.searchForm.invalid),e.xp6(16),e.Oqu(n.dateOptionStr),e.xp6(7),e.Q6J("ngIf","SUCCESS"===n.state),e.xp6(1),e.Q6J("ngIf","EMPTY"===n.state),e.xp6(1),e.Q6J("ngIf","ERROR"===n.state),e.xp6(11),e.Q6J("ngIf",n.isLoading))},dependencies:[b.u5,b.Fj,b.JJ,b.On,b.UX,b.oH,O.j$,O.ND,O.BN,O.v2,se.q,x.ez,x.mk,x.sg,x.O5,x.RF,x.n9,x.ED,x.JJ,x.uU,S.AxE,S.Sm8,Z.Cs,I.N8,I.Xq,L.rC,L.E_,L.zs,L.qS,Se,ue.OR,V.DW,ve.T,ve.o,ge.Rq,ge.Ry,Z._o],encapsulation:2}),a})();var gt=C(24513),_t=C(44890),ht=C(95226),mt=C(62331);function ft(a,d){1&a&&e._UZ(0,"cf-input-hint",20),2&a&&e.Q6J("hint","Th\u1eddi gian kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function vt(a,d){if(1&a&&e._UZ(0,"img",49),2&a){const t=e.oxw().$implicit;e.Q6J("src",t.airlineLogo,e.LSH)}}function xt(a,d){1&a&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}const J=function(a){return{"text-primary-1-4":a}};function Ct(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"tr",41)(1,"td",42),e._uU(2),e.qZA(),e.TgZ(3,"td",43),e._uU(4),e.qZA(),e.TgZ(5,"td",43),e.YNc(6,vt,1,1,"img",44),e.YNc(7,xt,2,0,"span",19),e.qZA(),e.TgZ(8,"td",43),e._uU(9),e.ALo(10,"date"),e.qZA(),e.TgZ(11,"td",45)(12,"div",46),e._uU(13),e.qZA(),e.TgZ(14,"cf-icon",47),e.NdJ("click",function(){const i=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.onExpand(i.description))}),e.qZA()(),e.TgZ(15,"td",43),e._uU(16),e.qZA(),e.TgZ(17,"td",43),e._uU(18),e.qZA(),e.TgZ(19,"td",48),e._uU(20),e.ALo(21,"number"),e.qZA(),e.TgZ(22,"td",48),e._uU(23),e.ALo(24,"number"),e.qZA(),e.TgZ(25,"td",48),e._uU(26),e.ALo(27,"number"),e.qZA(),e.TgZ(28,"td",48),e._uU(29),e.ALo(30,"number"),e.qZA(),e.TgZ(31,"td",48),e._uU(32),e.ALo(33,"number"),e.qZA(),e.TgZ(34,"td",48),e._uU(35),e.ALo(36,"number"),e.qZA(),e.TgZ(37,"td",48),e._uU(38),e.ALo(39,"number"),e.qZA()()}if(2&a){const t=d.$implicit;e.xp6(1),e.Q6J("sticky","left"),e.xp6(1),e.hij(" ",t.ticketNum||"-"," "),e.xp6(2),e.Oqu(t.bookingCode||"-"),e.xp6(2),e.Q6J("ngIf",t.airline),e.xp6(1),e.Q6J("ngIf",!t.airline),e.xp6(2),e.hij(" ",t.timeIssue?e.xi3(10,23,t.timeIssue,"dd/MM/yyyy HH:mm"):"-"," "),e.xp6(4),e.hij(" ",t.description||"-"," "),e.xp6(3),e.Oqu(t.userAction||"-"),e.xp6(2),e.Oqu(t.account||"-"),e.xp6(1),e.Q6J("ngClass",e.VKq(40,J,t.ticketPrice<0)),e.xp6(1),e.hij(" ",e.lcZ(21,26,t.ticketPrice)," "),e.xp6(2),e.Q6J("ngClass",e.VKq(42,J,t.serviceFee<0)),e.xp6(1),e.hij(" ",e.lcZ(24,28,t.serviceFee)," "),e.xp6(2),e.Q6J("ngClass",e.VKq(44,J,t.discountNow<0)),e.xp6(1),e.hij(" ",e.lcZ(27,30,t.discountNow)," "),e.xp6(2),e.Q6J("ngClass",e.VKq(46,J,t.discountAfter<0)),e.xp6(1),e.hij("",e.lcZ(30,32,t.discountAfter)," "),e.xp6(2),e.Q6J("ngClass",e.VKq(48,J,t.finalPrice<0)),e.xp6(1),e.hij(" ",e.lcZ(33,34,t.finalPrice)," "),e.xp6(2),e.Q6J("ngClass",e.VKq(50,J,t.depositAmount<0)),e.xp6(1),e.hij("",e.lcZ(36,36,t.depositAmount)," "),e.xp6(2),e.Q6J("ngClass",e.VKq(52,J,t.balance<0)),e.xp6(1),e.hij("",e.lcZ(39,38,t.balance)," ")}}function At(a,d){if(1&a&&(e.TgZ(0,"tfoot")(1,"tr"),e._UZ(2,"td",50)(3,"td")(4,"td")(5,"td")(6,"td")(7,"td")(8,"td"),e.TgZ(9,"td",51),e._uU(10),e.ALo(11,"replace"),e.ALo(12,"number"),e.qZA(),e.TgZ(13,"td",51),e._uU(14),e.ALo(15,"replace"),e.ALo(16,"number"),e.qZA(),e.TgZ(17,"td",51),e._uU(18),e.ALo(19,"replace"),e.ALo(20,"number"),e.qZA(),e.TgZ(21,"td",51),e._uU(22),e.ALo(23,"replace"),e.ALo(24,"number"),e.qZA(),e.TgZ(25,"td",51),e._uU(26),e.ALo(27,"replace"),e.ALo(28,"number"),e.qZA(),e.TgZ(29,"td",51),e._uU(30),e.ALo(31,"replace"),e.ALo(32,"number"),e.qZA(),e.TgZ(33,"td",51),e._uU(34),e.ALo(35,"replace"),e.ALo(36,"number"),e.qZA()()()),2&a){const t=e.oxw(2);e.xp6(2),e.Q6J("sticky","left"),e.xp6(7),e.Q6J("ngClass",e.VKq(57,J,t.totalOfData.totalTicketPrice<0)),e.xp6(1),e.hij(" ",e.Dn7(11,15,e.lcZ(12,19,(null==t.totalOfData?null:t.totalOfData.totalTicketPrice)||0),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(59,J,t.totalOfData.totalServiceFee<0)),e.xp6(1),e.hij(" ",e.Dn7(15,21,e.lcZ(16,25,(null==t.totalOfData?null:t.totalOfData.totalServiceFee)||0),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(61,J,t.totalOfData.totalDiscountNow<0)),e.xp6(1),e.hij(" ",e.Dn7(19,27,e.lcZ(20,31,(null==t.totalOfData?null:t.totalOfData.totalDiscountNow)||0),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(63,J,t.totalOfData.totalDiscountAfter<0)),e.xp6(1),e.hij(" ",e.Dn7(23,33,e.lcZ(24,37,(null==t.totalOfData?null:t.totalOfData.totalDiscountAfter)||0),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(65,J,t.totalOfData.totalFinalPrice<0)),e.xp6(1),e.hij(" ",e.Dn7(27,39,e.lcZ(28,43,(null==t.totalOfData?null:t.totalOfData.totalFinalPrice)||0),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(67,J,t.totalOfData.totalDepositAmount<0)),e.xp6(1),e.hij(" ",e.Dn7(31,45,e.lcZ(32,49,(null==t.totalOfData?null:t.totalOfData.totalDepositAmount)||0),",",".")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(69,J,t.totalOfData.totalBalance<0)),e.xp6(1),e.hij(" ",e.Dn7(35,51,e.lcZ(36,55,(null==t.totalOfData?null:t.totalOfData.totalBalance)||0),",",".")," ")}}const Zt=function(){return{num:10}},Tt=function(a){return[a]};function Dt(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"div",21)(1,"div",22)(2,"div",23),e._uU(3),e.qZA(),e.TgZ(4,"button",24),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(9),i=e.oxw();return e.KtG(i.exportExcel(o.data))}),e._UZ(5,"cf-icon",25),e._uU(6," Xu\u1ea5t excel "),e.qZA()(),e.TgZ(7,"div",26)(8,"cf-table",27,28)(10,"thead",29)(11,"th",30)(12,"div",31),e._uU(13," S\u1ed1 v\xe9 "),e.qZA()(),e.TgZ(14,"th",32),e._uU(15,"Code"),e.qZA(),e.TgZ(16,"th",32),e._uU(17,"H\xe3ng"),e.qZA(),e.TgZ(18,"th",32),e._uU(19,"Ng\xe0y xu\u1ea5t"),e.qZA(),e.TgZ(20,"th",33),e._uU(21,"Di\u1ec5n gi\u1ea3i"),e.qZA(),e.TgZ(22,"th",32),e._uU(23,"Ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n "),e.qZA(),e.TgZ(24,"th",32),e._uU(25,"Thu\u1ed9c \u0111\u1ea1i l\xfd"),e.qZA(),e.TgZ(26,"th",34)(27,"div",35)(28,"div"),e._uU(29,"Gi\xe1"),e.qZA(),e.TgZ(30,"span"),e._uU(31,"(1)"),e.qZA()()(),e.TgZ(32,"th",34)(33,"div",35)(34,"div"),e._uU(35,"Ph\xed d\u1ecbch v\u1ee5"),e.qZA(),e.TgZ(36,"span"),e._uU(37,"(2)"),e.qZA()()(),e.TgZ(38,"th",34)(39,"div",35)(40,"div"),e._uU(41,"Chi\u1ebft kh\u1ea5u tr\u1ea3 ngay"),e.qZA(),e.TgZ(42,"span"),e._uU(43,"(3)"),e.qZA()()(),e.TgZ(44,"th",34)(45,"div",35)(46,"div"),e._uU(47,"Chi\u1ebft kh\u1ea5u tr\u1ea3 sau"),e.qZA(),e.TgZ(48,"span"),e._uU(49,"(4)"),e.qZA()()(),e.TgZ(50,"th",34)(51,"div",35)(52,"div"),e._uU(53,"Gi\xe1 cu\u1ed1i"),e.qZA(),e.TgZ(54,"span"),e._uU(55,"(5) = (1) + (2) - (3)"),e.qZA()()(),e.TgZ(56,"th",34)(57,"div",35)(58,"div"),e._uU(59,"Ti\u1ec1n n\u1ea1p"),e.qZA(),e.TgZ(60,"span"),e._uU(61,"(6)"),e.qZA()()(),e.TgZ(62,"th",34)(63,"div",35)(64,"div"),e._uU(65,"S\u1ed1 d\u01b0"),e.qZA(),e.TgZ(66,"span"),e._uU(67,"(7) = Tr\u01b0\u1edbc - (5) + (6)"),e.qZA()()()(),e.TgZ(68,"tbody")(69,"tr")(70,"td",36)(71,"cf-input-group",37)(72,"input",38),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.filterData.ticketNum=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.filterChange())}),e.qZA()()(),e.TgZ(73,"td",39)(74,"cf-input-group",37)(75,"input",38),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.filterData.bookingCode=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.filterChange())}),e.qZA()()(),e.TgZ(76,"td",39)(77,"cf-input-group",37)(78,"input",38),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.filterData.airline=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.filterChange())}),e.qZA()()(),e.TgZ(79,"td",39)(80,"cf-input-group",37)(81,"input",38),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.filterData.timeIssue=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.filterChange())}),e.qZA()()(),e.TgZ(82,"td",39)(83,"cf-input-group",37)(84,"input",38),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.filterData.description=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.filterChange())}),e.qZA()()(),e.TgZ(85,"td",39)(86,"cf-input-group",37)(87,"input",38),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.filterData.userAction=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.filterChange())}),e.qZA()()(),e.TgZ(88,"td",39)(89,"cf-input-group",37)(90,"input",38),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.filterData.account=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.filterChange())}),e.qZA()()(),e.TgZ(91,"td",39)(92,"cf-input-group",37)(93,"input",38),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.filterData.ticketPrice=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.filterChange())}),e.qZA()()(),e.TgZ(94,"td",39)(95,"cf-input-group",37)(96,"input",38),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.filterData.serviceFee=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.filterChange())}),e.qZA()()(),e.TgZ(97,"td",39)(98,"cf-input-group",37)(99,"input",38),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.filterData.discountNow=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.filterChange())}),e.qZA()()(),e.TgZ(100,"td",39)(101,"cf-input-group",37)(102,"input",38),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.filterData.discountAfter=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.filterChange())}),e.qZA()()(),e.TgZ(103,"td",39)(104,"cf-input-group",37)(105,"input",38),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.filterData.finalPrice=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.filterChange())}),e.qZA()()(),e.TgZ(106,"td",39)(107,"cf-input-group",37)(108,"input",38),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.filterData.depositAmount=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.filterChange())}),e.qZA()()(),e.TgZ(109,"td",39)(110,"cf-input-group",37)(111,"input",38),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.filterData.balance=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.filterChange())}),e.qZA()()()(),e.YNc(112,Ct,40,54,"ng-template",40),e.qZA(),e.YNc(113,At,37,71,"tfoot",19),e.qZA()()()}if(2&a){const t=e.MAs(9),n=e.oxw();e.xp6(3),e.hij(" Th\u1ed1ng k\xea c\xf4ng n\u1ee3 \u0111\u1ea1i l\xfd ",null==n.agentInfo?null:n.agentInfo.username," "),e.xp6(5),e.Q6J("fnSort",n.sortChange)("fnSearch",n.searchChange)("pageSizeList",e.VKq(31,Tt,e.DdM(30,Zt)))("listData",n.listOfData)("pageSize",n.pageSize),e.xp6(3),e.Q6J("sticky","left")("sortName","ticketNum"),e.xp6(3),e.Q6J("sortName","bookingCode"),e.xp6(2),e.Q6J("sortName","airline"),e.xp6(2),e.Q6J("sortName","timeIssue"),e.xp6(4),e.Q6J("sortName","userAction"),e.xp6(2),e.Q6J("sortName","account"),e.xp6(46),e.Q6J("sticky","left"),e.xp6(2),e.Q6J("ngModel",n.filterData.ticketNum),e.xp6(3),e.Q6J("ngModel",n.filterData.bookingCode),e.xp6(3),e.Q6J("ngModel",n.filterData.airline),e.xp6(3),e.Q6J("ngModel",n.filterData.timeIssue),e.xp6(3),e.Q6J("ngModel",n.filterData.description),e.xp6(3),e.Q6J("ngModel",n.filterData.userAction),e.xp6(3),e.Q6J("ngModel",n.filterData.account),e.xp6(3),e.Q6J("ngModel",n.filterData.ticketPrice),e.xp6(3),e.Q6J("ngModel",n.filterData.serviceFee),e.xp6(3),e.Q6J("ngModel",n.filterData.discountNow),e.xp6(3),e.Q6J("ngModel",n.filterData.discountAfter),e.xp6(3),e.Q6J("ngModel",n.filterData.finalPrice),e.xp6(3),e.Q6J("ngModel",n.filterData.depositAmount),e.xp6(3),e.Q6J("ngModel",n.filterData.balance),e.xp6(1),e.Q6J("ngForOf",t.partOfdata),e.xp6(1),e.Q6J("ngIf",n.listOfData.length)}}function bt(a,d){1&a&&(e.TgZ(0,"div",52)(1,"div",53)(2,"div"),e._UZ(3,"img",54),e.qZA(),e.TgZ(4,"div",55)(5,"div",56),e._uU(6,"Kh\xf4ng c\xf3 k\u1ebft qu\u1ea3"),e.qZA(),e.TgZ(7,"div",57)(8,"div"),e._uU(9,"Kh\xf4ng c\xf3 k\u1ebft qu\u1ea3 \u0111\u1ec3 hi\u1ec3n th\u1ecb"),e.qZA(),e.TgZ(10,"div"),e._uU(11,"Vui l\xf2ng ki\u1ec3m tra l\u1ea1i \u0111i\u1ec1u ki\u1ec7n t\xecm ki\u1ebfm."),e.qZA()()()()())}function St(a,d){1&a&&e._UZ(0,"cf-spinner")}let yt=(()=>{class a{constructor(t,n,o,i,r,h,y){this.ref=t,this._modal=o,this._balanceService=i,this._flightDataService=r,this._excelService=h,this._toastService=y,this.dataSource=[],this.listOfData=[],this.invalidTimeFilter=!1,this.dateRangeStr="",this.pageSize=10,this.isLoading=!1,this.filterData={ticketNum:"",bookingCode:"",airline:"",timeIssue:"",description:"",userAction:"",account:"",ticketPrice:"",serviceFee:"",discountNow:"",discountAfter:"",finalPrice:"",depositAmount:"",balance:""},this.isEmpty=!1,this.sortChange=(f,v)=>{let A=v.map(T=>T);for(let T=0;T<f.length;T++){const M=f[T];switch(M.key){case"ticketNum":A=this.stringSort(A,M,"ticketNum");break;case"timeIssue":A=this.numberSort(A,M,"timeIssue");break;case"bookingCode":A=this.stringSort(A,M,"bookingCode");break;case"airline":A=this.stringSort(A,M,"airline");break;case"account":A=this.stringSort(A,M,"account")}}return A},this.searchChange=(f,v)=>v,this.increaseAlphabetSort=(f,v)=>f<v?-1:f>v?1:0,this.decreaseAlphabetSort=(f,v)=>f>v?-1:f<v?1:0,this.increaseNumberSort=(f,v)=>f-v,this.decreaseNumberSort=(f,v)=>v-f,n.registerIcons([S.UNF,S.esH]),this.agentInfo=t.data.agentInfo,this.startTime=t.data.startTime,this.endTime=t.data.endTime;const c=q(this.startTime).format("DD/MM/YYYY"),_=q(this.endTime).format("DD/MM/YYYY");this.dateRangeStr=c+" - "+_,this.getTracingBalance()}getTracingBalance(){if(this.invalidTimeFilter)return;const t={agentId:this.agentInfo.userId||"",startDate:this.startTime?q(this.startTime).format("DD/MM/YYYY"):"",endDate:this.endTime?q(this.endTime).format("DD/MM/YYYY"):""};this.isLoading=!0,this._balanceService.tracingBalance(t).pipe((0,W.x)(()=>this.isLoading=!1)).subscribe({next:n=>{var o,i,r;if("OK"===n.status)this.dataSource=(null===(o=n.data.listStatistics)||void 0===o?void 0:o.map(h=>Object.assign(Object.assign({},h),{ticketNum:h.ticketNum||"",bookingCode:h.bookingCode||"",airline:h.airline||"",airlineLogo:this._flightDataService.getAirlineLogoByCode(h.airline),timeIssue:1e3*h.timeIssue,description:h.description||"",userAction:h.userAction||"",account:h.account||"",ticketPrice:h.ticketPrice||0,serviceFee:h.serviceFee||0,discountNow:h.discountNow||0,discountAfter:h.discountAfter||0,finalPrice:h.finalPrice||0,depositAmount:h.depositAmount||0,balance:h.balance||0,orderNum:h.orderNum||0,subOrderNum:h.subOrderNum||0})))||[],this.totalOfData=n.data.total,this.listOfData=this.dataSource.map(h=>h),this.isEmpty=!this.listOfData.length;else{const h=(null===(r=null===(i=n.objectError)||void 0===i?void 0:i.errorDescription)||void 0===r?void 0:r.vi)||"Kh\xf4ng th\u1ec3 l\u1ea5y th\xf4ng tin c\xf4ng n\u1ee3. Vui l\xf2ng th\u1eed l\u1ea1i!";this._toastService.add({severity:"error",summary:"C\xf3 l\u1ed7i x\u1ea3y ra",detail:h,sticky:!0}),this.ref.close(!1)}},error:()=>{this._toastService.add({severity:"error",summary:"C\xf3 l\u1ed7i x\u1ea3y ra",detail:"Kh\xf4ng th\u1ec3 l\u1ea5y th\xf4ng tin c\xf4ng n\u1ee3. Vui l\xf2ng th\u1eed l\u1ea1i!",sticky:!0}),this.ref.close(!1)}})}close(){this.ref.close(!1)}onDateSelection(t,n,o,i){if(n||o)if(n&&!o&&t&&t.getTime()>=n.getTime()){this.endTime=t,i.close(),this.startDate=n;const r=q(t).format("DD/MM/YYYY");this.dateRangeStr+=r}else{this.startTime=t,this.endTime=null;const r=q(t).format("DD/MM/YYYY");this.dateRangeStr=r+" - "}else{this.startTime=t,this.endTime=null;const r=q(t).format("DD/MM/YYYY");this.dateRangeStr=r+" - "}this.invalidTimeFilter=!(this.startTime&&this.endTime)}onExpand(t){this._modal.open(de.G,{description:t,title:"Di\u1ec5n gi\u1ea3i"})}exportExcel(t){const n=`ThongKeCongNo_${this.agentInfo.username}`;this._excelService.exportToExcel(t.map(o=>({ticketNum:o.ticketNum,bookingCode:o.bookingCode,airline:o.airline,timeIssue:o.timeIssue?q(o.timeIssue).format("DD/MM/YYYY HH:mm"):"-",description:o.description,userAction:o.userAction,account:o.account,ticketPrice:o.ticketPrice,serviceFee:o.serviceFee,discountNow:o.discountNow,discountAfter:o.discountAfter,finalPrice:o.finalPrice,depositAmount:o.depositAmount,balance:o.balance})),["S\u1ed1 v\xe9","Code","H\xe3ng","Ng\xe0y xu\u1ea5t","Di\u1ec5n gi\u1ea3i","Ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n","Thu\u1ed9c \u0111\u1ea1i l\xfd","Gi\xe1","Ph\xed d\u1ecbch v\u1ee5","Chi\u1ebft kh\u1ea5u tr\u1ea3 ngay","Chi\u1ebft kh\u1ea5u tr\u1ea3 sau","Gi\xe1 cu\u1ed1i","Ti\u1ec1n n\u1ea1p","S\u1ed1 d\u01b0"],n,[{wch:20},{wch:10},{wch:10},{wch:15},{wch:30},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15},{wch:15}])}filterChange(){this.listOfData=this.dataSource.filter(t=>{var n,o,i,r,h,y,c;const _=this.removeAccents(this.filterData.ticketNum.toLowerCase());if(!this.removeAccents(t.ticketNum.toLowerCase()).includes(_))return!1;const v=this.removeAccents(this.filterData.bookingCode.toLowerCase());if(!this.removeAccents(t.bookingCode.toLowerCase()).includes(v))return!1;const T=this.removeAccents(this.filterData.airline.toLowerCase());if(!this.removeAccents(t.airline.toLowerCase()).includes(T))return!1;const P=this.removeAccents(this.filterData.timeIssue.toLowerCase());if(!this.removeAccents(q(t.timeIssue).format("DD/MM/YYYY").toLowerCase()).includes(P))return!1;const U=this.removeAccents(this.filterData.description.toLowerCase());if(!this.removeAccents(t.description.toLowerCase()).includes(U))return!1;const D=this.removeAccents(this.filterData.userAction.toLowerCase());if(!this.removeAccents(t.userAction.toLowerCase()).includes(D))return!1;const G=this.removeAccents(this.filterData.account.toLowerCase());if(!this.removeAccents(t.account.toLowerCase()).includes(G))return!1;const u=this.removeAccents(this.filterData.ticketPrice.toLowerCase());if(!this.removeAccents(null===(n=t.ticketPrice)||void 0===n?void 0:n.toString().toLowerCase()).includes(u))return!1;const Vt=this.removeAccents(this.filterData.serviceFee.toLowerCase());if(!this.removeAccents(null===(o=t.serviceFee)||void 0===o?void 0:o.toString().toLowerCase()).includes(Vt))return!1;const zt=this.removeAccents(this.filterData.discountNow.toLowerCase());if(!this.removeAccents(null===(i=t.discountNow)||void 0===i?void 0:i.toString().toLowerCase()).includes(zt))return!1;const $t=this.removeAccents(this.filterData.discountAfter.toLowerCase());if(!this.removeAccents(null===(r=t.discountAfter)||void 0===r?void 0:r.toString().toLowerCase()).includes($t))return!1;const Xt=this.removeAccents(this.filterData.finalPrice.toLowerCase());if(!this.removeAccents(null===(h=t.finalPrice)||void 0===h?void 0:h.toString().toLowerCase()).includes(Xt))return!1;const Wt=this.removeAccents(this.filterData.depositAmount.toLowerCase());if(!this.removeAccents(null===(y=t.depositAmount)||void 0===y?void 0:y.toString().toLowerCase()).includes(Wt))return!1;const en=this.removeAccents(this.filterData.balance.toLowerCase());return!!this.removeAccents(null===(c=t.balance)||void 0===c?void 0:c.toString().toLowerCase()).includes(en)})}removeAccents(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\u0111/g,"d").replace(/\u0110/g,"D")}stringSort(t,n,o){return t.sort("ascend"===n.sort?(i,r)=>this.increaseAlphabetSort(i[o],r[o]):(i,r)=>this.decreaseAlphabetSort(i[o],r[o]))}numberSort(t,n,o){return t.sort("ascend"===n.sort?(i,r)=>this.increaseNumberSort(i[o],r[o]):(i,r)=>this.decreaseNumberSort(i[o],r[o]))}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(z.gb),e.Y36(S.KNP),e.Y36(z.oE),e.Y36(ht.mO),e.Y36(Ae.G),e.Y36(me.x),e.Y36(mt.BX))},a.\u0275cmp=e.Xpm({type:a,selectors:[["tracing-balance-page"]],standalone:!0,features:[e.jDz],decls:24,vars:15,consts:[[1,"w-[1200px]","max-h-[746px]","overflow-hidden","rounded-lg","bg-neutral-white","flex","flex-col"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-neutral-gray-1"],[1,"text-heading-xs","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"bg-white","px-[30px]","py-4","flex"],[1,"flex","gap-x-2"],[1,"grow","w-[388px]",3,"status"],["cfHeadIcon","","icon","calendar","size","small"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5"],["cf-input","","type","text","size","medium","placeholder","Ch\u1ecdn ng\xe0y kh\u1edfi h\xe0nh",1,"py-[7px]",3,"ngModel","click","ngModelChange"],[1,"hidden"],["cfHint","",3,"hint",4,"ngIf"],["cfDatepicker","","type","text","outsideDays","hidden",1,"w-0","m-0","mr-2","bottom-0",3,"secondaryCalendar","displayMonths","rangeSelection","containerWidth","startDate","canReset","fromDate","toDate","dateSelect"],["dateRange","cfDatepicker"],["cf-button","",1,"mt-7",3,"disabled","click"],["icon","search",1,"mr-2"],[1,"flex-auto","h-full","flex","flex-col","bg-neutral-gray-2","px-[30px]","py-5","overflow-auto"],["class","bg-white h-full flex flex-col rounded-lg overflow-hidden",4,"ngIf"],["class","bg-neutral-white rounded-lg shadow-cf-md",4,"ngIf"],[4,"ngIf"],["cfHint","",3,"hint"],[1,"bg-white","h-full","flex","flex-col","rounded-lg","overflow-hidden"],[1,"flex","justify-between","items-center","p-4"],[1,"text-heading-sm"],["cf-button","","type","secondary",3,"click"],["icon","export","size","small",1,"mr-2"],[1,"flex","flex-col","h-full","overflow-auto"],[1,"",3,"fnSort","fnSearch","pageSizeList","listData","pageSize"],["managerTable",""],["cf-thead",""],["cf-th","",1,"whitespace-nowrap","z-[11]","top-0",3,"sticky","sortName"],[1,"min-w-[80px]"],["cf-th","",1,"whitespace-nowrap","top-0","sticky","bg-neutral-gray-1",3,"sortName"],["cf-th","",1,"whitespace-nowrap","z-10","top-0","sticky","bg-neutral-gray-1"],["cf-th","",1,"whitespace-nowrap","top-0","sticky","bg-neutral-gray-1","flex-col"],[1,"flex-col"],["cf-td","",1,"py-2","px-1","!bg-neutral-white",3,"sticky"],[1,"grow","!w-auto"],["type","text","size","medium","cf-input","","placeholder","L\u1ecdc",3,"ngModel","ngModelChange","input"],[1,"py-2","px-1"],["ngFor","",3,"ngForOf"],[1,"border-b","border-neutral-gray-1"],["cf-td","",1,"py-2","px-3","text-body-sm","!bg-neutral-white","whitespace-nowrap",3,"sticky"],["cf-td","",1,"py-2","px-3","text-body-sm"],["class","w-12 h-6 object-contain",3,"src",4,"ngIf"],["cf-td","",1,"py-2","px-3","text-body-sm","group","relative"],[1,"w-[170px]","overflow-ellipsis","whitespace-nowrap","overflow-hidden"],["icon","expand","size","small",1,"group-hover:block","hidden","text-body-sm","absolute","right-0","top-0","cursor-pointer",3,"click"],["cf-td","",1,"py-2","px-3","text-body-sm","text-right",3,"ngClass"],[1,"w-12","h-6","object-contain",3,"src"],["cf-td","",1,"!bg-neutral-white",3,"sticky"],[1,"py-2","px-3","text-espressive-semibold-sm","text-right",3,"ngClass"],[1,"bg-neutral-white","rounded-lg","shadow-cf-md"],[1,"flex","flex-col","gap-y-8","justify-center","items-center","py-[120px]"],["src","assets/images/empty-result.svg","alt",""],[1,"flex","flex-col","gap-y-2","items-center"],[1,"text-heading-md"],[1,"text-body-md-short","text-center"]],template:function(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div")(2,"div",1)(3,"div",2),e._uU(4,"Tra so\xe1t c\xf4ng n\u1ee3"),e.qZA(),e.TgZ(5,"cf-icon",3),e.NdJ("click",function(){return n.close()}),e.qZA()(),e.TgZ(6,"div",4)(7,"div",5)(8,"cf-input-group",6),e._UZ(9,"cf-icon",7),e.TgZ(10,"label",8),e._uU(11," Kho\u1ea3ng th\u1eddi gian "),e.qZA(),e.TgZ(12,"input",9),e.NdJ("click",function(){e.CHM(o);const r=e.MAs(16);return e.KtG(r.open())})("ngModelChange",function(r){return n.dateRangeStr=r}),e.qZA(),e.TgZ(13,"div",10),e.YNc(14,ft,1,1,"cf-input-hint",11),e.qZA()(),e.TgZ(15,"input",12,13),e.NdJ("dateSelect",function(r){e.CHM(o);const h=e.MAs(16);return e.KtG(n.onDateSelection(r,n.startTime,n.endTime,h))}),e.qZA()(),e.TgZ(17,"button",14),e.NdJ("click",function(){return n.getTracingBalance()}),e._UZ(18,"cf-icon",15),e._uU(19," T\xecm ki\u1ebfm "),e.qZA()()(),e.TgZ(20,"div",16),e.YNc(21,Dt,114,33,"div",17),e.YNc(22,bt,12,0,"div",18),e.qZA()(),e.YNc(23,St,1,0,"cf-spinner",19)}2&t&&(e.xp6(8),e.Q6J("status",n.invalidTimeFilter?"error":"default"),e.xp6(4),e.Q6J("ngModel",n.dateRangeStr),e.xp6(2),e.Q6J("ngIf",n.invalidTimeFilter),e.xp6(1),e.Q6J("secondaryCalendar","lunar")("displayMonths",2)("rangeSelection",!0)("containerWidth",600)("startDate",n.startDate)("canReset",!1)("fromDate",n.startTime)("toDate",n.endTime),e.xp6(2),e.Q6J("disabled",n.invalidTimeFilter),e.xp6(4),e.Q6J("ngIf",!n.isEmpty),e.xp6(1),e.Q6J("ngIf",n.isEmpty),e.xp6(1),e.Q6J("ngIf",n.isLoading))},dependencies:[x.ez,x.mk,x.sg,x.O5,x.JJ,x.uU,b.u5,b.Fj,b.JJ,b.On,S.AxE,S.Sm8,I.N8,I.Xq,O.j$,O.ND,O.BN,O.v2,Z.Cs,L.rC,L.E_,L.zs,L.qS,ue.OR,_t.AS],encapsulation:2}),a})();function Ft(a,d){1&a&&e._UZ(0,"cf-input-hint",16),2&a&&e.Q6J("hint","Ch\u01b0a ch\u1ecdn ng\xe0y k\u1ebft th\xfac")}function Nt(a,d){1&a&&e._UZ(0,"cf-input-hint",16),2&a&&e.Q6J("hint","Ch\u1ec9 h\u1ed7 tr\u1ee3 xem th\xf4ng tin trong kho\u1ea3ng 1 n\u0103m tr\u1edf v\u1ec1 tr\u01b0\u1edbc")}function Et(a,d){1&a&&e._UZ(0,"cf-input-hint",16),2&a&&e.Q6J("hint","Ch\u1ec9 h\u1ed7 tr\u1ee3 xem th\xf4ng tin trong kho\u1ea3ng 1 n\u0103m tr\u1edf v\u1ec1 tr\u01b0\u1edbc")}function Mt(a,d){1&a&&e._UZ(0,"cf-input-hint",16),2&a&&e.Q6J("hint","Ng\xe0y ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/MM/yyyy")}function wt(a,d){if(1&a&&(e.TgZ(0,"th",38),e._uU(1),e.qZA()),2&a){const t=d.$implicit;e.xp6(1),e.Oqu(t)}}function kt(a,d){1&a&&(e.TgZ(0,"th",39),e._uU(1,"Ch\u1ee9c n\u0103ng"),e.qZA())}function qt(a,d){1&a&&e._UZ(0,"td",40),2&a&&e.Q6J("sticky","right")}function Pt(a,d){1&a&&(e.TgZ(0,"div",51),e._UZ(1,"cf-icon",52),e._uU(2," Ho\u1ea1t \u0111\u1ed9ng "),e.qZA())}function Ot(a,d){1&a&&(e.TgZ(0,"div",51),e._UZ(1,"cf-icon",53),e._uU(2," Ng\u01b0ng ho\u1ea1t \u0111\u1ed9ng "),e.qZA())}function Jt(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"td",54)(1,"div",55),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,i=e.oxw(2);return e.KtG(i.onTracing(o))}),e._uU(2," Tra so\xe1t"),e.qZA()()}2&a&&e.Q6J("sticky","right")}function Ut(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"tr",41)(1,"td",42),e._uU(2),e.qZA(),e.TgZ(3,"td",43),e._uU(4),e.qZA(),e.TgZ(5,"td",43)(6,"div",44),e.YNc(7,Pt,3,0,"div",45),e.YNc(8,Ot,3,0,"div",45),e.qZA()(),e.TgZ(9,"td",46),e._uU(10),e.ALo(11,"number"),e.qZA(),e.TgZ(12,"td",46),e._uU(13),e.ALo(14,"number"),e.qZA(),e.TgZ(15,"td",46),e._uU(16),e.ALo(17,"number"),e.qZA(),e.TgZ(18,"td",46),e._uU(19),e.ALo(20,"number"),e.qZA(),e.TgZ(21,"td",46),e._uU(22),e.ALo(23,"number"),e.qZA(),e.TgZ(24,"td",46),e._uU(25),e.ALo(26,"number"),e.qZA(),e.TgZ(27,"td",47)(28,"div",48),e._uU(29),e.qZA(),e.TgZ(30,"cf-icon",49),e.NdJ("click",function(){const i=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.onExpand(i.note))}),e.qZA()(),e.YNc(31,Jt,3,1,"td",50),e.qZA()}if(2&a){const t=d.$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("sticky","left"),e.xp6(1),e.hij(" ",t.username," "),e.xp6(2),e.hij(" ",t.agentName," "),e.xp6(3),e.Q6J("ngIf","ACTIVE"===t.agentState),e.xp6(1),e.Q6J("ngIf","BLOCK"===t.agentState),e.xp6(2),e.hij(" ",e.lcZ(11,13,t.balance||"0")," "),e.xp6(3),e.hij(" ",e.lcZ(14,15,t.negativeFundLimit||"")," "),e.xp6(3),e.hij(" ",e.lcZ(17,17,t.balance1||"0")," "),e.xp6(3),e.hij(" ",e.lcZ(20,19,t.balance2||"0")," "),e.xp6(3),e.hij(" ",e.lcZ(23,21,t.balance3||"0")," "),e.xp6(3),e.hij(" ",e.lcZ(26,23,t.balance4||"0")," "),e.xp6(4),e.hij(" ",t.note||""," "),e.xp6(2),e.Q6J("ngIf",n.isShowTracingBalance)}}const Lt=function(){return{num:25}},Qt=function(){return{num:50}},Kt=function(){return{num:75}},It=function(){return{num:100}},Bt=function(a,d,t,n){return[a,d,t,n]};function Ht(a,d){if(1&a){const t=e.EpF();e.TgZ(0,"div",17)(1,"div",18)(2,"div",19),e._uU(3,"C\xf4ng n\u1ee3 \u0111\u1ea1i l\xfd con"),e.qZA(),e.TgZ(4,"button",20),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(8),i=e.oxw();return e.KtG(i.exportExcel(o.data))}),e._UZ(5,"cf-icon",21),e._uU(6," Xu\u1ea5t excel "),e.qZA()(),e.TgZ(7,"cf-table",22,23)(9,"thead",24)(10,"th",25),e._uU(11,"M\xe3 \u0111\u1ea1i l\xfd"),e.qZA(),e.TgZ(12,"th",26),e._uU(13,"T\xean \u0111\u1ea1i l\xfd"),e.qZA(),e.TgZ(14,"th",26),e._uU(15,"Tr\u1ea1ng th\xe1i \u0111\u1ea1i l\xfd"),e.qZA(),e.TgZ(16,"th",27),e._uU(17,"C\xf4ng n\u1ee3 hi\u1ec7n t\u1ea1i"),e.qZA(),e.TgZ(18,"th",28),e._uU(19,"H\u1ea1n m\u1ee9c \xe2m qu\u1ef9"),e.qZA(),e.YNc(20,wt,2,1,"th",29),e.TgZ(21,"th",30),e._uU(22,"M\xf4 t\u1ea3 \u0111\u1ea1i l\xfd"),e.qZA(),e.YNc(23,kt,2,0,"th",31),e.qZA(),e.TgZ(24,"tbody")(25,"tr")(26,"td",32)(27,"cf-input-group",33)(28,"input",34),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.filterData.username=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.filterChange())}),e.qZA()()(),e.TgZ(29,"td",35)(30,"cf-input-group",33)(31,"input",34),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.filterData.agentName=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.filterChange())}),e.qZA()()(),e.TgZ(32,"td",35)(33,"cf-input-group",33)(34,"input",34),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.filterData.agentState=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.filterChange())}),e.qZA()()(),e.TgZ(35,"td",35)(36,"cf-input-group",33)(37,"input",34),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.filterData.balance=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.filterChange())}),e.qZA()()(),e.TgZ(38,"td",35)(39,"cf-input-group",33)(40,"input",34),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.filterData.negativeFundLimit=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.filterChange())}),e.qZA()()(),e.TgZ(41,"td",35)(42,"cf-input-group",33)(43,"input",34),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.filterData.balance1=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.filterChange())}),e.qZA()()(),e.TgZ(44,"td",35)(45,"cf-input-group",33)(46,"input",34),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.filterData.balance2=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.filterChange())}),e.qZA()()(),e.TgZ(47,"td",35)(48,"cf-input-group",33)(49,"input",34),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.filterData.balance3=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.filterChange())}),e.qZA()()(),e.TgZ(50,"td",35)(51,"cf-input-group",33)(52,"input",34),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.filterData.balance4=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.filterChange())}),e.qZA()()(),e.TgZ(53,"td",35)(54,"cf-input-group",33)(55,"input",34),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.filterData.balance5=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.filterChange())}),e.qZA()()(),e.TgZ(56,"td",35)(57,"cf-input-group",33)(58,"input",34),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.filterData.note=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.filterChange())}),e.qZA()()(),e.YNc(59,qt,1,1,"td",36),e.qZA(),e.YNc(60,Ut,32,25,"ng-template",37),e.qZA()()()}if(2&a){const t=e.MAs(8),n=e.oxw();e.xp6(7),e.Q6J("fnSort",n.sortChange)("fnSearch",n.searchChange)("pageSizeList",e.l5B(31,Bt,e.DdM(27,Lt),e.DdM(28,Qt),e.DdM(29,Kt),e.DdM(30,It)))("listData",n.listOfData)("pageSize",n.pageSize),e.xp6(3),e.Q6J("sticky","left")("sortName","username"),e.xp6(2),e.Q6J("sortName","agentName"),e.xp6(2),e.Q6J("sortName","agentState"),e.xp6(2),e.Q6J("sortName","balance"),e.xp6(2),e.Q6J("sortName","negativeFundLimit"),e.xp6(2),e.Q6J("ngForOf",n.balanceTitle),e.xp6(3),e.Q6J("ngIf",n.isShowTracingBalance),e.xp6(3),e.Q6J("sticky","left"),e.xp6(2),e.Q6J("ngModel",n.filterData.username),e.xp6(3),e.Q6J("ngModel",n.filterData.agentName),e.xp6(3),e.Q6J("ngModel",n.filterData.agentState),e.xp6(3),e.Q6J("ngModel",n.filterData.balance),e.xp6(3),e.Q6J("ngModel",n.filterData.negativeFundLimit),e.xp6(3),e.Q6J("ngModel",n.filterData.balance1),e.xp6(3),e.Q6J("ngModel",n.filterData.balance2),e.xp6(3),e.Q6J("ngModel",n.filterData.balance3),e.xp6(3),e.Q6J("ngModel",n.filterData.balance4),e.xp6(3),e.Q6J("ngModel",n.filterData.balance5),e.xp6(3),e.Q6J("ngModel",n.filterData.note),e.xp6(1),e.Q6J("ngIf",n.isShowTracingBalance),e.xp6(1),e.Q6J("ngForOf",t.partOfdata)}}function Gt(a,d){1&a&&(e.TgZ(0,"div",17)(1,"div",56)(2,"div"),e._UZ(3,"img",57),e.qZA(),e.TgZ(4,"div",58)(5,"div",59),e._uU(6,"Kh\xf4ng c\xf3 k\u1ebft qu\u1ea3"),e.qZA(),e.TgZ(7,"div",60)(8,"div"),e._uU(9,"Kh\xf4ng c\xf3 k\u1ebft qu\u1ea3 \u0111\u1ec3 hi\u1ec3n th\u1ecb"),e.qZA(),e.TgZ(10,"div"),e._uU(11,"Vui l\xf2ng th\u1eed l\u1ea1i sau ho\u1eb7c ki\u1ec3m tra l\u1ea1i t\xecm ki\u1ebfm."),e.qZA()()()()())}function Yt(a,d){if(1&a&&(e.TgZ(0,"div",61)(1,"div",62)(2,"div"),e._UZ(3,"img",63),e.qZA(),e.TgZ(4,"div",64)(5,"div",65),e._uU(6,"R\u1ea5t ti\u1ebfc, \u0111\xe3 c\xf3 l\u1ed7i x\u1ea3y ra"),e.qZA(),e.TgZ(7,"div",66)(8,"p"),e._uU(9,"\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra khi th\u1ef1c hi\u1ec7n h\xe0nh \u0111\u1ed9ng n\xe0y. Vui l\xf2ng ki\u1ec3m tra l\u1ea1i v\xe0 th\u1eed l\u1ea1i sau. "),e.qZA(),e.TgZ(10,"div"),e._uU(11),e.qZA()()()()()),2&a){const t=e.oxw();e.xp6(11),e.hij("(M\xe3 l\u1ed7i: ",t.errorCode,")")}}function jt(a,d){1&a&&e._UZ(0,"cf-spinner")}let Rt=(()=>{class a{constructor(t,n,o,i,r,h,y,c){this._excelService=n,this._statisticService=o,this._cfIconRegister=i,this._calendar=r,this._modal=h,this._permissionService=y,this._mobileDetectService=c,this.errorCode="",this.agentStateOption=[{name:"T\u1ea5t c\u1ea3",value:"ALL_STATE"},{name:"Ho\u1ea1t \u0111\u1ed9ng",value:"ACTIVE"},{name:"Ng\u1eebng ho\u1ea1t \u0111\u1ed9ng",value:"BLOCK"}],this.pageSize=25,this.currentPage=1,this.listOfData=[],this.dataSource=[],this.filterData={username:"",agentName:"",agentState:"",balance:"",negativeFundLimit:"",balance1:"",balance2:"",balance3:"",balance4:"",balance5:"",note:""},this.isLoading=!1,this.balanceTitle=["N/A","N/A","N/A","N/A"],this.numberOfDateTracing=2,this.isShowTracingBalance=this._permissionService.hasPermission(H.or.TracingBalance)&&!this._mobileDetectService.isMobile(),this.searchChange=(_,f)=>f,this.sortChange=(_,f)=>{let v=f.map(A=>A);for(let A=0;A<_.length;A++){const T=_[A];switch(T.key){case"username":v=this.stringSort(v,T,"username");break;case"agentName":v=this.stringSort(v,T,"agentName");break;case"agentState":v=this.stringSort(v,T,"agentState");break;case"balance":v=this.numberSort(v,T,"balance");break;case"negativeFundLimit":v=this.numberSort(v,T,"negativeFundLimit")}}return v},this.increaseAlphabetSort=(_,f)=>_<f?-1:_>f?1:0,this.decreaseAlphabetSort=(_,f)=>_>f?-1:_<f?1:0,this.increaseNumberSort=(_,f)=>_-f,this.decreaseNumberSort=(_,f)=>f-_,i.registerIcons([S.iYu,S.esH,S.PcQ,S.whL,S.Tdu]),this.searchForm=t.group({endDate:[new Date,b.kI.required],agentState:["ALL_STATE",b.kI.required]}),this.currentDate=r.getToday(),this.minDate=r.getPrev(this.currentDate,"y",1)}ngOnInit(){this.search()}search(){if(this.searchForm.valid){const t={endDate:(0,x.p6)(this.searchForm.controls.endDate.value,"dd/MM/yyyy","vi-VN"),agentState:this.searchForm.controls.agentState.value};this.isLoading=!0,this._statisticService.getStatisticOffEndDay(t).pipe((0,W.x)(()=>this.isLoading=!1)).subscribe({next:n=>{n.success?(this.state="SUCCESS",n.data.titleDateList.slice(0,n.data.titleDateList.length-1).forEach((i,r)=>{this.balanceTitle[r]=q(i,"DD/MM/YYYY").format("DD/MM")}),this.dataSource=n.data.detail.map(i=>({userId:i.userId,username:i.userName,agentName:i.displayName,agentState:i.agentState,agentStateStr:"ACTIVE"===i.agentState?"Ho\u1ea1t \u0111\u1ed9ng":"Ng\u01b0ng ho\u1ea1t \u0111\u1ed9ng",balance:i.currentAvailable,negativeFundLimit:i.maxNegative,balance1:i.endOfDateAvailable[0]?i.endOfDateAvailable[0]:void 0,balance2:i.endOfDateAvailable[1]?i.endOfDateAvailable[1]:void 0,balance3:i.endOfDateAvailable[2]?i.endOfDateAvailable[2]:void 0,balance4:i.endOfDateAvailable[3]?i.endOfDateAvailable[3]:void 0,balance5:i.endOfDateAvailable[4]?i.endOfDateAvailable[4]:void 0,note:i.agentDescription?i.agentDescription:""})),0===this.dataSource.length&&(this.state="EMPTY"),this.listOfData=this.dataSource.map(i=>i)):(this.state="ERROR",this.errorCode=n.errorCode)},error:n=>{this.state="ERROR"}})}this.searchForm.markAllAsTouched()}exportExcel(t){const n="thong_ke_"+(0,x.p6)(new Date,"yyyy-MM-dd","vi-VN"),o=["M\xe3 \u0111\u1ea1i l\xfd","T\xean \u0111\u1ea1i l\xfd","Tr\u1ea1ng th\xe1i \u0111\u1ea1i l\xfd","C\xf4ng n\u1ee3 hi\u1ec7n t\u1ea1i","H\u1ea1n m\u1ee9c \xe2m qu\u1ef9"];o.push(...this.balanceTitle),o.push("M\xf4 t\u1ea3 \u0111\u1ea1i l\xfd"),this._excelService.exportToExcel(t.map(i=>({username:i.username,agentName:i.agentName,agentState:i.agentState,balance:i.balance,negativeFundLimit:i.negativeFundLimit,balance1:i.balance1||"0",balance2:i.balance2||"0",balance3:i.balance3||"0",balance4:i.balance4||"0",balance5:i.balance5||"0",note:i.note})),o,n,[{wch:20},{wch:20},{wch:20},{wch:20},{wch:20},{wch:20},{wch:20},{wch:20},{wch:20},{wch:20},{wch:20}])}onExpand(t){this._modal.open(de.G,{description:t,title:"M\xf4 t\u1ea3 \u0111\u1ea1i l\xfd"})}filterChange(){this.listOfData=this.dataSource.filter(t=>{const n=this.removeAccents(this.filterData.username.toLowerCase());if(!this.removeAccents(t.username.toLowerCase()).includes(n))return!1;const i=this.removeAccents(this.filterData.agentName.toLowerCase());if(!this.removeAccents(t.agentName.toLowerCase()).includes(i))return!1;const h=this.removeAccents(this.filterData.agentState.toLowerCase());if(!this.removeAccents(t.agentStateStr.toLowerCase()).includes(h))return!1;const c=this.removeAccents(this.filterData.balance.toLowerCase());if(c&&!this.removeAccents(t.balance.toString().toLowerCase()).includes(c))return!1;const _=this.removeAccents(this.filterData.negativeFundLimit.toLowerCase());if(_&&!this.removeAccents(t.negativeFundLimit.toString().toLowerCase()).includes(_))return!1;const f=this.removeAccents(this.filterData.balance1.toLowerCase());if(f&&!this.removeAccents(t.balance1.toString().toLowerCase()).includes(f))return!1;const v=this.removeAccents(this.filterData.balance2.toLowerCase());if(v&&!this.removeAccents(t.balance2.toString().toLowerCase()).includes(v))return!1;const A=this.removeAccents(this.filterData.balance3.toLowerCase());if(A&&!this.removeAccents(t.balance3.toString().toLowerCase()).includes(A))return!1;const T=this.removeAccents(this.filterData.balance4.toLowerCase());if(T&&!this.removeAccents(t.balance4.toString().toLowerCase()).includes(T))return!1;const M=this.removeAccents(this.filterData.balance5.toLowerCase());if(M&&!this.removeAccents(t.balance5.toString().toLowerCase()).includes(M))return!1;const P=this.removeAccents(this.filterData.note.toLowerCase());return!!this.removeAccents(t.note.toLowerCase()).includes(P)})}removeAccents(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\u0111/g,"d").replace(/\u0110/g,"D")}stringSort(t,n,o){return t.sort("ascend"===n.sort?(i,r)=>this.increaseAlphabetSort(i[o],r[o]):(i,r)=>this.decreaseAlphabetSort(i[o],r[o]))}numberSort(t,n,o){return t.sort("ascend"===n.sort?(i,r)=>this.increaseNumberSort(i[o],r[o]):(i,r)=>this.decreaseNumberSort(i[o],r[o]))}onTracing(t){const n=this.searchForm.controls.endDate.value,o=new Date(n);o.setDate(o.getDate()-this.numberOfDateTracing),this._modal.open(yt,{agentInfo:{userId:t.userId,username:t.username},startTime:o,endTime:n})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(b.qu),e.Y36(me.x),e.Y36(Ce),e.Y36(S.KNP),e.Y36(Z.jH),e.Y36(z.oE),e.Y36(H.$A),e.Y36(Ze.L))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-statistic-end-of-day-page"]],standalone:!0,features:[e.jDz],decls:24,vars:18,consts:[[1,"flex","flex-col","py-4","px-[30px]","w-full","md:py-3","md:pl-4","md:pr-0","bg-neutral-white"],[1,"flex","gap-x-[17px]","md:flex-col"],[1,"flex","grow","gap-x-4","items-start"],[1,"w-[260px]","md:flex-grow-0","md:w-full",3,"status"],["cfHeadIcon","","icon","calendar","size","small"],["cfLabel",""],["cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Ch\u1ecdn ng\xe0y k\u1ebft th\xfac",1,"py-[7px]",3,"cfTooltip","placement","maxDate","minDate","displayMonths","formControl","input"],["dateFrom","cfDatepicker"],["cfHint","",3,"hint",4,"ngIf"],["textField","name","valueField","value","size","medium",1,"w-[180px]",3,"formControl","data","allowSearch"],["cf-button","","type","secondary",1,"mt-7",3,"click"],["icon","search",1,"mr-2"],[1,"py-4","px-[30px]","rounded-lg"],["class","bg-neutral-white rounded-lg shadow-cf-md",4,"ngIf"],["class","w-full h-full",4,"ngIf"],[4,"ngIf"],["cfHint","",3,"hint"],[1,"bg-neutral-white","rounded-lg","shadow-cf-md"],[1,"p-4","flex","justify-between","items-center"],[1,"text-heading-sm"],["cf-button","","type","secondary",3,"click"],["icon","export",1,"mr-2"],[1,"",3,"fnSort","fnSearch","pageSizeList","listData","pageSize"],["managerTable",""],["cf-thead",""],["cf-th","",1,"whitespace-nowrap",3,"sticky","sortName"],["cf-th","",1,"whitespace-nowrap",3,"sortName"],["cf-th","",1,"whitespace-nowrap","!text-right",3,"sortName"],["cf-th","",1,"whitespace-nowrap","text-right",3,"sortName"],["cf-th","","class","whitespace-nowrap text-right",4,"ngFor","ngForOf"],["cf-th","",1,"whitespace-nowrap"],["cf-th","","sticky","right","class","whitespace-nowrap",4,"ngIf"],["cf-td","",1,"py-2","px-1","!bg-neutral-white",3,"sticky"],[1,"grow","!w-auto"],["type","text","size","medium","cf-input","","placeholder","L\u1ecdc",3,"ngModel","ngModelChange","input"],["cf-td","",1,"py-2","px-1","!bg-neutral-white"],["cf-td","",3,"sticky",4,"ngIf"],["ngFor","",3,"ngForOf"],["cf-th","",1,"whitespace-nowrap","text-right"],["cf-th","","sticky","right",1,"whitespace-nowrap"],["cf-td","",3,"sticky"],[1,"border-b","border-neutral-gray-1"],["cf-td","",1,"py-2","px-3","text-body-sm","whitespace-nowrap",3,"sticky"],[1,"py-2","px-3","text-body-sm","whitespace-nowrap"],[1,"rounded","py-1","px-3","border","border-neutral-gray-2"],["class","text-body-md flex items-center",4,"ngIf"],[1,"py-2","px-3","text-body-sm","whitespace-nowrap","text-right"],[1,"py-2","px-3","text-body-sm","group","relative"],[1,"w-full","line-clamp-1"],["icon","expand","size","small",1,"group-hover:block","hidden","text-body-sm","absolute","right-0","top-0","cursor-pointer",3,"click"],["cf-td","","class","py-2 px-3",3,"sticky",4,"ngIf"],[1,"text-body-md","flex","items-center"],["icon","circle_check","size","small",1,"text-secondary-1-4","mr-2.5"],["icon","circle_remove","size","small",1,"mr-2.5"],["cf-td","",1,"py-2","px-3",3,"sticky"],[1,"text-espressive-sm","text-secondary-3-4","cursor-pointer","whitespace-nowrap",3,"click"],[1,"flex","flex-col","gap-y-3","justify-center","items-center","py-[120px]"],["src","assets/images/empty-result.svg","alt",""],[1,"flex","flex-col","gap-y-2","items-center"],[1,"text-heading-md"],[1,"text-body-md-short","text-center"],[1,"w-full","h-full"],[1,"py-[120px]","shadow-cf-info-card","bg-neutral-white","rounded-lg","flex","flex-col","items-center","gap-y-3"],["src","assets/images/error.svg","alt",""],[1,"text-center","flex","flex-col","gap-y-2"],[1,"text-heading-lg"],[1,"text-body-md-short"]],template:function(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"cf-input-group",3),e._UZ(4,"cf-icon",4),e.TgZ(5,"label",5),e._uU(6,"Ng\xe0y k\u1ebft th\xfac"),e.qZA(),e.TgZ(7,"input",6,7),e.NdJ("input",function(){e.CHM(o);const r=e.MAs(8);return e.KtG(r.close())}),e.qZA(),e.YNc(9,Ft,1,1,"cf-input-hint",8),e.YNc(10,Nt,1,1,"cf-input-hint",8),e.YNc(11,Et,1,1,"cf-input-hint",8),e.YNc(12,Mt,1,1,"cf-input-hint",8),e.qZA(),e.TgZ(13,"cf-select",9)(14,"label",5),e._uU(15,"Tr\u1ea1ng th\xe1i \u0111\u1ea1i l\xfd"),e.qZA()(),e.TgZ(16,"button",10),e.NdJ("click",function(){return n.search()}),e._UZ(17,"cf-icon",11),e._uU(18," T\xecm ki\u1ebfm "),e.qZA()()()(),e.TgZ(19,"div",12),e.YNc(20,Ht,61,36,"div",13),e.YNc(21,Gt,12,0,"div",13),e.YNc(22,Yt,12,1,"div",14),e.qZA(),e.YNc(23,jt,1,0,"cf-spinner",15)}2&t&&(e.xp6(3),e.Q6J("status",n.searchForm.controls.endDate.invalid&&(n.searchForm.controls.endDate.dirty||n.searchForm.controls.endDate.touched)?"error":"default"),e.xp6(4),e.Q6J("cfTooltip","Th\u1ed1ng k\xea 5 ng\xe0y k\u1ec3 t\u1eeb ng\xe0y n\xe0y tr\u1edf v\u1ec1 tr\u01b0\u1edbc")("placement","bottom")("maxDate",n.currentDate)("minDate",n.minDate)("displayMonths",1)("formControl",n.searchForm.controls.endDate),e.xp6(2),e.Q6J("ngIf",(null==n.searchForm.controls.endDate.errors?null:n.searchForm.controls.endDate.errors.required)&&(n.searchForm.controls.endDate.dirty||n.searchForm.controls.endDate.touched)),e.xp6(1),e.Q6J("ngIf",(null==n.searchForm.controls.endDate.errors||null==n.searchForm.controls.endDate.errors.ngbDate?null:n.searchForm.controls.endDate.errors.ngbDate.minDate)&&(n.searchForm.controls.endDate.dirty||n.searchForm.controls.endDate.touched)),e.xp6(1),e.Q6J("ngIf",(null==n.searchForm.controls.endDate.errors||null==n.searchForm.controls.endDate.errors.ngbDate?null:n.searchForm.controls.endDate.errors.ngbDate.maxDate)&&(n.searchForm.controls.endDate.dirty||n.searchForm.controls.endDate.touched)),e.xp6(1),e.Q6J("ngIf",(null==n.searchForm.controls.endDate.errors||null==n.searchForm.controls.endDate.errors.ngbDate?null:n.searchForm.controls.endDate.errors.ngbDate.invalid)&&(n.searchForm.controls.endDate.dirty||n.searchForm.controls.endDate.touched)),e.xp6(1),e.Q6J("formControl",n.searchForm.controls.agentState)("data",n.agentStateOption)("allowSearch",!1),e.xp6(7),e.Q6J("ngIf","SUCCESS"===n.state),e.xp6(1),e.Q6J("ngIf","EMPTY"===n.state),e.xp6(1),e.Q6J("ngIf","ERROR"===n.state),e.xp6(1),e.Q6J("ngIf",n.isLoading))},dependencies:[se.q,b.u5,b.Fj,b.JJ,b.On,b.UX,b.oH,O.j$,O.ND,O.BN,O.v2,x.ez,x.sg,x.O5,x.JJ,S.AxE,S.Sm8,Z.Cs,I.N8,I.Xq,L.rC,L.E_,L.qS,L.zs,ge.Rq,ue.OR,V.DW,gt.Lk],encapsulation:2}),a})()}}]);